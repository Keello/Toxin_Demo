/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	function webpackJsonpCallback(data) {
/******/ 		var chunkIds = data[0];
/******/ 		var moreModules = data[1];
/******/ 		var executeModules = data[2];
/******/
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [];
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			}
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(data);
/******/
/******/ 		while(resolves.length) {
/******/ 			resolves.shift()();
/******/ 		}
/******/
/******/ 		// add entry modules from loaded chunk to deferred list
/******/ 		deferredModules.push.apply(deferredModules, executeModules || []);
/******/
/******/ 		// run deferred modules when all chunks ready
/******/ 		return checkDeferredModules();
/******/ 	};
/******/ 	function checkDeferredModules() {
/******/ 		var result;
/******/ 		for(var i = 0; i < deferredModules.length; i++) {
/******/ 			var deferredModule = deferredModules[i];
/******/ 			var fulfilled = true;
/******/ 			for(var j = 1; j < deferredModule.length; j++) {
/******/ 				var depId = deferredModule[j];
/******/ 				if(installedChunks[depId] !== 0) fulfilled = false;
/******/ 			}
/******/ 			if(fulfilled) {
/******/ 				deferredModules.splice(i--, 1);
/******/ 				result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 			}
/******/ 		}
/******/
/******/ 		return result;
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// object to store loaded and loading chunks
/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 	// Promise = chunk loading, 0 = chunk loaded
/******/ 	var installedChunks = {
/******/ 		"index": 0
/******/ 	};
/******/
/******/ 	var deferredModules = [];
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	var jsonpArray = window["webpackJsonp"] = window["webpackJsonp"] || [];
/******/ 	var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);
/******/ 	jsonpArray.push = webpackJsonpCallback;
/******/ 	jsonpArray = jsonpArray.slice();
/******/ 	for(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);
/******/ 	var parentJsonpFunction = oldJsonpFunction;
/******/
/******/
/******/ 	// add entry module to deferred list
/******/ 	deferredModules.push(["./index.js","vendors~index"]);
/******/ 	// run deferred modules when ready
/******/ 	return checkDeferredModules();
/******/ })
/************************************************************************/
/******/ ({

/***/ "./blocks/burger/burger.js":
/*!*********************************!*\
  !*** ./blocks/burger/burger.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var burger = document.querySelector('.burger');\nvar menu = document.querySelector('.menu');\n\nif (burger) {\n  burger.addEventListener('click', function () {\n    menu.classList.toggle('active');\n    burger.classList.toggle('active');\n    document.body.classList.toggle('lock');\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ibG9ja3MvYnVyZ2VyL2J1cmdlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2Jsb2Nrcy9idXJnZXIvYnVyZ2VyLmpzPzk1MzgiXSwic291cmNlc0NvbnRlbnQiOlsibGV0IGJ1cmdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXJnZXInKTtcclxubGV0IG1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVudScpO1xyXG5pZihidXJnZXIpe1xyXG4gIGJ1cmdlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XHJcbiAgICBtZW51LmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xyXG4gICAgYnVyZ2VyLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xyXG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdsb2NrJyk7XHJcbiAgfSk7XHJcbn0iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./blocks/burger/burger.js\n");

/***/ }),

/***/ "./blocks/calendar/datepicker.js":
/*!***************************************!*\
  !*** ./blocks/calendar/datepicker.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(jQuery) {function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n(function (window, $, undefined) {\n  ;\n\n  (function () {\n    var VERSION = '2.2.3',\n        pluginName = 'datepicker',\n        autoInitSelector = '.datepicker-here',\n        $body,\n        $datepickersContainer,\n        containerBuilt = false,\n        baseTemplate = '' + '<div class=\"datepicker\">' + '<i class=\"datepicker--pointer\"></i>' + '<nav class=\"datepicker--nav\"></nav>' + '<div class=\"datepicker--content\"></div>' + '</div>',\n        defaults = {\n      classes: '',\n      inline: false,\n      language: 'ru',\n      startDate: new Date(),\n      firstDay: '',\n      weekends: [6, 0],\n      dateFormat: '',\n      altField: '',\n      altFieldDateFormat: '@',\n      toggleSelected: true,\n      keyboardNav: true,\n      confirmButton: true,\n      clearButton: true,\n      position: 'bottom left',\n      offset: 12,\n      view: 'days',\n      minView: 'days',\n      showOtherMonths: true,\n      selectOtherMonths: true,\n      moveToOtherMonthsOnSelect: true,\n      showOtherYears: true,\n      selectOtherYears: true,\n      moveToOtherYearsOnSelect: true,\n      minDate: '',\n      maxDate: '',\n      disableNavWhenOutOfRange: true,\n      multipleDates: false,\n      // Boolean or Number\n      multipleDatesSeparator: ',',\n      range: false,\n      showEvent: 'focus',\n      autoClose: false,\n      // navigation\n      monthsField: 'monthsShort',\n      prevHtml: '<svg><use xlink:href=\"#icon-arrow_back\"></use></svg>',\n      nextHtml: '<svg><use xlink:href=\"#icon-arrow_forward\"></svg>',\n      navTitles: {\n        days: 'MM <i>yyyy</i>',\n        months: 'yyyy',\n        years: 'yyyy1 - yyyy2'\n      },\n      // timepicker\n      timepicker: false,\n      onlyTimepicker: false,\n      dateTimeSeparator: ' ',\n      timeFormat: '',\n      minHours: 0,\n      maxHours: 24,\n      minMinutes: 0,\n      maxMinutes: 59,\n      hoursStep: 1,\n      minutesStep: 1,\n      // events\n      onSelect: '',\n      onShow: '',\n      onHide: '',\n      onChangeMonth: '',\n      onChangeYear: '',\n      onChangeDecade: '',\n      onChangeView: '',\n      onRenderCell: ''\n    },\n        hotKeys = {\n      'ctrlRight': [17, 39],\n      'ctrlUp': [17, 38],\n      'ctrlLeft': [17, 37],\n      'ctrlDown': [17, 40],\n      'shiftRight': [16, 39],\n      'shiftUp': [16, 38],\n      'shiftLeft': [16, 37],\n      'shiftDown': [16, 40],\n      'altUp': [18, 38],\n      'altRight': [18, 39],\n      'altLeft': [18, 37],\n      'altDown': [18, 40],\n      'ctrlShiftUp': [16, 17, 38]\n    },\n        datepicker;\n\n    var Datepicker = function Datepicker(el, options) {\n      this.el = el;\n      this.$el = $(el);\n      this.opts = $.extend(true, {}, defaults, options, this.$el.data());\n\n      if ($body == undefined) {\n        $body = $('body');\n      }\n\n      if (!this.opts.startDate) {\n        this.opts.startDate = new Date();\n      }\n\n      if (this.el.nodeName == 'INPUT') {\n        this.elIsInput = true;\n      }\n\n      if (this.opts.altField) {\n        this.$altField = typeof this.opts.altField == 'string' ? $(this.opts.altField) : this.opts.altField;\n      }\n\n      this.inited = false;\n      this.visible = false;\n      this.silent = false; // Need to prevent unnecessary rendering\n\n      this.currentDate = this.opts.startDate;\n      this.currentView = this.opts.view;\n\n      this._createShortCuts();\n\n      this.selectedDates = [];\n      this.views = {};\n      this.keys = [];\n      this.minRange = '';\n      this.maxRange = '';\n      this._prevOnSelectValue = '';\n      this.init();\n    };\n\n    datepicker = Datepicker;\n    datepicker.prototype = {\n      VERSION: VERSION,\n      viewIndexes: ['days', 'months', 'years'],\n      init: function init() {\n        if (!containerBuilt && !this.opts.inline && this.elIsInput) {\n          this._buildDatepickersContainer();\n        }\n\n        this._buildBaseHtml();\n\n        this._defineLocale(this.opts.language);\n\n        this._syncWithMinMaxDates();\n\n        if (this.elIsInput) {\n          if (!this.opts.inline) {\n            // Set extra classes for proper transitions\n            this._setPositionClasses(this.opts.position);\n\n            this._bindEvents();\n          }\n\n          if (this.opts.keyboardNav && !this.opts.onlyTimepicker) {\n            this._bindKeyboardEvents();\n          }\n\n          this.$datepicker.on('mousedown', this._onMouseDownDatepicker.bind(this));\n          this.$datepicker.on('mouseup', this._onMouseUpDatepicker.bind(this));\n        }\n\n        if (this.opts.classes) {\n          this.$datepicker.addClass(this.opts.classes);\n        }\n\n        if (this.opts.timepicker) {\n          this.timepicker = new $.fn.datepicker.Timepicker(this, this.opts);\n\n          this._bindTimepickerEvents();\n        }\n\n        if (this.opts.onlyTimepicker) {\n          this.$datepicker.addClass('-only-timepicker-');\n        }\n\n        this.views[this.currentView] = new $.fn.datepicker.Body(this, this.currentView, this.opts);\n        this.views[this.currentView].show();\n        this.nav = new $.fn.datepicker.Navigation(this, this.opts);\n        this.view = this.currentView;\n        this.$el.on('clickCell.adp', this._onClickCell.bind(this));\n        this.$datepicker.on('mouseenter', '.datepicker--cell', this._onMouseEnterCell.bind(this));\n        this.$datepicker.on('mouseleave', '.datepicker--cell', this._onMouseLeaveCell.bind(this));\n        this.inited = true;\n      },\n      _createShortCuts: function _createShortCuts() {\n        this.minDate = this.opts.minDate ? this.opts.minDate : new Date(-8639999913600000);\n        this.maxDate = this.opts.maxDate ? this.opts.maxDate : new Date(8639999913600000);\n      },\n      _bindEvents: function _bindEvents() {\n        this.$el.on(this.opts.showEvent + '.adp', this._onShowEvent.bind(this));\n        this.$el.on('mouseup.adp', this._onMouseUpEl.bind(this));\n        this.$el.on('blur.adp', this._onBlur.bind(this));\n        this.$el.on('keyup.adp', this._onKeyUpGeneral.bind(this));\n        $(window).on('resize.adp', this._onResize.bind(this));\n        $('body').on('mouseup.adp', this._onMouseUpBody.bind(this));\n      },\n      _bindKeyboardEvents: function _bindKeyboardEvents() {\n        this.$el.on('keydown.adp', this._onKeyDown.bind(this));\n        this.$el.on('keyup.adp', this._onKeyUp.bind(this));\n        this.$el.on('hotKey.adp', this._onHotKey.bind(this));\n      },\n      _bindTimepickerEvents: function _bindTimepickerEvents() {\n        this.$el.on('timeChange.adp', this._onTimeChange.bind(this));\n      },\n      isWeekend: function isWeekend(day) {\n        return this.opts.weekends.indexOf(day) !== -1;\n      },\n      _defineLocale: function _defineLocale(lang) {\n        if (typeof lang == 'string') {\n          this.loc = $.fn.datepicker.language[lang];\n\n          if (!this.loc) {\n            console.warn('Can\\'t find language \"' + lang + '\" in Datepicker.language, will use \"ru\" instead');\n            this.loc = $.extend(true, {}, $.fn.datepicker.language.ru);\n          }\n\n          this.loc = $.extend(true, {}, $.fn.datepicker.language.ru, $.fn.datepicker.language[lang]);\n        } else {\n          this.loc = $.extend(true, {}, $.fn.datepicker.language.ru, lang);\n        }\n\n        if (this.opts.dateFormat) {\n          this.loc.dateFormat = this.opts.dateFormat;\n        }\n\n        if (this.opts.timeFormat) {\n          this.loc.timeFormat = this.opts.timeFormat;\n        }\n\n        if (this.opts.firstDay !== '') {\n          this.loc.firstDay = this.opts.firstDay;\n        }\n\n        if (this.opts.timepicker) {\n          this.loc.dateFormat = [this.loc.dateFormat, this.loc.timeFormat].join(this.opts.dateTimeSeparator);\n        }\n\n        if (this.opts.onlyTimepicker) {\n          this.loc.dateFormat = this.loc.timeFormat;\n        }\n\n        var boundary = this._getWordBoundaryRegExp;\n\n        if (this.loc.timeFormat.match(boundary('aa')) || this.loc.timeFormat.match(boundary('AA'))) {\n          this.ampm = true;\n        }\n      },\n      _buildDatepickersContainer: function _buildDatepickersContainer() {\n        containerBuilt = true;\n        $body.append('<div class=\"datepickers-container\" id=\"datepickers-container\"></div>');\n        $datepickersContainer = $('#datepickers-container');\n      },\n      _buildBaseHtml: function _buildBaseHtml() {\n        var $appendTarget,\n            $inline = $('<div class=\"datepicker-inline\">');\n\n        if (this.el.nodeName == 'INPUT') {\n          if (!this.opts.inline) {\n            $appendTarget = $datepickersContainer;\n          } else {\n            $appendTarget = $inline.insertAfter(this.$el);\n          }\n        } else {\n          $appendTarget = $inline.appendTo(this.$el);\n        }\n\n        this.$datepicker = $(baseTemplate).appendTo($appendTarget);\n        this.$content = $('.datepicker--content', this.$datepicker);\n        this.$nav = $('.datepicker--nav', this.$datepicker);\n      },\n      _triggerOnChange: function _triggerOnChange() {\n        if (!this.selectedDates.length) {\n          // Prevent from triggering multiple onSelect callback with same argument (empty string) in IE10-11\n          if (this._prevOnSelectValue === '') return;\n          this._prevOnSelectValue = '';\n          return this.opts.onSelect('', '', this);\n        }\n\n        var selectedDates = this.selectedDates,\n            parsedSelected = datepicker.getParsedDate(selectedDates[0]),\n            formattedDates,\n            _this = this,\n            dates = new Date(parsedSelected.year, parsedSelected.month, parsedSelected.date, parsedSelected.hours, parsedSelected.minutes);\n\n        formattedDates = selectedDates.map(function (date) {\n          return _this.formatDate(_this.loc.dateFormat, date);\n        }).join(this.opts.multipleDatesSeparator); // Create new dates array, to separate it from original selectedDates\n\n        if (this.opts.multipleDates || this.opts.range) {\n          dates = selectedDates.map(function (date) {\n            var parsedDate = datepicker.getParsedDate(date);\n            return new Date(parsedDate.year, parsedDate.month, parsedDate.date, parsedDate.hours, parsedDate.minutes);\n          });\n        }\n\n        this._prevOnSelectValue = formattedDates;\n        this.opts.onSelect(formattedDates, dates, this);\n      },\n      next: function next() {\n        var d = this.parsedDate,\n            o = this.opts;\n\n        switch (this.view) {\n          case 'days':\n            this.date = new Date(d.year, d.month + 1, 1);\n            if (o.onChangeMonth) o.onChangeMonth(this.parsedDate.month, this.parsedDate.year);\n            break;\n\n          case 'months':\n            this.date = new Date(d.year + 1, d.month, 1);\n            if (o.onChangeYear) o.onChangeYear(this.parsedDate.year);\n            break;\n\n          case 'years':\n            this.date = new Date(d.year + 10, 0, 1);\n            if (o.onChangeDecade) o.onChangeDecade(this.curDecade);\n            break;\n        }\n      },\n      prev: function prev() {\n        var d = this.parsedDate,\n            o = this.opts;\n\n        switch (this.view) {\n          case 'days':\n            this.date = new Date(d.year, d.month - 1, 1);\n            if (o.onChangeMonth) o.onChangeMonth(this.parsedDate.month, this.parsedDate.year);\n            break;\n\n          case 'months':\n            this.date = new Date(d.year - 1, d.month, 1);\n            if (o.onChangeYear) o.onChangeYear(this.parsedDate.year);\n            break;\n\n          case 'years':\n            this.date = new Date(d.year - 10, 0, 1);\n            if (o.onChangeDecade) o.onChangeDecade(this.curDecade);\n            break;\n        }\n      },\n      formatDate: function formatDate(string, date) {\n        date = date || this.date;\n        var result = string,\n            boundary = this._getWordBoundaryRegExp,\n            locale = this.loc,\n            leadingZero = datepicker.getLeadingZeroNum,\n            decade = datepicker.getDecade(date),\n            d = datepicker.getParsedDate(date),\n            fullHours = d.fullHours,\n            hours = d.hours,\n            ampm = string.match(boundary('aa')) || string.match(boundary('AA')),\n            dayPeriod = 'am',\n            replacer = this._replacer,\n            validHours;\n\n        if (this.opts.timepicker && this.timepicker && ampm) {\n          validHours = this.timepicker._getValidHoursFromDate(date, ampm);\n          fullHours = leadingZero(validHours.hours);\n          hours = validHours.hours;\n          dayPeriod = validHours.dayPeriod;\n        }\n\n        switch (true) {\n          case /@/.test(result):\n            result = result.replace(/@/, date.getTime());\n\n          case /aa/.test(result):\n            result = replacer(result, boundary('aa'), dayPeriod);\n\n          case /AA/.test(result):\n            result = replacer(result, boundary('AA'), dayPeriod.toUpperCase());\n\n          case /dd/.test(result):\n            result = replacer(result, boundary('dd'), d.fullDate);\n\n          case /d/.test(result):\n            result = replacer(result, boundary('d'), d.date);\n\n          case /DD/.test(result):\n            result = replacer(result, boundary('DD'), locale.days[d.day]);\n\n          case /D/.test(result):\n            result = replacer(result, boundary('D'), locale.daysShort[d.day]);\n\n          case /mm/.test(result):\n            result = replacer(result, boundary('mm'), d.fullMonth);\n\n          case /m/.test(result):\n            result = replacer(result, boundary('m'), d.month + 1);\n\n          case /MM/.test(result):\n            result = replacer(result, boundary('MM'), this.loc.months[d.month]);\n\n          case /M/.test(result):\n            result = replacer(result, boundary('M'), locale.monthsShort[d.month]);\n\n          case /ii/.test(result):\n            result = replacer(result, boundary('ii'), d.fullMinutes);\n\n          case /i/.test(result):\n            result = replacer(result, boundary('i'), d.minutes);\n\n          case /hh/.test(result):\n            result = replacer(result, boundary('hh'), fullHours);\n\n          case /h/.test(result):\n            result = replacer(result, boundary('h'), hours);\n\n          case /yyyy/.test(result):\n            result = replacer(result, boundary('yyyy'), d.year);\n\n          case /yyyy1/.test(result):\n            result = replacer(result, boundary('yyyy1'), decade[0]);\n\n          case /yyyy2/.test(result):\n            result = replacer(result, boundary('yyyy2'), decade[1]);\n\n          case /yy/.test(result):\n            result = replacer(result, boundary('yy'), d.year.toString().slice(-2));\n        }\n\n        return result;\n      },\n      _replacer: function _replacer(str, reg, data) {\n        return str.replace(reg, function (match, p1, p2, p3) {\n          return p1 + data + p3;\n        });\n      },\n      _getWordBoundaryRegExp: function _getWordBoundaryRegExp(sign) {\n        var symbols = '\\\\s|\\\\.|-|/|\\\\\\\\|,|\\\\$|\\\\!|\\\\?|:|;';\n        return new RegExp('(^|>|' + symbols + ')(' + sign + ')($|<|' + symbols + ')', 'g');\n      },\n      selectDate: function selectDate(date) {\n        var _this = this,\n            opts = _this.opts,\n            d = _this.parsedDate,\n            selectedDates = _this.selectedDates,\n            len = selectedDates.length,\n            newDate = '';\n\n        if (Array.isArray(date)) {\n          date.forEach(function (d) {\n            _this.selectDate(d);\n          });\n          return;\n        }\n\n        if (!(date instanceof Date)) return;\n        this.lastSelectedDate = date; // Set new time values from Date\n\n        if (this.timepicker) {\n          this.timepicker._setTime(date);\n        } // On this step timepicker will set valid values in it's instance\n\n\n        _this._trigger('selectDate', date); // Set correct time values after timepicker's validation\n        // Prevent from setting hours or minutes which values are lesser then `min` value or\n        // greater then `max` value\n\n\n        if (this.timepicker) {\n          date.setHours(this.timepicker.hours);\n          date.setMinutes(this.timepicker.minutes);\n        }\n\n        if (_this.view == 'days') {\n          if (date.getMonth() != d.month && opts.moveToOtherMonthsOnSelect) {\n            newDate = new Date(date.getFullYear(), date.getMonth(), 1);\n          }\n        }\n\n        if (_this.view == 'years') {\n          if (date.getFullYear() != d.year && opts.moveToOtherYearsOnSelect) {\n            newDate = new Date(date.getFullYear(), 0, 1);\n          }\n        }\n\n        if (newDate) {\n          _this.silent = true;\n          _this.date = newDate;\n          _this.silent = false;\n\n          _this.nav._render();\n        }\n\n        if (opts.multipleDates && !opts.range) {\n          // Set priority to range functionality\n          if (len === opts.multipleDates) return;\n\n          if (!_this._isSelected(date)) {\n            _this.selectedDates.push(date);\n          }\n        } else if (opts.range) {\n          if (len == 2) {\n            _this.selectedDates = [date];\n            _this.minRange = date;\n            _this.maxRange = '';\n          } else if (len == 1) {\n            _this.selectedDates.push(date);\n\n            if (!_this.maxRange) {\n              _this.maxRange = date;\n            } else {\n              _this.minRange = date;\n            } // Swap dates if they were selected via dp.selectDate() and second date was smaller then first\n\n\n            if (datepicker.bigger(_this.maxRange, _this.minRange)) {\n              _this.maxRange = _this.minRange;\n              _this.minRange = date;\n            }\n\n            _this.selectedDates = [_this.minRange, _this.maxRange];\n          } else {\n            _this.selectedDates = [date];\n            _this.minRange = date;\n          }\n        } else {\n          _this.selectedDates = [date];\n        }\n\n        _this._setInputValue();\n\n        if (opts.onSelect) {\n          _this._triggerOnChange();\n        }\n\n        if (opts.autoClose && !this.timepickerIsActive) {\n          if (!opts.multipleDates && !opts.range) {\n            _this.hide();\n          } else if (opts.range && _this.selectedDates.length == 2) {\n            _this.hide();\n          }\n        }\n\n        _this.views[this.currentView]._render();\n      },\n      removeDate: function removeDate(date) {\n        var selected = this.selectedDates,\n            _this = this;\n\n        if (!(date instanceof Date)) return;\n        return selected.some(function (curDate, i) {\n          if (datepicker.isSame(curDate, date)) {\n            selected.splice(i, 1);\n\n            if (!_this.selectedDates.length) {\n              _this.minRange = '';\n              _this.maxRange = '';\n              _this.lastSelectedDate = '';\n            } else {\n              _this.lastSelectedDate = _this.selectedDates[_this.selectedDates.length - 1];\n            }\n\n            _this.views[_this.currentView]._render();\n\n            _this._setInputValue();\n\n            if (_this.opts.onSelect) {\n              _this._triggerOnChange();\n            }\n\n            return true;\n          }\n        });\n      },\n      confirm: function confirm() {\n        /*this.silent = true;\n        this.view = this.opts.minView;\n        this.silent = false;\n        this.date = new Date();\n         if (this.opts.confirmButton instanceof Date) {\n            this.selectDate(this.opts.confirmButton)\n        }*/\n      },\n      clear: function clear() {\n        this.selectedDates = [];\n        this.minRange = '';\n        this.maxRange = '';\n\n        this.views[this.currentView]._render();\n\n        this._setInputValue();\n\n        if (this.opts.onSelect) {\n          this._triggerOnChange();\n        }\n      },\n\n      /**\n       * Updates datepicker options\n       * @param {String|Object} param - parameter's name to update. If object then it will extend current options\n       * @param {String|Number|Object} [value] - new param value\n       */\n      update: function update(param, value) {\n        var len = arguments.length,\n            lastSelectedDate = this.lastSelectedDate;\n\n        if (len == 2) {\n          this.opts[param] = value;\n        } else if (len == 1 && _typeof(param) == 'object') {\n          this.opts = $.extend(true, this.opts, param);\n        }\n\n        this._createShortCuts();\n\n        this._syncWithMinMaxDates();\n\n        this._defineLocale(this.opts.language);\n\n        this.nav._addButtonsIfNeed();\n\n        if (!this.opts.onlyTimepicker) this.nav._render();\n\n        this.views[this.currentView]._render();\n\n        if (this.elIsInput && !this.opts.inline) {\n          this._setPositionClasses(this.opts.position);\n\n          if (this.visible) {\n            this.setPosition(this.opts.position);\n          }\n        }\n\n        if (this.opts.classes) {\n          this.$datepicker.addClass(this.opts.classes);\n        }\n\n        if (this.opts.onlyTimepicker) {\n          this.$datepicker.addClass('-only-timepicker-');\n        }\n\n        if (this.opts.timepicker) {\n          if (lastSelectedDate) this.timepicker._handleDate(lastSelectedDate);\n\n          this.timepicker._updateRanges();\n\n          this.timepicker._updateCurrentTime(); // Change hours and minutes if it's values have been changed through min/max hours/minutes\n\n\n          if (lastSelectedDate) {\n            lastSelectedDate.setHours(this.timepicker.hours);\n            lastSelectedDate.setMinutes(this.timepicker.minutes);\n          }\n        }\n\n        this._setInputValue();\n\n        return this;\n      },\n      _syncWithMinMaxDates: function _syncWithMinMaxDates() {\n        var curTime = this.date.getTime();\n        this.silent = true;\n\n        if (this.minTime > curTime) {\n          this.date = this.minDate;\n        }\n\n        if (this.maxTime < curTime) {\n          this.date = this.maxDate;\n        }\n\n        this.silent = false;\n      },\n      _isSelected: function _isSelected(checkDate, cellType) {\n        var res = false;\n        this.selectedDates.some(function (date) {\n          if (datepicker.isSame(date, checkDate, cellType)) {\n            res = date;\n            return true;\n          }\n        });\n        return res;\n      },\n      _setInputValue: function _setInputValue() {\n        var _this = this,\n            opts = _this.opts,\n            format = _this.loc.dateFormat,\n            altFormat = opts.altFieldDateFormat,\n            value = _this.selectedDates.map(function (date) {\n          return _this.formatDate(format, date);\n        }),\n            altValues;\n\n        if (opts.altField && _this.$altField.length) {\n          altValues = this.selectedDates.map(function (date) {\n            return _this.formatDate(altFormat, date);\n          });\n          altValues = altValues.join(this.opts.multipleDatesSeparator);\n          this.$altField.val(altValues);\n        }\n\n        value = value.join(this.opts.multipleDatesSeparator);\n        this.$el.val(value);\n      },\n\n      /**\n       * Check if date is between minDate and maxDate\n       * @param date {object} - date object\n       * @param type {string} - cell type\n       * @returns {boolean}\n       * @private\n       */\n      _isInRange: function _isInRange(date, type) {\n        var time = date.getTime(),\n            d = datepicker.getParsedDate(date),\n            min = datepicker.getParsedDate(this.minDate),\n            max = datepicker.getParsedDate(this.maxDate),\n            dMinTime = new Date(d.year, d.month, min.date).getTime(),\n            dMaxTime = new Date(d.year, d.month, max.date).getTime(),\n            types = {\n          day: time >= this.minTime && time <= this.maxTime,\n          month: dMinTime >= this.minTime && dMaxTime <= this.maxTime,\n          year: d.year >= min.year && d.year <= max.year\n        };\n        return type ? types[type] : types.day;\n      },\n      _getDimensions: function _getDimensions($el) {\n        var offset = $el.offset();\n        return {\n          width: $el.outerWidth(),\n          height: $el.outerHeight(),\n          left: offset.left,\n          top: offset.top\n        };\n      },\n      _getDateFromCell: function _getDateFromCell(cell) {\n        var curDate = this.parsedDate,\n            year = cell.data('year') || curDate.year,\n            month = cell.data('month') == undefined ? curDate.month : cell.data('month'),\n            date = cell.data('date') || 1;\n        return new Date(year, month, date);\n      },\n      _setPositionClasses: function _setPositionClasses(pos) {\n        pos = pos.split(' ');\n        var main = pos[0],\n            sec = pos[1],\n            classes = 'datepicker -' + main + '-' + sec + '- -from-' + main + '-';\n        if (this.visible) classes += ' active';\n        this.$datepicker.removeAttr('class').addClass(classes);\n      },\n      setPosition: function setPosition(position) {\n        position = position || this.opts.position;\n\n        var dims = this._getDimensions(this.$el),\n            selfDims = this._getDimensions(this.$datepicker),\n            pos = position.split(' '),\n            top,\n            left,\n            offset = this.opts.offset,\n            main = pos[0],\n            secondary = pos[1];\n\n        switch (main) {\n          case 'top':\n            top = dims.top - selfDims.height - offset;\n            break;\n\n          case 'right':\n            left = dims.left + dims.width + offset;\n            break;\n\n          case 'bottom':\n            top = dims.top + dims.height + offset;\n            break;\n\n          case 'left':\n            left = dims.left - selfDims.width - offset;\n            break;\n        }\n\n        switch (secondary) {\n          case 'top':\n            top = dims.top;\n            break;\n\n          case 'right':\n            left = dims.left + dims.width - selfDims.width;\n            break;\n\n          case 'bottom':\n            top = dims.top + dims.height - selfDims.height;\n            break;\n\n          case 'left':\n            left = dims.left;\n            break;\n\n          case 'center':\n            if (/left|right/.test(main)) {\n              top = dims.top + dims.height / 2 - selfDims.height / 2;\n            } else {\n              left = dims.left + dims.width / 2 - selfDims.width / 2;\n            }\n\n        }\n\n        this.$datepicker.css({\n          left: left,\n          top: top\n        });\n      },\n      show: function show() {\n        var onShow = this.opts.onShow;\n        this.setPosition(this.opts.position);\n        this.$datepicker.addClass('active');\n        this.visible = true;\n\n        if (onShow) {\n          this._bindVisionEvents(onShow);\n        }\n      },\n      hide: function hide() {\n        var onHide = this.opts.onHide;\n        this.$datepicker.removeClass('active').css({\n          left: '-100000px'\n        });\n        this.focused = '';\n        this.keys = [];\n        this.inFocus = false;\n        this.visible = false;\n        this.$el.blur();\n\n        if (onHide) {\n          this._bindVisionEvents(onHide);\n        }\n      },\n      down: function down(date) {\n        this._changeView(date, 'down');\n      },\n      up: function up(date) {\n        this._changeView(date, 'up');\n      },\n      _bindVisionEvents: function _bindVisionEvents(event) {\n        this.$datepicker.off('transitionend.dp');\n        event(this, false);\n        this.$datepicker.one('transitionend.dp', event.bind(this, this, true));\n      },\n      _changeView: function _changeView(date, dir) {\n        date = date || this.focused || this.date;\n        var nextView = dir == 'up' ? this.viewIndex + 1 : this.viewIndex - 1;\n        if (nextView > 2) nextView = 2;\n        if (nextView < 0) nextView = 0;\n        this.silent = true;\n        this.date = new Date(date.getFullYear(), date.getMonth(), 1);\n        this.silent = false;\n        this.view = this.viewIndexes[nextView];\n      },\n      _handleHotKey: function _handleHotKey(key) {\n        var date = datepicker.getParsedDate(this._getFocusedDate()),\n            focusedParsed,\n            o = this.opts,\n            newDate,\n            totalDaysInNextMonth,\n            monthChanged = false,\n            yearChanged = false,\n            decadeChanged = false,\n            y = date.year,\n            m = date.month,\n            d = date.date;\n\n        switch (key) {\n          case 'ctrlRight':\n          case 'ctrlUp':\n            m += 1;\n            monthChanged = true;\n            break;\n\n          case 'ctrlLeft':\n          case 'ctrlDown':\n            m -= 1;\n            monthChanged = true;\n            break;\n\n          case 'shiftRight':\n          case 'shiftUp':\n            yearChanged = true;\n            y += 1;\n            break;\n\n          case 'shiftLeft':\n          case 'shiftDown':\n            yearChanged = true;\n            y -= 1;\n            break;\n\n          case 'altRight':\n          case 'altUp':\n            decadeChanged = true;\n            y += 10;\n            break;\n\n          case 'altLeft':\n          case 'altDown':\n            decadeChanged = true;\n            y -= 10;\n            break;\n\n          case 'ctrlShiftUp':\n            this.up();\n            break;\n        }\n\n        totalDaysInNextMonth = datepicker.getDaysCount(new Date(y, m));\n        newDate = new Date(y, m, d); // If next month has less days than current, set date to total days in that month\n\n        if (totalDaysInNextMonth < d) d = totalDaysInNextMonth; // Check if newDate is in valid range\n\n        if (newDate.getTime() < this.minTime) {\n          newDate = this.minDate;\n        } else if (newDate.getTime() > this.maxTime) {\n          newDate = this.maxDate;\n        }\n\n        this.focused = newDate;\n        focusedParsed = datepicker.getParsedDate(newDate);\n\n        if (monthChanged && o.onChangeMonth) {\n          o.onChangeMonth(focusedParsed.month, focusedParsed.year);\n        }\n\n        if (yearChanged && o.onChangeYear) {\n          o.onChangeYear(focusedParsed.year);\n        }\n\n        if (decadeChanged && o.onChangeDecade) {\n          o.onChangeDecade(this.curDecade);\n        }\n      },\n      _registerKey: function _registerKey(key) {\n        var exists = this.keys.some(function (curKey) {\n          return curKey == key;\n        });\n\n        if (!exists) {\n          this.keys.push(key);\n        }\n      },\n      _unRegisterKey: function _unRegisterKey(key) {\n        var index = this.keys.indexOf(key);\n        this.keys.splice(index, 1);\n      },\n      _isHotKeyPressed: function _isHotKeyPressed() {\n        var currentHotKey,\n            found = false,\n            _this = this,\n            pressedKeys = this.keys.sort();\n\n        for (var hotKey in hotKeys) {\n          currentHotKey = hotKeys[hotKey];\n          if (pressedKeys.length != currentHotKey.length) continue;\n\n          if (currentHotKey.every(function (key, i) {\n            return key == pressedKeys[i];\n          })) {\n            _this._trigger('hotKey', hotKey);\n\n            found = true;\n          }\n        }\n\n        return found;\n      },\n      _trigger: function _trigger(event, args) {\n        this.$el.trigger(event, args);\n      },\n      _focusNextCell: function _focusNextCell(keyCode, type) {\n        type = type || this.cellType;\n        var date = datepicker.getParsedDate(this._getFocusedDate()),\n            y = date.year,\n            m = date.month,\n            d = date.date;\n\n        if (this._isHotKeyPressed()) {\n          return;\n        }\n\n        switch (keyCode) {\n          case 37:\n            // left\n            type == 'day' ? d -= 1 : '';\n            type == 'month' ? m -= 1 : '';\n            type == 'year' ? y -= 1 : '';\n            break;\n\n          case 38:\n            // up\n            type == 'day' ? d -= 7 : '';\n            type == 'month' ? m -= 3 : '';\n            type == 'year' ? y -= 4 : '';\n            break;\n\n          case 39:\n            // right\n            type == 'day' ? d += 1 : '';\n            type == 'month' ? m += 1 : '';\n            type == 'year' ? y += 1 : '';\n            break;\n\n          case 40:\n            // down\n            type == 'day' ? d += 7 : '';\n            type == 'month' ? m += 3 : '';\n            type == 'year' ? y += 4 : '';\n            break;\n        }\n\n        var nd = new Date(y, m, d);\n\n        if (nd.getTime() < this.minTime) {\n          nd = this.minDate;\n        } else if (nd.getTime() > this.maxTime) {\n          nd = this.maxDate;\n        }\n\n        this.focused = nd;\n      },\n      _getFocusedDate: function _getFocusedDate() {\n        var focused = this.focused || this.selectedDates[this.selectedDates.length - 1],\n            d = this.parsedDate;\n\n        if (!focused) {\n          switch (this.view) {\n            case 'days':\n              focused = new Date(d.year, d.month, new Date().getDate());\n              break;\n\n            case 'months':\n              focused = new Date(d.year, d.month, 1);\n              break;\n\n            case 'years':\n              focused = new Date(d.year, 0, 1);\n              break;\n          }\n        }\n\n        return focused;\n      },\n      _getCell: function _getCell(date, type) {\n        type = type || this.cellType;\n        var d = datepicker.getParsedDate(date),\n            selector = '.datepicker--cell[data-year=\"' + d.year + '\"]',\n            $cell;\n\n        switch (type) {\n          case 'month':\n            selector = '[data-month=\"' + d.month + '\"]';\n            break;\n\n          case 'day':\n            selector += '[data-month=\"' + d.month + '\"][data-date=\"' + d.date + '\"]';\n            break;\n        }\n\n        $cell = this.views[this.currentView].$el.find(selector);\n        return $cell.length ? $cell : $('');\n      },\n      destroy: function destroy() {\n        var _this = this;\n\n        _this.$el.off('.adp').data('datepicker', '');\n\n        _this.selectedDates = [];\n        _this.focused = '';\n        _this.views = {};\n        _this.keys = [];\n        _this.minRange = '';\n        _this.maxRange = '';\n\n        if (_this.opts.inline || !_this.elIsInput) {\n          _this.$datepicker.closest('.datepicker-inline').remove();\n        } else {\n          _this.$datepicker.remove();\n        }\n      },\n      _handleAlreadySelectedDates: function _handleAlreadySelectedDates(alreadySelected, selectedDate) {\n        if (this.opts.range) {\n          if (!this.opts.toggleSelected) {\n            // Add possibility to select same date when range is true\n            if (this.selectedDates.length != 2) {\n              this._trigger('clickCell', selectedDate);\n            }\n          } else {\n            this.removeDate(selectedDate);\n          }\n        } else if (this.opts.toggleSelected) {\n          this.removeDate(selectedDate);\n        } // Change last selected date to be able to change time when clicking on this cell\n\n\n        if (!this.opts.toggleSelected) {\n          this.lastSelectedDate = alreadySelected;\n\n          if (this.opts.timepicker) {\n            this.timepicker._setTime(alreadySelected);\n\n            this.timepicker.update();\n          }\n        }\n      },\n      _onShowEvent: function _onShowEvent(e) {\n        if (!this.visible) {\n          this.show();\n        }\n      },\n      _onBlur: function _onBlur() {\n        if (!this.inFocus && this.visible) {\n          this.hide();\n        }\n      },\n      _onMouseDownDatepicker: function _onMouseDownDatepicker(e) {\n        this.inFocus = true;\n      },\n      _onMouseUpDatepicker: function _onMouseUpDatepicker(e) {\n        this.inFocus = false;\n        e.originalEvent.inFocus = true;\n        if (!e.originalEvent.timepickerFocus) this.$el.focus();\n      },\n      _onKeyUpGeneral: function _onKeyUpGeneral(e) {\n        var val = this.$el.val();\n\n        if (!val) {\n          this.clear();\n        }\n      },\n      _onResize: function _onResize() {\n        if (this.visible) {\n          this.setPosition();\n        }\n      },\n      _onMouseUpBody: function _onMouseUpBody(e) {\n        if (e.originalEvent.inFocus) return;\n\n        if (this.visible && !this.inFocus) {\n          this.hide();\n        }\n      },\n      _onMouseUpEl: function _onMouseUpEl(e) {\n        e.originalEvent.inFocus = true;\n        setTimeout(this._onKeyUpGeneral.bind(this), 4);\n      },\n      _onKeyDown: function _onKeyDown(e) {\n        var code = e.which;\n\n        this._registerKey(code); // Arrows\n\n\n        if (code >= 37 && code <= 40) {\n          e.preventDefault();\n\n          this._focusNextCell(code);\n        } // Enter\n\n\n        if (code == 13) {\n          if (this.focused) {\n            if (this._getCell(this.focused).hasClass('-disabled-')) return;\n\n            if (this.view != this.opts.minView) {\n              this.down();\n            } else {\n              var alreadySelected = this._isSelected(this.focused, this.cellType);\n\n              if (!alreadySelected) {\n                if (this.timepicker) {\n                  this.focused.setHours(this.timepicker.hours);\n                  this.focused.setMinutes(this.timepicker.minutes);\n                }\n\n                this.selectDate(this.focused);\n                return;\n              }\n\n              this._handleAlreadySelectedDates(alreadySelected, this.focused);\n            }\n          }\n        } // Esc\n\n\n        if (code == 27) {\n          this.hide();\n        }\n      },\n      _onKeyUp: function _onKeyUp(e) {\n        var code = e.which;\n\n        this._unRegisterKey(code);\n      },\n      _onHotKey: function _onHotKey(e, hotKey) {\n        this._handleHotKey(hotKey);\n      },\n      _onMouseEnterCell: function _onMouseEnterCell(e) {\n        var $cell = $(e.target).closest('.datepicker--cell'),\n            date = this._getDateFromCell($cell); // Prevent from unnecessary rendering and setting new currentDate\n\n\n        this.silent = true;\n\n        if (this.focused) {\n          this.focused = '';\n        }\n\n        $cell.addClass('-focus-');\n        this.focused = date;\n        this.silent = false;\n\n        if (this.opts.range && this.selectedDates.length == 1) {\n          this.minRange = this.selectedDates[0];\n          this.maxRange = '';\n\n          if (datepicker.less(this.minRange, this.focused)) {\n            this.maxRange = this.minRange;\n            this.minRange = '';\n          }\n\n          this.views[this.currentView]._update();\n        }\n      },\n      _onMouseLeaveCell: function _onMouseLeaveCell(e) {\n        var $cell = $(e.target).closest('.datepicker--cell');\n        $cell.removeClass('-focus-');\n        this.silent = true;\n        this.focused = '';\n        this.silent = false;\n      },\n      _onTimeChange: function _onTimeChange(e, h, m) {\n        var date = new Date(),\n            selectedDates = this.selectedDates,\n            selected = false;\n\n        if (selectedDates.length) {\n          selected = true;\n          date = this.lastSelectedDate;\n        }\n\n        date.setHours(h);\n        date.setMinutes(m);\n\n        if (!selected && !this._getCell(date).hasClass('-disabled-')) {\n          this.selectDate(date);\n        } else {\n          this._setInputValue();\n\n          if (this.opts.onSelect) {\n            this._triggerOnChange();\n          }\n        }\n      },\n      _onClickCell: function _onClickCell(e, date) {\n        if (this.timepicker) {\n          date.setHours(this.timepicker.hours);\n          date.setMinutes(this.timepicker.minutes);\n        }\n\n        this.selectDate(date);\n      },\n\n      set focused(val) {\n        if (!val && this.focused) {\n          var $cell = this._getCell(this.focused);\n\n          if ($cell.length) {\n            $cell.removeClass('-focus-');\n          }\n        }\n\n        this._focused = val;\n\n        if (this.opts.range && this.selectedDates.length == 1) {\n          this.minRange = this.selectedDates[0];\n          this.maxRange = '';\n\n          if (datepicker.less(this.minRange, this._focused)) {\n            this.maxRange = this.minRange;\n            this.minRange = '';\n          }\n        }\n\n        if (this.silent) return;\n        this.date = val;\n      },\n\n      get focused() {\n        return this._focused;\n      },\n\n      get parsedDate() {\n        return datepicker.getParsedDate(this.date);\n      },\n\n      set date(val) {\n        if (!(val instanceof Date)) return;\n        this.currentDate = val;\n\n        if (this.inited && !this.silent) {\n          this.views[this.view]._render();\n\n          this.nav._render();\n\n          if (this.visible && this.elIsInput) {\n            this.setPosition();\n          }\n        }\n\n        return val;\n      },\n\n      get date() {\n        return this.currentDate;\n      },\n\n      set view(val) {\n        this.viewIndex = this.viewIndexes.indexOf(val);\n\n        if (this.viewIndex < 0) {\n          return;\n        }\n\n        this.prevView = this.currentView;\n        this.currentView = val;\n\n        if (this.inited) {\n          if (!this.views[val]) {\n            this.views[val] = new $.fn.datepicker.Body(this, val, this.opts);\n          } else {\n            this.views[val]._render();\n          }\n\n          this.views[this.prevView].hide();\n          this.views[val].show();\n\n          this.nav._render();\n\n          if (this.opts.onChangeView) {\n            this.opts.onChangeView(val);\n          }\n\n          if (this.elIsInput && this.visible) this.setPosition();\n        }\n\n        return val;\n      },\n\n      get view() {\n        return this.currentView;\n      },\n\n      get cellType() {\n        return this.view.substring(0, this.view.length - 1);\n      },\n\n      get minTime() {\n        var min = datepicker.getParsedDate(this.minDate);\n        return new Date(min.year, min.month, min.date).getTime();\n      },\n\n      get maxTime() {\n        var max = datepicker.getParsedDate(this.maxDate);\n        return new Date(max.year, max.month, max.date).getTime();\n      },\n\n      get curDecade() {\n        return datepicker.getDecade(this.date);\n      }\n\n    }; //  Utils\n    // -------------------------------------------------\n\n    datepicker.getDaysCount = function (date) {\n      return new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n    };\n\n    datepicker.getParsedDate = function (date) {\n      return {\n        year: date.getFullYear(),\n        month: date.getMonth(),\n        fullMonth: date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1,\n        // One based\n        date: date.getDate(),\n        fullDate: date.getDate() < 10 ? '0' + date.getDate() : date.getDate(),\n        day: date.getDay(),\n        hours: date.getHours(),\n        fullHours: date.getHours() < 10 ? '0' + date.getHours() : date.getHours(),\n        minutes: date.getMinutes(),\n        fullMinutes: date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()\n      };\n    };\n\n    datepicker.getDecade = function (date) {\n      var firstYear = Math.floor(date.getFullYear() / 10) * 10;\n      return [firstYear, firstYear + 9];\n    };\n\n    datepicker.template = function (str, data) {\n      return str.replace(/#\\{([\\w]+)\\}/g, function (source, match) {\n        if (data[match] || data[match] === 0) {\n          return data[match];\n        }\n      });\n    };\n\n    datepicker.isSame = function (date1, date2, type) {\n      if (!date1 || !date2) return false;\n\n      var d1 = datepicker.getParsedDate(date1),\n          d2 = datepicker.getParsedDate(date2),\n          _type = type ? type : 'day',\n          conditions = {\n        day: d1.date == d2.date && d1.month == d2.month && d1.year == d2.year,\n        month: d1.month == d2.month && d1.year == d2.year,\n        year: d1.year == d2.year\n      };\n\n      return conditions[_type];\n    };\n\n    datepicker.less = function (dateCompareTo, date, type) {\n      if (!dateCompareTo || !date) return false;\n      return date.getTime() < dateCompareTo.getTime();\n    };\n\n    datepicker.bigger = function (dateCompareTo, date, type) {\n      if (!dateCompareTo || !date) return false;\n      return date.getTime() > dateCompareTo.getTime();\n    };\n\n    datepicker.getLeadingZeroNum = function (num) {\n      return parseInt(num) < 10 ? '0' + num : num;\n    };\n    /**\n     * Returns copy of date with hours and minutes equals to 0\n     * @param date {Date}\n     */\n\n\n    datepicker.resetTime = function (date) {\n      if (_typeof(date) != 'object') return;\n      date = datepicker.getParsedDate(date);\n      return new Date(date.year, date.month, date.date);\n    };\n\n    $.fn.datepicker = function (options) {\n      return this.each(function () {\n        if (!$.data(this, pluginName)) {\n          $.data(this, pluginName, new Datepicker(this, options));\n        } else {\n          var _this = $.data(this, pluginName);\n\n          _this.opts = $.extend(true, _this.opts, options);\n\n          _this.update();\n        }\n      });\n    };\n\n    $.fn.datepicker.Constructor = Datepicker;\n    $.fn.datepicker.language = {\n      ru: {\n        days: ['', '', '', '', '', '', ''],\n        daysShort: ['', '', '', '', '', '', ''],\n        daysMin: ['', '', '', '', '', '', ''],\n        months: ['', '', '', '', '', '', '', '', '', '', '', ''],\n        monthsShort: ['', '', '', '', '', '', '', '', '', '', '', ''],\n        confirm: '',\n        clear: '',\n        dateFormat: 'dd.mm.yyyy',\n        timeFormat: 'hh:ii',\n        firstDay: 1\n      }\n    };\n    $(function () {\n      $(autoInitSelector).datepicker();\n    });\n  })();\n\n  ;\n\n  (function () {\n    var templates = {\n      days: '' + '<div class=\"datepicker--days datepicker--body\">' + '<div class=\"datepicker--days-names\"></div>' + '<div class=\"datepicker--cells datepicker--cells-days\"></div>' + '</div>',\n      months: '' + '<div class=\"datepicker--months datepicker--body\">' + '<div class=\"datepicker--cells datepicker--cells-months\"></div>' + '</div>',\n      years: '' + '<div class=\"datepicker--years datepicker--body\">' + '<div class=\"datepicker--cells datepicker--cells-years\"></div>' + '</div>'\n    },\n        datepicker = $.fn.datepicker,\n        dp = datepicker.Constructor;\n\n    datepicker.Body = function (d, type, opts) {\n      this.d = d;\n      this.type = type;\n      this.opts = opts;\n      this.$el = $('');\n      if (this.opts.onlyTimepicker) return;\n      this.init();\n    };\n\n    datepicker.Body.prototype = {\n      init: function init() {\n        this._buildBaseHtml();\n\n        this._render();\n\n        this._bindEvents();\n      },\n      _bindEvents: function _bindEvents() {\n        this.$el.on('click', '.datepicker--cell', $.proxy(this._onClickCell, this));\n      },\n      _buildBaseHtml: function _buildBaseHtml() {\n        this.$el = $(templates[this.type]).appendTo(this.d.$content);\n        this.$names = $('.datepicker--days-names', this.$el);\n        this.$cells = $('.datepicker--cells', this.$el);\n      },\n      _getDayNamesHtml: function _getDayNamesHtml(firstDay, curDay, html, i) {\n        curDay = curDay != undefined ? curDay : firstDay;\n        html = html ? html : '';\n        i = i != undefined ? i : 0;\n        if (i > 7) return html;\n        if (curDay == 7) return this._getDayNamesHtml(firstDay, 0, html, ++i);\n        html += '<div class=\"datepicker--day-name' + (this.d.isWeekend(curDay) ? \" -weekend-\" : \"\") + '\">' + this.d.loc.daysMin[curDay] + '</div>';\n        return this._getDayNamesHtml(firstDay, ++curDay, html, ++i);\n      },\n      _getCellContents: function _getCellContents(date, type) {\n        var classes = \"datepicker--cell datepicker--cell-\" + type,\n            currentDate = new Date(),\n            parent = this.d,\n            minRange = dp.resetTime(parent.minRange),\n            maxRange = dp.resetTime(parent.maxRange),\n            opts = parent.opts,\n            d = dp.getParsedDate(date),\n            render = {},\n            html = d.date;\n\n        switch (type) {\n          case 'day':\n            if (parent.isWeekend(d.day)) classes += \" -weekend-\";\n\n            if (d.month != this.d.parsedDate.month) {\n              classes += \" -other-month-\";\n\n              if (!opts.selectOtherMonths) {\n                classes += \" -disabled-\";\n              }\n\n              if (!opts.showOtherMonths) html = '';\n            }\n\n            break;\n\n          case 'month':\n            html = parent.loc[parent.opts.monthsField][d.month];\n            break;\n\n          case 'year':\n            var decade = parent.curDecade;\n            html = d.year;\n\n            if (d.year < decade[0] || d.year > decade[1]) {\n              classes += ' -other-decade-';\n\n              if (!opts.selectOtherYears) {\n                classes += \" -disabled-\";\n              }\n\n              if (!opts.showOtherYears) html = '';\n            }\n\n            break;\n        }\n\n        if (opts.onRenderCell) {\n          render = opts.onRenderCell(date, type) || {};\n          html = render.html ? render.html : html;\n          classes += render.classes ? ' ' + render.classes : '';\n        }\n\n        if (opts.range) {\n          if (dp.isSame(minRange, date, type)) classes += ' -range-from-';\n          if (dp.isSame(maxRange, date, type)) classes += ' -range-to-';\n\n          if (parent.selectedDates.length == 1 && parent.focused) {\n            if (dp.bigger(minRange, date) && dp.less(parent.focused, date) || dp.less(maxRange, date) && dp.bigger(parent.focused, date)) {\n              classes += ' -in-range-';\n            }\n\n            if (dp.less(maxRange, date) && dp.isSame(parent.focused, date)) {\n              classes += ' -range-from-';\n            }\n\n            if (dp.bigger(minRange, date) && dp.isSame(parent.focused, date)) {\n              classes += ' -range-to-';\n            }\n          } else if (parent.selectedDates.length == 2) {\n            if (dp.bigger(minRange, date) && dp.less(maxRange, date)) {\n              classes += ' -in-range-';\n            }\n          }\n        }\n\n        if (dp.isSame(currentDate, date, type)) classes += ' -current-';\n        if (parent.focused && dp.isSame(date, parent.focused, type)) classes += ' -focus-';\n        if (parent._isSelected(date, type)) classes += ' -selected-';\n        if (!parent._isInRange(date, type) || render.disabled) classes += ' -disabled-';\n        return {\n          html: html,\n          classes: classes\n        };\n      },\n\n      /**\n       * Calculates days number to render. Generates days html and returns it.\n       * @param {object} date - Date object\n       * @returns {string}\n       * @private\n       */\n      _getDaysHtml: function _getDaysHtml(date) {\n        var totalMonthDays = dp.getDaysCount(date),\n            firstMonthDay = new Date(date.getFullYear(), date.getMonth(), 1).getDay(),\n            lastMonthDay = new Date(date.getFullYear(), date.getMonth(), totalMonthDays).getDay(),\n            daysFromPevMonth = firstMonthDay - this.d.loc.firstDay,\n            daysFromNextMonth = 6 - lastMonthDay + this.d.loc.firstDay;\n        daysFromPevMonth = daysFromPevMonth < 0 ? daysFromPevMonth + 7 : daysFromPevMonth;\n        daysFromNextMonth = daysFromNextMonth > 6 ? daysFromNextMonth - 7 : daysFromNextMonth;\n        var startDayIndex = -daysFromPevMonth + 1,\n            m,\n            y,\n            html = '';\n\n        for (var i = startDayIndex, max = totalMonthDays + daysFromNextMonth; i <= max; i++) {\n          y = date.getFullYear();\n          m = date.getMonth();\n          html += this._getDayHtml(new Date(y, m, i));\n        }\n\n        return html;\n      },\n      _getDayHtml: function _getDayHtml(date) {\n        var content = this._getCellContents(date, 'day');\n\n        return '<div class=\"' + content.classes + '\" ' + 'data-date=\"' + date.getDate() + '\" ' + 'data-month=\"' + date.getMonth() + '\" ' + 'data-year=\"' + date.getFullYear() + '\">' + content.html + '</div>';\n      },\n\n      /**\n       * Generates months html\n       * @param {object} date - date instance\n       * @returns {string}\n       * @private\n       */\n      _getMonthsHtml: function _getMonthsHtml(date) {\n        var html = '',\n            d = dp.getParsedDate(date),\n            i = 0;\n\n        while (i < 12) {\n          html += this._getMonthHtml(new Date(d.year, i));\n          i++;\n        }\n\n        return html;\n      },\n      _getMonthHtml: function _getMonthHtml(date) {\n        var content = this._getCellContents(date, 'month');\n\n        return '<div class=\"' + content.classes + '\" data-month=\"' + date.getMonth() + '\">' + content.html + '</div>';\n      },\n      _getYearsHtml: function _getYearsHtml(date) {\n        var d = dp.getParsedDate(date),\n            decade = dp.getDecade(date),\n            firstYear = decade[0] - 1,\n            html = '',\n            i = firstYear;\n\n        for (i; i <= decade[1] + 1; i++) {\n          html += this._getYearHtml(new Date(i, 0));\n        }\n\n        return html;\n      },\n      _getYearHtml: function _getYearHtml(date) {\n        var content = this._getCellContents(date, 'year');\n\n        return '<div class=\"' + content.classes + '\" data-year=\"' + date.getFullYear() + '\">' + content.html + '</div>';\n      },\n      _renderTypes: {\n        days: function days() {\n          var dayNames = this._getDayNamesHtml(this.d.loc.firstDay),\n              days = this._getDaysHtml(this.d.currentDate);\n\n          this.$cells.html(days);\n          this.$names.html(dayNames);\n        },\n        months: function months() {\n          var html = this._getMonthsHtml(this.d.currentDate);\n\n          this.$cells.html(html);\n        },\n        years: function years() {\n          var html = this._getYearsHtml(this.d.currentDate);\n\n          this.$cells.html(html);\n        }\n      },\n      _render: function _render() {\n        if (this.opts.onlyTimepicker) return;\n\n        this._renderTypes[this.type].bind(this)();\n      },\n      _update: function _update() {\n        var $cells = $('.datepicker--cell', this.$cells),\n            _this = this,\n            classes,\n            $cell,\n            date;\n\n        $cells.each(function (cell, i) {\n          $cell = $(this);\n          date = _this.d._getDateFromCell($(this));\n          classes = _this._getCellContents(date, _this.d.cellType);\n          $cell.attr('class', classes.classes);\n        });\n      },\n      show: function show() {\n        if (this.opts.onlyTimepicker) return;\n        this.$el.addClass('active');\n        this.acitve = true;\n      },\n      hide: function hide() {\n        this.$el.removeClass('active');\n        this.active = false;\n      },\n      //  Events\n      // -------------------------------------------------\n      _handleClick: function _handleClick(el) {\n        var date = el.data('date') || 1,\n            month = el.data('month') || 0,\n            year = el.data('year') || this.d.parsedDate.year,\n            dp = this.d; // Change view if min view does not reach yet\n\n        if (dp.view != this.opts.minView) {\n          dp.down(new Date(year, month, date));\n          return;\n        } // Select date if min view is reached\n\n\n        var selectedDate = new Date(year, month, date),\n            alreadySelected = this.d._isSelected(selectedDate, this.d.cellType);\n\n        if (!alreadySelected) {\n          dp._trigger('clickCell', selectedDate);\n\n          return;\n        }\n\n        dp._handleAlreadySelectedDates.bind(dp, alreadySelected, selectedDate)();\n      },\n      _onClickCell: function _onClickCell(e) {\n        var $el = $(e.target).closest('.datepicker--cell');\n        if ($el.hasClass('-disabled-')) return;\n\n        this._handleClick.bind(this)($el);\n      }\n    };\n  })();\n\n  ;\n\n  (function () {\n    var template = '' + '<div class=\"datepicker--nav-action\" data-action=\"prev\">#{prevHtml}</div>' + '<div class=\"datepicker--nav-title\">#{title}</div>' + '<div class=\"datepicker--nav-action\" data-action=\"next\">#{nextHtml}</div>',\n        buttonsContainerTemplate = '<div class=\"datepicker--buttons\"></div>',\n        button = '<span class=\"datepicker--button\" data-action=\"#{action}\">#{label}</span>',\n        datepicker = $.fn.datepicker,\n        dp = datepicker.Constructor;\n\n    datepicker.Navigation = function (d, opts) {\n      this.d = d;\n      this.opts = opts;\n      this.$buttonsContainer = '';\n      this.init();\n    };\n\n    datepicker.Navigation.prototype = {\n      init: function init() {\n        this._buildBaseHtml();\n\n        this._bindEvents();\n      },\n      _bindEvents: function _bindEvents() {\n        this.d.$nav.on('click', '.datepicker--nav-action', $.proxy(this._onClickNavButton, this));\n        this.d.$nav.on('click', '.datepicker--nav-title', $.proxy(this._onClickNavTitle, this));\n        this.d.$datepicker.on('click', '.datepicker--button', $.proxy(this._onClickNavButton, this));\n      },\n      _buildBaseHtml: function _buildBaseHtml() {\n        if (!this.opts.onlyTimepicker) {\n          this._render();\n        }\n\n        this._addButtonsIfNeed();\n      },\n      _addButtonsIfNeed: function _addButtonsIfNeed() {\n        if (this.opts.clearButton) {\n          this._addButton('clear');\n        }\n\n        if (this.opts.confirmButton) {\n          this._addButton('confirm');\n        }\n      },\n      _render: function _render() {\n        var title = this._getTitle(this.d.currentDate),\n            html = dp.template(template, $.extend({\n          title: title\n        }, this.opts));\n\n        this.d.$nav.html(html);\n\n        if (this.d.view == 'years') {\n          $('.datepicker--nav-title', this.d.$nav).addClass('-disabled-');\n        }\n\n        this.setNavStatus();\n      },\n      _getTitle: function _getTitle(date) {\n        return this.d.formatDate(this.opts.navTitles[this.d.view], date);\n      },\n      _addButton: function _addButton(type) {\n        if (!this.$buttonsContainer.length) {\n          this._addButtonsContainer();\n        }\n\n        var data = {\n          action: type,\n          label: this.d.loc[type]\n        },\n            html = dp.template(button, data);\n        if ($('[data-action=' + type + ']', this.$buttonsContainer).length) return;\n        this.$buttonsContainer.append(html);\n      },\n      _addButtonsContainer: function _addButtonsContainer() {\n        this.d.$datepicker.append(buttonsContainerTemplate);\n        this.$buttonsContainer = $('.datepicker--buttons', this.d.$datepicker);\n      },\n      setNavStatus: function setNavStatus() {\n        if (!(this.opts.minDate || this.opts.maxDate) || !this.opts.disableNavWhenOutOfRange) return;\n        var date = this.d.parsedDate,\n            m = date.month,\n            y = date.year,\n            d = date.date;\n\n        switch (this.d.view) {\n          case 'days':\n            if (!this.d._isInRange(new Date(y, m - 1, 1), 'month')) {\n              this._disableNav('prev');\n            }\n\n            if (!this.d._isInRange(new Date(y, m + 1, 1), 'month')) {\n              this._disableNav('next');\n            }\n\n            break;\n\n          case 'months':\n            if (!this.d._isInRange(new Date(y - 1, m, d), 'year')) {\n              this._disableNav('prev');\n            }\n\n            if (!this.d._isInRange(new Date(y + 1, m, d), 'year')) {\n              this._disableNav('next');\n            }\n\n            break;\n\n          case 'years':\n            var decade = dp.getDecade(this.d.date);\n\n            if (!this.d._isInRange(new Date(decade[0] - 1, 0, 1), 'year')) {\n              this._disableNav('prev');\n            }\n\n            if (!this.d._isInRange(new Date(decade[1] + 1, 0, 1), 'year')) {\n              this._disableNav('next');\n            }\n\n            break;\n        }\n      },\n      _disableNav: function _disableNav(nav) {\n        $('[data-action=\"' + nav + '\"]', this.d.$nav).addClass('-disabled-');\n      },\n      _activateNav: function _activateNav(nav) {\n        $('[data-action=\"' + nav + '\"]', this.d.$nav).removeClass('-disabled-');\n      },\n      _onClickNavButton: function _onClickNavButton(e) {\n        var $el = $(e.target).closest('[data-action]'),\n            action = $el.data('action');\n        this.d[action]();\n      },\n      _onClickNavTitle: function _onClickNavTitle(e) {\n        if ($(e.target).hasClass('-disabled-')) return;\n\n        if (this.d.view == 'days') {\n          return this.d.view = 'months';\n        }\n\n        this.d.view = 'years';\n      }\n    };\n  })();\n\n  $('.start_date').datepicker({\n    onSelect: function onSelect(fd, d, picker) {\n      $(picker.$el).val(fd.split(\"-\")[0]);\n      var parent = $(picker.$el).closest(\".dropdown-container\");\n      parent.find(\".end_date\").val(fd.split(\"-\")[1]);\n    }\n  });\n  ;\n\n  (function () {\n    var template = '<div class=\"datepicker--time\">' + '<div class=\"datepicker--time-current\">' + '   <span class=\"datepicker--time-current-hours\">#{hourVisible}</span>' + '   <span class=\"datepicker--time-current-colon\">:</span>' + '   <span class=\"datepicker--time-current-minutes\">#{minValue}</span>' + '</div>' + '<div class=\"datepicker--time-sliders\">' + '   <div class=\"datepicker--time-row\">' + '      <input type=\"range\" name=\"hours\" value=\"#{hourValue}\" min=\"#{hourMin}\" max=\"#{hourMax}\" step=\"#{hourStep}\"/>' + '   </div>' + '   <div class=\"datepicker--time-row\">' + '      <input type=\"range\" name=\"minutes\" value=\"#{minValue}\" min=\"#{minMin}\" max=\"#{minMax}\" step=\"#{minStep}\"/>' + '   </div>' + '</div>' + '</div>',\n        datepicker = $.fn.datepicker,\n        dp = datepicker.Constructor;\n\n    datepicker.Timepicker = function (inst, opts) {\n      this.d = inst;\n      this.opts = opts;\n      this.init();\n    };\n\n    datepicker.Timepicker.prototype = {\n      init: function init() {\n        var input = 'input';\n\n        this._setTime(this.d.date);\n\n        this._buildHTML();\n\n        if (navigator.userAgent.match(/trident/gi)) {\n          input = 'change';\n        }\n\n        this.d.$el.on('selectDate', this._onSelectDate.bind(this));\n        this.$ranges.on(input, this._onChangeRange.bind(this));\n        this.$ranges.on('mouseup', this._onMouseUpRange.bind(this));\n        this.$ranges.on('mousemove focus ', this._onMouseEnterRange.bind(this));\n        this.$ranges.on('mouseout blur', this._onMouseOutRange.bind(this));\n      },\n      _setTime: function _setTime(date) {\n        var _date = dp.getParsedDate(date);\n\n        this._handleDate(date);\n\n        this.hours = _date.hours < this.minHours ? this.minHours : _date.hours;\n        this.minutes = _date.minutes < this.minMinutes ? this.minMinutes : _date.minutes;\n      },\n\n      /**\n       * Sets minHours and minMinutes from date (usually it's a minDate)\n       * Also changes minMinutes if current hours are bigger then @date hours\n       * @param date {Date}\n       * @private\n       */\n      _setMinTimeFromDate: function _setMinTimeFromDate(date) {\n        this.minHours = date.getHours();\n        this.minMinutes = date.getMinutes(); // If, for example, min hours are 10, and current hours are 12,\n        // update minMinutes to default value, to be able to choose whole range of values\n\n        if (this.d.lastSelectedDate) {\n          if (this.d.lastSelectedDate.getHours() > date.getHours()) {\n            this.minMinutes = this.opts.minMinutes;\n          }\n        }\n      },\n      _setMaxTimeFromDate: function _setMaxTimeFromDate(date) {\n        this.maxHours = date.getHours();\n        this.maxMinutes = date.getMinutes();\n\n        if (this.d.lastSelectedDate) {\n          if (this.d.lastSelectedDate.getHours() < date.getHours()) {\n            this.maxMinutes = this.opts.maxMinutes;\n          }\n        }\n      },\n      _setDefaultMinMaxTime: function _setDefaultMinMaxTime() {\n        var maxHours = 23,\n            maxMinutes = 59,\n            opts = this.opts;\n        this.minHours = opts.minHours < 0 || opts.minHours > maxHours ? 0 : opts.minHours;\n        this.minMinutes = opts.minMinutes < 0 || opts.minMinutes > maxMinutes ? 0 : opts.minMinutes;\n        this.maxHours = opts.maxHours < 0 || opts.maxHours > maxHours ? maxHours : opts.maxHours;\n        this.maxMinutes = opts.maxMinutes < 0 || opts.maxMinutes > maxMinutes ? maxMinutes : opts.maxMinutes;\n      },\n\n      /**\n       * Looks for min/max hours/minutes and if current values\n       * are out of range sets valid values.\n       * @private\n       */\n      _validateHoursMinutes: function _validateHoursMinutes(date) {\n        if (this.hours < this.minHours) {\n          this.hours = this.minHours;\n        } else if (this.hours > this.maxHours) {\n          this.hours = this.maxHours;\n        }\n\n        if (this.minutes < this.minMinutes) {\n          this.minutes = this.minMinutes;\n        } else if (this.minutes > this.maxMinutes) {\n          this.minutes = this.maxMinutes;\n        }\n      },\n      _buildHTML: function _buildHTML() {\n        var lz = dp.getLeadingZeroNum,\n            data = {\n          hourMin: this.minHours,\n          hourMax: lz(this.maxHours),\n          hourStep: this.opts.hoursStep,\n          hourValue: this.hours,\n          hourVisible: lz(this.displayHours),\n          minMin: this.minMinutes,\n          minMax: lz(this.maxMinutes),\n          minStep: this.opts.minutesStep,\n          minValue: lz(this.minutes)\n        },\n            _template = dp.template(template, data);\n\n        this.$timepicker = $(_template).appendTo(this.d.$datepicker);\n        this.$ranges = $('[type=\"range\"]', this.$timepicker);\n        this.$hours = $('[name=\"hours\"]', this.$timepicker);\n        this.$minutes = $('[name=\"minutes\"]', this.$timepicker);\n        this.$hoursText = $('.datepicker--time-current-hours', this.$timepicker);\n        this.$minutesText = $('.datepicker--time-current-minutes', this.$timepicker);\n\n        if (this.d.ampm) {\n          this.$ampm = $('<span class=\"datepicker--time-current-ampm\">').appendTo($('.datepicker--time-current', this.$timepicker)).html(this.dayPeriod);\n          this.$timepicker.addClass('-am-pm-');\n        }\n      },\n      _updateCurrentTime: function _updateCurrentTime() {\n        var h = dp.getLeadingZeroNum(this.displayHours),\n            m = dp.getLeadingZeroNum(this.minutes);\n        this.$hoursText.html(h);\n        this.$minutesText.html(m);\n\n        if (this.d.ampm) {\n          this.$ampm.html(this.dayPeriod);\n        }\n      },\n      _updateRanges: function _updateRanges() {\n        this.$hours.attr({\n          min: this.minHours,\n          max: this.maxHours\n        }).val(this.hours);\n        this.$minutes.attr({\n          min: this.minMinutes,\n          max: this.maxMinutes\n        }).val(this.minutes);\n      },\n\n      /**\n       * Sets minHours, minMinutes etc. from date. If date is not passed, than sets\n       * values from options\n       * @param [date] {object} - Date object, to get values from\n       * @private\n       */\n      _handleDate: function _handleDate(date) {\n        this._setDefaultMinMaxTime();\n\n        if (date) {\n          if (dp.isSame(date, this.d.opts.minDate)) {\n            this._setMinTimeFromDate(this.d.opts.minDate);\n          } else if (dp.isSame(date, this.d.opts.maxDate)) {\n            this._setMaxTimeFromDate(this.d.opts.maxDate);\n          }\n        }\n\n        this._validateHoursMinutes(date);\n      },\n      update: function update() {\n        this._updateRanges();\n\n        this._updateCurrentTime();\n      },\n\n      /**\n       * Calculates valid hour value to display in text input and datepicker's body.\n       * @param date {Date|Number} - date or hours\n       * @param [ampm] {Boolean} - 12 hours mode\n       * @returns {{hours: *, dayPeriod: string}}\n       * @private\n       */\n      _getValidHoursFromDate: function _getValidHoursFromDate(date, ampm) {\n        var d = date,\n            hours = date;\n\n        if (date instanceof Date) {\n          d = dp.getParsedDate(date);\n          hours = d.hours;\n        }\n\n        var _ampm = ampm || this.d.ampm,\n            dayPeriod = 'am';\n\n        if (_ampm) {\n          switch (true) {\n            case hours == 0:\n              hours = 12;\n              break;\n\n            case hours == 12:\n              dayPeriod = 'pm';\n              break;\n\n            case hours > 11:\n              hours = hours - 12;\n              dayPeriod = 'pm';\n              break;\n\n            default:\n              break;\n          }\n        }\n\n        return {\n          hours: hours,\n          dayPeriod: dayPeriod\n        };\n      },\n\n      set hours(val) {\n        this._hours = val;\n\n        var displayHours = this._getValidHoursFromDate(val);\n\n        this.displayHours = displayHours.hours;\n        this.dayPeriod = displayHours.dayPeriod;\n      },\n\n      get hours() {\n        return this._hours;\n      },\n\n      //  Events\n      // -------------------------------------------------\n      _onChangeRange: function _onChangeRange(e) {\n        var $target = $(e.target),\n            name = $target.attr('name');\n        this.d.timepickerIsActive = true;\n        this[name] = $target.val();\n\n        this._updateCurrentTime();\n\n        this.d._trigger('timeChange', [this.hours, this.minutes]);\n\n        this._handleDate(this.d.lastSelectedDate);\n\n        this.update();\n      },\n      _onSelectDate: function _onSelectDate(e, data) {\n        this._handleDate(data);\n\n        this.update();\n      },\n      _onMouseEnterRange: function _onMouseEnterRange(e) {\n        var name = $(e.target).attr('name');\n        $('.datepicker--time-current-' + name, this.$timepicker).addClass('-focus-');\n      },\n      _onMouseOutRange: function _onMouseOutRange(e) {\n        var name = $(e.target).attr('name');\n        if (this.d.inFocus) return; // Prevent removing focus when mouse out of range slider\n\n        $('.datepicker--time-current-' + name, this.$timepicker).removeClass('-focus-');\n      },\n      _onMouseUpRange: function _onMouseUpRange(e) {\n        this.d.timepickerIsActive = false;\n      }\n    };\n  })();\n})(window, jQuery);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"../node_modules/jquery/dist/jquery.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ibG9ja3MvY2FsZW5kYXIvZGF0ZXBpY2tlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2Jsb2Nrcy9jYWxlbmRhci9kYXRlcGlja2VyLmpzPzNlZDYiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICh3aW5kb3csICQsIHVuZGVmaW5lZCkgeyA7KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgVkVSU0lPTiA9ICcyLjIuMycsXG4gICAgICAgIHBsdWdpbk5hbWUgPSAnZGF0ZXBpY2tlcicsXG4gICAgICAgIGF1dG9Jbml0U2VsZWN0b3IgPSAnLmRhdGVwaWNrZXItaGVyZScsXG4gICAgICAgICRib2R5LCAkZGF0ZXBpY2tlcnNDb250YWluZXIsXG4gICAgICAgIGNvbnRhaW5lckJ1aWx0ID0gZmFsc2UsXG4gICAgICAgIGJhc2VUZW1wbGF0ZSA9ICcnICtcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlclwiPicgK1xuICAgICAgICAgICAgJzxpIGNsYXNzPVwiZGF0ZXBpY2tlci0tcG9pbnRlclwiPjwvaT4nICtcbiAgICAgICAgICAgICc8bmF2IGNsYXNzPVwiZGF0ZXBpY2tlci0tbmF2XCI+PC9uYXY+JyArXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItLWNvbnRlbnRcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICc8L2Rpdj4nLFxuICAgICAgICBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgIGNsYXNzZXM6ICcnLFxuICAgICAgICAgICAgaW5saW5lOiBmYWxzZSxcbiAgICAgICAgICAgIGxhbmd1YWdlOiAncnUnLFxuICAgICAgICAgICAgc3RhcnREYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgZmlyc3REYXk6ICcnLFxuICAgICAgICAgICAgd2Vla2VuZHM6IFs2LCAwXSxcbiAgICAgICAgICAgIGRhdGVGb3JtYXQ6ICcnLFxuICAgICAgICAgICAgYWx0RmllbGQ6ICcnLFxuICAgICAgICAgICAgYWx0RmllbGREYXRlRm9ybWF0OiAnQCcsXG4gICAgICAgICAgICB0b2dnbGVTZWxlY3RlZDogdHJ1ZSxcbiAgICAgICAgICAgIGtleWJvYXJkTmF2OiB0cnVlLFxuXG4gICAgICAgICAgICBjb25maXJtQnV0dG9uOiB0cnVlLFxuICAgICAgICAgICAgY2xlYXJCdXR0b246IHRydWUsXG5cbiAgICAgICAgICAgIHBvc2l0aW9uOiAnYm90dG9tIGxlZnQnLFxuICAgICAgICAgICAgb2Zmc2V0OiAxMixcblxuICAgICAgICAgICAgdmlldzogJ2RheXMnLFxuICAgICAgICAgICAgbWluVmlldzogJ2RheXMnLFxuXG4gICAgICAgICAgICBzaG93T3RoZXJNb250aHM6IHRydWUsXG4gICAgICAgICAgICBzZWxlY3RPdGhlck1vbnRoczogdHJ1ZSxcbiAgICAgICAgICAgIG1vdmVUb090aGVyTW9udGhzT25TZWxlY3Q6IHRydWUsXG5cbiAgICAgICAgICAgIHNob3dPdGhlclllYXJzOiB0cnVlLFxuICAgICAgICAgICAgc2VsZWN0T3RoZXJZZWFyczogdHJ1ZSxcbiAgICAgICAgICAgIG1vdmVUb090aGVyWWVhcnNPblNlbGVjdDogdHJ1ZSxcblxuICAgICAgICAgICAgbWluRGF0ZTogJycsXG4gICAgICAgICAgICBtYXhEYXRlOiAnJyxcbiAgICAgICAgICAgIGRpc2FibGVOYXZXaGVuT3V0T2ZSYW5nZTogdHJ1ZSxcblxuICAgICAgICAgICAgbXVsdGlwbGVEYXRlczogZmFsc2UsIC8vIEJvb2xlYW4gb3IgTnVtYmVyXG4gICAgICAgICAgICBtdWx0aXBsZURhdGVzU2VwYXJhdG9yOiAnLCcsXG4gICAgICAgICAgICByYW5nZTogZmFsc2UsXG5cblxuXG4gICAgICAgICAgICBzaG93RXZlbnQ6ICdmb2N1cycsXG4gICAgICAgICAgICBhdXRvQ2xvc2U6IGZhbHNlLFxuXG4gICAgICAgICAgICAvLyBuYXZpZ2F0aW9uXG4gICAgICAgICAgICBtb250aHNGaWVsZDogJ21vbnRoc1Nob3J0JyxcbiAgICAgICAgICAgIHByZXZIdG1sOiAnPHN2Zz48dXNlIHhsaW5rOmhyZWY9XCIjaWNvbi1hcnJvd19iYWNrXCI+PC91c2U+PC9zdmc+JyxcbiAgICAgICAgICAgIG5leHRIdG1sOiAnPHN2Zz48dXNlIHhsaW5rOmhyZWY9XCIjaWNvbi1hcnJvd19mb3J3YXJkXCI+PC9zdmc+JyxcbiAgICAgICAgICAgIG5hdlRpdGxlczoge1xuICAgICAgICAgICAgICAgIGRheXM6ICdNTSA8aT55eXl5PC9pPicsXG4gICAgICAgICAgICAgICAgbW9udGhzOiAneXl5eScsXG4gICAgICAgICAgICAgICAgeWVhcnM6ICd5eXl5MSAtIHl5eXkyJ1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLy8gdGltZXBpY2tlclxuICAgICAgICAgICAgdGltZXBpY2tlcjogZmFsc2UsXG4gICAgICAgICAgICBvbmx5VGltZXBpY2tlcjogZmFsc2UsXG4gICAgICAgICAgICBkYXRlVGltZVNlcGFyYXRvcjogJyAnLFxuICAgICAgICAgICAgdGltZUZvcm1hdDogJycsXG4gICAgICAgICAgICBtaW5Ib3VyczogMCxcbiAgICAgICAgICAgIG1heEhvdXJzOiAyNCxcbiAgICAgICAgICAgIG1pbk1pbnV0ZXM6IDAsXG4gICAgICAgICAgICBtYXhNaW51dGVzOiA1OSxcbiAgICAgICAgICAgIGhvdXJzU3RlcDogMSxcbiAgICAgICAgICAgIG1pbnV0ZXNTdGVwOiAxLFxuXG4gICAgICAgICAgICAvLyBldmVudHNcbiAgICAgICAgICAgIG9uU2VsZWN0OiAnJyxcbiAgICAgICAgICAgIG9uU2hvdzogJycsXG4gICAgICAgICAgICBvbkhpZGU6ICcnLFxuICAgICAgICAgICAgb25DaGFuZ2VNb250aDogJycsXG4gICAgICAgICAgICBvbkNoYW5nZVllYXI6ICcnLFxuICAgICAgICAgICAgb25DaGFuZ2VEZWNhZGU6ICcnLFxuICAgICAgICAgICAgb25DaGFuZ2VWaWV3OiAnJyxcbiAgICAgICAgICAgIG9uUmVuZGVyQ2VsbDogJydcbiAgICAgICAgfSxcbiAgICAgICAgaG90S2V5cyA9IHtcbiAgICAgICAgICAgICdjdHJsUmlnaHQnOiBbMTcsIDM5XSxcbiAgICAgICAgICAgICdjdHJsVXAnOiBbMTcsIDM4XSxcbiAgICAgICAgICAgICdjdHJsTGVmdCc6IFsxNywgMzddLFxuICAgICAgICAgICAgJ2N0cmxEb3duJzogWzE3LCA0MF0sXG4gICAgICAgICAgICAnc2hpZnRSaWdodCc6IFsxNiwgMzldLFxuICAgICAgICAgICAgJ3NoaWZ0VXAnOiBbMTYsIDM4XSxcbiAgICAgICAgICAgICdzaGlmdExlZnQnOiBbMTYsIDM3XSxcbiAgICAgICAgICAgICdzaGlmdERvd24nOiBbMTYsIDQwXSxcbiAgICAgICAgICAgICdhbHRVcCc6IFsxOCwgMzhdLFxuICAgICAgICAgICAgJ2FsdFJpZ2h0JzogWzE4LCAzOV0sXG4gICAgICAgICAgICAnYWx0TGVmdCc6IFsxOCwgMzddLFxuICAgICAgICAgICAgJ2FsdERvd24nOiBbMTgsIDQwXSxcbiAgICAgICAgICAgICdjdHJsU2hpZnRVcCc6IFsxNiwgMTcsIDM4XVxuICAgICAgICB9LFxuICAgICAgICBkYXRlcGlja2VyO1xuXG4gICAgdmFyIERhdGVwaWNrZXIgID0gZnVuY3Rpb24gKGVsLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuZWwgPSBlbDtcbiAgICAgICAgdGhpcy4kZWwgPSAkKGVsKTtcblxuICAgICAgICB0aGlzLm9wdHMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgZGVmYXVsdHMsIG9wdGlvbnMsIHRoaXMuJGVsLmRhdGEoKSk7XG5cbiAgICAgICAgaWYgKCRib2R5ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgJGJvZHkgPSAkKCdib2R5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMub3B0cy5zdGFydERhdGUpIHtcbiAgICAgICAgICAgIHRoaXMub3B0cy5zdGFydERhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZWwubm9kZU5hbWUgPT0gJ0lOUFVUJykge1xuICAgICAgICAgICAgdGhpcy5lbElzSW5wdXQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub3B0cy5hbHRGaWVsZCkge1xuICAgICAgICAgICAgdGhpcy4kYWx0RmllbGQgPSB0eXBlb2YgdGhpcy5vcHRzLmFsdEZpZWxkID09ICdzdHJpbmcnID8gJCh0aGlzLm9wdHMuYWx0RmllbGQpIDogdGhpcy5vcHRzLmFsdEZpZWxkO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbml0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2lsZW50ID0gZmFsc2U7IC8vIE5lZWQgdG8gcHJldmVudCB1bm5lY2Vzc2FyeSByZW5kZXJpbmdcblxuICAgICAgICB0aGlzLmN1cnJlbnREYXRlID0gdGhpcy5vcHRzLnN0YXJ0RGF0ZTtcbiAgICAgICAgdGhpcy5jdXJyZW50VmlldyA9IHRoaXMub3B0cy52aWV3O1xuICAgICAgICB0aGlzLl9jcmVhdGVTaG9ydEN1dHMoKTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZERhdGVzID0gW107XG4gICAgICAgIHRoaXMudmlld3MgPSB7fTtcbiAgICAgICAgdGhpcy5rZXlzID0gW107XG4gICAgICAgIHRoaXMubWluUmFuZ2UgPSAnJztcbiAgICAgICAgdGhpcy5tYXhSYW5nZSA9ICcnO1xuICAgICAgICB0aGlzLl9wcmV2T25TZWxlY3RWYWx1ZSA9ICcnO1xuXG4gICAgICAgIHRoaXMuaW5pdCgpXG4gICAgfTtcblxuICAgIGRhdGVwaWNrZXIgPSBEYXRlcGlja2VyO1xuXG4gICAgZGF0ZXBpY2tlci5wcm90b3R5cGUgPSB7XG4gICAgICAgIFZFUlNJT046IFZFUlNJT04sXG4gICAgICAgIHZpZXdJbmRleGVzOiBbJ2RheXMnLCAnbW9udGhzJywgJ3llYXJzJ10sXG5cbiAgICAgICAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFjb250YWluZXJCdWlsdCAmJiAhdGhpcy5vcHRzLmlubGluZSAmJiB0aGlzLmVsSXNJbnB1dCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2J1aWxkRGF0ZXBpY2tlcnNDb250YWluZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2J1aWxkQmFzZUh0bWwoKTtcbiAgICAgICAgICAgIHRoaXMuX2RlZmluZUxvY2FsZSh0aGlzLm9wdHMubGFuZ3VhZ2UpO1xuICAgICAgICAgICAgdGhpcy5fc3luY1dpdGhNaW5NYXhEYXRlcygpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5lbElzSW5wdXQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMub3B0cy5pbmxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2V0IGV4dHJhIGNsYXNzZXMgZm9yIHByb3BlciB0cmFuc2l0aW9uc1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXRQb3NpdGlvbkNsYXNzZXModGhpcy5vcHRzLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYmluZEV2ZW50cygpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdHMua2V5Ym9hcmROYXYgJiYgIXRoaXMub3B0cy5vbmx5VGltZXBpY2tlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9iaW5kS2V5Ym9hcmRFdmVudHMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy4kZGF0ZXBpY2tlci5vbignbW91c2Vkb3duJywgdGhpcy5fb25Nb3VzZURvd25EYXRlcGlja2VyLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICAgIHRoaXMuJGRhdGVwaWNrZXIub24oJ21vdXNldXAnLCB0aGlzLl9vbk1vdXNlVXBEYXRlcGlja2VyLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLmNsYXNzZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRkYXRlcGlja2VyLmFkZENsYXNzKHRoaXMub3B0cy5jbGFzc2VzKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLnRpbWVwaWNrZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVwaWNrZXIgPSBuZXcgJC5mbi5kYXRlcGlja2VyLlRpbWVwaWNrZXIodGhpcywgdGhpcy5vcHRzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9iaW5kVGltZXBpY2tlckV2ZW50cygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLm9ubHlUaW1lcGlja2VyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kZGF0ZXBpY2tlci5hZGRDbGFzcygnLW9ubHktdGltZXBpY2tlci0nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy52aWV3c1t0aGlzLmN1cnJlbnRWaWV3XSA9IG5ldyAkLmZuLmRhdGVwaWNrZXIuQm9keSh0aGlzLCB0aGlzLmN1cnJlbnRWaWV3LCB0aGlzLm9wdHMpO1xuICAgICAgICAgICAgdGhpcy52aWV3c1t0aGlzLmN1cnJlbnRWaWV3XS5zaG93KCk7XG4gICAgICAgICAgICB0aGlzLm5hdiA9IG5ldyAkLmZuLmRhdGVwaWNrZXIuTmF2aWdhdGlvbih0aGlzLCB0aGlzLm9wdHMpO1xuICAgICAgICAgICAgdGhpcy52aWV3ID0gdGhpcy5jdXJyZW50VmlldztcblxuICAgICAgICAgICAgdGhpcy4kZWwub24oJ2NsaWNrQ2VsbC5hZHAnLCB0aGlzLl9vbkNsaWNrQ2VsbC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHRoaXMuJGRhdGVwaWNrZXIub24oJ21vdXNlZW50ZXInLCAnLmRhdGVwaWNrZXItLWNlbGwnLCB0aGlzLl9vbk1vdXNlRW50ZXJDZWxsLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgdGhpcy4kZGF0ZXBpY2tlci5vbignbW91c2VsZWF2ZScsICcuZGF0ZXBpY2tlci0tY2VsbCcsIHRoaXMuX29uTW91c2VMZWF2ZUNlbGwuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgICAgIHRoaXMuaW5pdGVkID0gdHJ1ZTtcbiAgICAgICAgfSxcblxuICAgICAgICBfY3JlYXRlU2hvcnRDdXRzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLm1pbkRhdGUgPSB0aGlzLm9wdHMubWluRGF0ZSA/IHRoaXMub3B0cy5taW5EYXRlIDogbmV3IERhdGUoLTg2Mzk5OTk5MTM2MDAwMDApO1xuICAgICAgICAgICAgdGhpcy5tYXhEYXRlID0gdGhpcy5vcHRzLm1heERhdGUgPyB0aGlzLm9wdHMubWF4RGF0ZSA6IG5ldyBEYXRlKDg2Mzk5OTk5MTM2MDAwMDApO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9iaW5kRXZlbnRzIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy4kZWwub24odGhpcy5vcHRzLnNob3dFdmVudCArICcuYWRwJywgdGhpcy5fb25TaG93RXZlbnQuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLiRlbC5vbignbW91c2V1cC5hZHAnLCB0aGlzLl9vbk1vdXNlVXBFbC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHRoaXMuJGVsLm9uKCdibHVyLmFkcCcsIHRoaXMuX29uQmx1ci5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHRoaXMuJGVsLm9uKCdrZXl1cC5hZHAnLCB0aGlzLl9vbktleVVwR2VuZXJhbC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICQod2luZG93KS5vbigncmVzaXplLmFkcCcsIHRoaXMuX29uUmVzaXplLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgJCgnYm9keScpLm9uKCdtb3VzZXVwLmFkcCcsIHRoaXMuX29uTW91c2VVcEJvZHkuYmluZCh0aGlzKSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2JpbmRLZXlib2FyZEV2ZW50czogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy4kZWwub24oJ2tleWRvd24uYWRwJywgdGhpcy5fb25LZXlEb3duLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgdGhpcy4kZWwub24oJ2tleXVwLmFkcCcsIHRoaXMuX29uS2V5VXAuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLiRlbC5vbignaG90S2V5LmFkcCcsIHRoaXMuX29uSG90S2V5LmJpbmQodGhpcykpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9iaW5kVGltZXBpY2tlckV2ZW50czogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy4kZWwub24oJ3RpbWVDaGFuZ2UuYWRwJywgdGhpcy5fb25UaW1lQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGlzV2Vla2VuZDogZnVuY3Rpb24gKGRheSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3B0cy53ZWVrZW5kcy5pbmRleE9mKGRheSkgIT09IC0xO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9kZWZpbmVMb2NhbGU6IGZ1bmN0aW9uIChsYW5nKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGxhbmcgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYyA9ICQuZm4uZGF0ZXBpY2tlci5sYW5ndWFnZVtsYW5nXTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMubG9jKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignQ2FuXFwndCBmaW5kIGxhbmd1YWdlIFwiJyArIGxhbmcgKyAnXCIgaW4gRGF0ZXBpY2tlci5sYW5ndWFnZSwgd2lsbCB1c2UgXCJydVwiIGluc3RlYWQnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2MgPSAkLmV4dGVuZCh0cnVlLCB7fSwgJC5mbi5kYXRlcGlja2VyLmxhbmd1YWdlLnJ1KVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMubG9jID0gJC5leHRlbmQodHJ1ZSwge30sICQuZm4uZGF0ZXBpY2tlci5sYW5ndWFnZS5ydSwgJC5mbi5kYXRlcGlja2VyLmxhbmd1YWdlW2xhbmddKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYyA9ICQuZXh0ZW5kKHRydWUsIHt9LCAkLmZuLmRhdGVwaWNrZXIubGFuZ3VhZ2UucnUsIGxhbmcpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdHMuZGF0ZUZvcm1hdCkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9jLmRhdGVGb3JtYXQgPSB0aGlzLm9wdHMuZGF0ZUZvcm1hdFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLnRpbWVGb3JtYXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYy50aW1lRm9ybWF0ID0gdGhpcy5vcHRzLnRpbWVGb3JtYXRcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5maXJzdERheSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYy5maXJzdERheSA9IHRoaXMub3B0cy5maXJzdERheVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLnRpbWVwaWNrZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYy5kYXRlRm9ybWF0ID0gW3RoaXMubG9jLmRhdGVGb3JtYXQsIHRoaXMubG9jLnRpbWVGb3JtYXRdLmpvaW4odGhpcy5vcHRzLmRhdGVUaW1lU2VwYXJhdG9yKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5vbmx5VGltZXBpY2tlcikge1xuICAgICAgICAgICAgICAgIHRoaXMubG9jLmRhdGVGb3JtYXQgPSB0aGlzLmxvYy50aW1lRm9ybWF0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgYm91bmRhcnkgPSB0aGlzLl9nZXRXb3JkQm91bmRhcnlSZWdFeHA7XG4gICAgICAgICAgICBpZiAodGhpcy5sb2MudGltZUZvcm1hdC5tYXRjaChib3VuZGFyeSgnYWEnKSkgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmxvYy50aW1lRm9ybWF0Lm1hdGNoKGJvdW5kYXJ5KCdBQScpKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICB0aGlzLmFtcG0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9idWlsZERhdGVwaWNrZXJzQ29udGFpbmVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb250YWluZXJCdWlsdCA9IHRydWU7XG4gICAgICAgICAgICAkYm9keS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJkYXRlcGlja2Vycy1jb250YWluZXJcIiBpZD1cImRhdGVwaWNrZXJzLWNvbnRhaW5lclwiPjwvZGl2PicpO1xuICAgICAgICAgICAgJGRhdGVwaWNrZXJzQ29udGFpbmVyID0gJCgnI2RhdGVwaWNrZXJzLWNvbnRhaW5lcicpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9idWlsZEJhc2VIdG1sOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgJGFwcGVuZFRhcmdldCxcbiAgICAgICAgICAgICAgICAkaW5saW5lID0gJCgnPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItaW5saW5lXCI+Jyk7XG5cbiAgICAgICAgICAgIGlmKHRoaXMuZWwubm9kZU5hbWUgPT0gJ0lOUFVUJykge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5vcHRzLmlubGluZSkge1xuICAgICAgICAgICAgICAgICAgICAkYXBwZW5kVGFyZ2V0ID0gJGRhdGVwaWNrZXJzQ29udGFpbmVyO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICRhcHBlbmRUYXJnZXQgPSAkaW5saW5lLmluc2VydEFmdGVyKHRoaXMuJGVsKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJGFwcGVuZFRhcmdldCA9ICRpbmxpbmUuYXBwZW5kVG8odGhpcy4kZWwpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuJGRhdGVwaWNrZXIgPSAkKGJhc2VUZW1wbGF0ZSkuYXBwZW5kVG8oJGFwcGVuZFRhcmdldCk7XG4gICAgICAgICAgICB0aGlzLiRjb250ZW50ID0gJCgnLmRhdGVwaWNrZXItLWNvbnRlbnQnLCB0aGlzLiRkYXRlcGlja2VyKTtcbiAgICAgICAgICAgIHRoaXMuJG5hdiA9ICQoJy5kYXRlcGlja2VyLS1uYXYnLCB0aGlzLiRkYXRlcGlja2VyKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfdHJpZ2dlck9uQ2hhbmdlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc2VsZWN0ZWREYXRlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IGZyb20gdHJpZ2dlcmluZyBtdWx0aXBsZSBvblNlbGVjdCBjYWxsYmFjayB3aXRoIHNhbWUgYXJndW1lbnQgKGVtcHR5IHN0cmluZykgaW4gSUUxMC0xMVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9wcmV2T25TZWxlY3RWYWx1ZSA9PT0gJycpIHJldHVybjtcbiAgICAgICAgICAgICAgICB0aGlzLl9wcmV2T25TZWxlY3RWYWx1ZSA9ICcnO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdHMub25TZWxlY3QoJycsICcnLCB0aGlzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHNlbGVjdGVkRGF0ZXMgPSB0aGlzLnNlbGVjdGVkRGF0ZXMsXG4gICAgICAgICAgICAgICAgcGFyc2VkU2VsZWN0ZWQgPSBkYXRlcGlja2VyLmdldFBhcnNlZERhdGUoc2VsZWN0ZWREYXRlc1swXSksXG4gICAgICAgICAgICAgICAgZm9ybWF0dGVkRGF0ZXMsXG4gICAgICAgICAgICAgICAgX3RoaXMgPSB0aGlzLFxuICAgICAgICAgICAgICAgIGRhdGVzID0gbmV3IERhdGUoXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZFNlbGVjdGVkLnllYXIsXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZFNlbGVjdGVkLm1vbnRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJzZWRTZWxlY3RlZC5kYXRlLFxuICAgICAgICAgICAgICAgICAgICBwYXJzZWRTZWxlY3RlZC5ob3VycyxcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkU2VsZWN0ZWQubWludXRlc1xuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWREYXRlcyA9IHNlbGVjdGVkRGF0ZXMubWFwKGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5mb3JtYXREYXRlKF90aGlzLmxvYy5kYXRlRm9ybWF0LCBkYXRlKVxuICAgICAgICAgICAgICAgIH0pLmpvaW4odGhpcy5vcHRzLm11bHRpcGxlRGF0ZXNTZXBhcmF0b3IpO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGUgbmV3IGRhdGVzIGFycmF5LCB0byBzZXBhcmF0ZSBpdCBmcm9tIG9yaWdpbmFsIHNlbGVjdGVkRGF0ZXNcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdHMubXVsdGlwbGVEYXRlcyB8fCB0aGlzLm9wdHMucmFuZ2UpIHtcbiAgICAgICAgICAgICAgICBkYXRlcyA9IHNlbGVjdGVkRGF0ZXMubWFwKGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnNlZERhdGUgPSBkYXRlcGlja2VyLmdldFBhcnNlZERhdGUoZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZERhdGUueWVhcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZERhdGUubW9udGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWREYXRlLmRhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWREYXRlLmhvdXJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkRGF0ZS5taW51dGVzXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fcHJldk9uU2VsZWN0VmFsdWUgPSBmb3JtYXR0ZWREYXRlcztcbiAgICAgICAgICAgIHRoaXMub3B0cy5vblNlbGVjdChmb3JtYXR0ZWREYXRlcywgZGF0ZXMsIHRoaXMpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkID0gdGhpcy5wYXJzZWREYXRlLFxuICAgICAgICAgICAgICAgIG8gPSB0aGlzLm9wdHM7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMudmlldykge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2RheXMnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGUgPSBuZXcgRGF0ZShkLnllYXIsIGQubW9udGggKyAxLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG8ub25DaGFuZ2VNb250aCkgby5vbkNoYW5nZU1vbnRoKHRoaXMucGFyc2VkRGF0ZS5tb250aCwgdGhpcy5wYXJzZWREYXRlLnllYXIpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdtb250aHMnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGUgPSBuZXcgRGF0ZShkLnllYXIgKyAxLCBkLm1vbnRoLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG8ub25DaGFuZ2VZZWFyKSBvLm9uQ2hhbmdlWWVhcih0aGlzLnBhcnNlZERhdGUueWVhcik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3llYXJzJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRlID0gbmV3IERhdGUoZC55ZWFyICsgMTAsIDAsIDEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoby5vbkNoYW5nZURlY2FkZSkgby5vbkNoYW5nZURlY2FkZSh0aGlzLmN1ckRlY2FkZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHByZXY6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkID0gdGhpcy5wYXJzZWREYXRlLFxuICAgICAgICAgICAgICAgIG8gPSB0aGlzLm9wdHM7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMudmlldykge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2RheXMnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGUgPSBuZXcgRGF0ZShkLnllYXIsIGQubW9udGggLSAxLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG8ub25DaGFuZ2VNb250aCkgby5vbkNoYW5nZU1vbnRoKHRoaXMucGFyc2VkRGF0ZS5tb250aCwgdGhpcy5wYXJzZWREYXRlLnllYXIpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdtb250aHMnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGUgPSBuZXcgRGF0ZShkLnllYXIgLSAxLCBkLm1vbnRoLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG8ub25DaGFuZ2VZZWFyKSBvLm9uQ2hhbmdlWWVhcih0aGlzLnBhcnNlZERhdGUueWVhcik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3llYXJzJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRlID0gbmV3IERhdGUoZC55ZWFyIC0gMTAsIDAsIDEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoby5vbkNoYW5nZURlY2FkZSkgby5vbkNoYW5nZURlY2FkZSh0aGlzLmN1ckRlY2FkZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGZvcm1hdERhdGU6IGZ1bmN0aW9uIChzdHJpbmcsIGRhdGUpIHtcbiAgICAgICAgICAgIGRhdGUgPSBkYXRlIHx8IHRoaXMuZGF0ZTtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBzdHJpbmcsXG4gICAgICAgICAgICAgICAgYm91bmRhcnkgPSB0aGlzLl9nZXRXb3JkQm91bmRhcnlSZWdFeHAsXG4gICAgICAgICAgICAgICAgbG9jYWxlID0gdGhpcy5sb2MsXG4gICAgICAgICAgICAgICAgbGVhZGluZ1plcm8gPSBkYXRlcGlja2VyLmdldExlYWRpbmdaZXJvTnVtLFxuICAgICAgICAgICAgICAgIGRlY2FkZSA9IGRhdGVwaWNrZXIuZ2V0RGVjYWRlKGRhdGUpLFxuICAgICAgICAgICAgICAgIGQgPSBkYXRlcGlja2VyLmdldFBhcnNlZERhdGUoZGF0ZSksXG4gICAgICAgICAgICAgICAgZnVsbEhvdXJzID0gZC5mdWxsSG91cnMsXG4gICAgICAgICAgICAgICAgaG91cnMgPSBkLmhvdXJzLFxuICAgICAgICAgICAgICAgIGFtcG0gPSBzdHJpbmcubWF0Y2goYm91bmRhcnkoJ2FhJykpIHx8IHN0cmluZy5tYXRjaChib3VuZGFyeSgnQUEnKSksXG4gICAgICAgICAgICAgICAgZGF5UGVyaW9kID0gJ2FtJyxcbiAgICAgICAgICAgICAgICByZXBsYWNlciA9IHRoaXMuX3JlcGxhY2VyLFxuICAgICAgICAgICAgICAgIHZhbGlkSG91cnM7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdHMudGltZXBpY2tlciAmJiB0aGlzLnRpbWVwaWNrZXIgJiYgYW1wbSkge1xuICAgICAgICAgICAgICAgIHZhbGlkSG91cnMgPSB0aGlzLnRpbWVwaWNrZXIuX2dldFZhbGlkSG91cnNGcm9tRGF0ZShkYXRlLCBhbXBtKTtcbiAgICAgICAgICAgICAgICBmdWxsSG91cnMgPSBsZWFkaW5nWmVybyh2YWxpZEhvdXJzLmhvdXJzKTtcbiAgICAgICAgICAgICAgICBob3VycyA9IHZhbGlkSG91cnMuaG91cnM7XG4gICAgICAgICAgICAgICAgZGF5UGVyaW9kID0gdmFsaWRIb3Vycy5kYXlQZXJpb2Q7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgL0AvLnRlc3QocmVzdWx0KTpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoL0AvLCBkYXRlLmdldFRpbWUoKSk7XG4gICAgICAgICAgICAgICAgY2FzZSAvYWEvLnRlc3QocmVzdWx0KTpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVwbGFjZXIocmVzdWx0LCBib3VuZGFyeSgnYWEnKSwgZGF5UGVyaW9kKTtcbiAgICAgICAgICAgICAgICBjYXNlIC9BQS8udGVzdChyZXN1bHQpOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXBsYWNlcihyZXN1bHQsIGJvdW5kYXJ5KCdBQScpLCBkYXlQZXJpb2QudG9VcHBlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgY2FzZSAvZGQvLnRlc3QocmVzdWx0KTpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVwbGFjZXIocmVzdWx0LCBib3VuZGFyeSgnZGQnKSwgZC5mdWxsRGF0ZSk7XG4gICAgICAgICAgICAgICAgY2FzZSAvZC8udGVzdChyZXN1bHQpOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXBsYWNlcihyZXN1bHQsIGJvdW5kYXJ5KCdkJyksIGQuZGF0ZSk7XG4gICAgICAgICAgICAgICAgY2FzZSAvREQvLnRlc3QocmVzdWx0KTpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVwbGFjZXIocmVzdWx0LCBib3VuZGFyeSgnREQnKSwgbG9jYWxlLmRheXNbZC5kYXldKTtcbiAgICAgICAgICAgICAgICBjYXNlIC9ELy50ZXN0KHJlc3VsdCk6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlcGxhY2VyKHJlc3VsdCwgYm91bmRhcnkoJ0QnKSwgbG9jYWxlLmRheXNTaG9ydFtkLmRheV0pO1xuICAgICAgICAgICAgICAgIGNhc2UgL21tLy50ZXN0KHJlc3VsdCk6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlcGxhY2VyKHJlc3VsdCwgYm91bmRhcnkoJ21tJyksIGQuZnVsbE1vbnRoKTtcbiAgICAgICAgICAgICAgICBjYXNlIC9tLy50ZXN0KHJlc3VsdCk6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlcGxhY2VyKHJlc3VsdCwgYm91bmRhcnkoJ20nKSwgZC5tb250aCArIDEpO1xuICAgICAgICAgICAgICAgIGNhc2UgL01NLy50ZXN0KHJlc3VsdCk6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlcGxhY2VyKHJlc3VsdCwgYm91bmRhcnkoJ01NJyksIHRoaXMubG9jLm1vbnRoc1tkLm1vbnRoXSk7XG4gICAgICAgICAgICAgICAgY2FzZSAvTS8udGVzdChyZXN1bHQpOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXBsYWNlcihyZXN1bHQsIGJvdW5kYXJ5KCdNJyksIGxvY2FsZS5tb250aHNTaG9ydFtkLm1vbnRoXSk7XG4gICAgICAgICAgICAgICAgY2FzZSAvaWkvLnRlc3QocmVzdWx0KTpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVwbGFjZXIocmVzdWx0LCBib3VuZGFyeSgnaWknKSwgZC5mdWxsTWludXRlcyk7XG4gICAgICAgICAgICAgICAgY2FzZSAvaS8udGVzdChyZXN1bHQpOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXBsYWNlcihyZXN1bHQsIGJvdW5kYXJ5KCdpJyksIGQubWludXRlcyk7XG4gICAgICAgICAgICAgICAgY2FzZSAvaGgvLnRlc3QocmVzdWx0KTpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVwbGFjZXIocmVzdWx0LCBib3VuZGFyeSgnaGgnKSwgZnVsbEhvdXJzKTtcbiAgICAgICAgICAgICAgICBjYXNlIC9oLy50ZXN0KHJlc3VsdCk6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlcGxhY2VyKHJlc3VsdCwgYm91bmRhcnkoJ2gnKSwgaG91cnMpO1xuICAgICAgICAgICAgICAgIGNhc2UgL3l5eXkvLnRlc3QocmVzdWx0KTpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVwbGFjZXIocmVzdWx0LCBib3VuZGFyeSgneXl5eScpLCBkLnllYXIpO1xuICAgICAgICAgICAgICAgIGNhc2UgL3l5eXkxLy50ZXN0KHJlc3VsdCk6XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlcGxhY2VyKHJlc3VsdCwgYm91bmRhcnkoJ3l5eXkxJyksIGRlY2FkZVswXSk7XG4gICAgICAgICAgICAgICAgY2FzZSAveXl5eTIvLnRlc3QocmVzdWx0KTpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVwbGFjZXIocmVzdWx0LCBib3VuZGFyeSgneXl5eTInKSwgZGVjYWRlWzFdKTtcbiAgICAgICAgICAgICAgICBjYXNlIC95eS8udGVzdChyZXN1bHQpOlxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXBsYWNlcihyZXN1bHQsIGJvdW5kYXJ5KCd5eScpLCBkLnllYXIudG9TdHJpbmcoKS5zbGljZSgtMikpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LFxuXG4gICAgICAgIF9yZXBsYWNlcjogZnVuY3Rpb24gKHN0ciwgcmVnLCBkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UocmVnLCBmdW5jdGlvbiAobWF0Y2gsIHAxLHAyLHAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHAxICsgZGF0YSArIHAzO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcblxuICAgICAgICBfZ2V0V29yZEJvdW5kYXJ5UmVnRXhwOiBmdW5jdGlvbiAoc2lnbikge1xuICAgICAgICAgICAgdmFyIHN5bWJvbHMgPSAnXFxcXHN8XFxcXC58LXwvfFxcXFxcXFxcfCx8XFxcXCR8XFxcXCF8XFxcXD98Onw7JztcblxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoJyhefD58JyArIHN5bWJvbHMgKyAnKSgnICsgc2lnbiArICcpKCR8PHwnICsgc3ltYm9scyArICcpJywgJ2cnKTtcbiAgICAgICAgfSxcblxuXG4gICAgICAgIHNlbGVjdERhdGU6IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzLFxuICAgICAgICAgICAgICAgIG9wdHMgPSBfdGhpcy5vcHRzLFxuICAgICAgICAgICAgICAgIGQgPSBfdGhpcy5wYXJzZWREYXRlLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkRGF0ZXMgPSBfdGhpcy5zZWxlY3RlZERhdGVzLFxuICAgICAgICAgICAgICAgIGxlbiA9IHNlbGVjdGVkRGF0ZXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIG5ld0RhdGUgPSAnJztcblxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0ZSkpIHtcbiAgICAgICAgICAgICAgICBkYXRlLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2VsZWN0RGF0ZShkKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCEoZGF0ZSBpbnN0YW5jZW9mIERhdGUpKSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMubGFzdFNlbGVjdGVkRGF0ZSA9IGRhdGU7XG5cbiAgICAgICAgICAgIC8vIFNldCBuZXcgdGltZSB2YWx1ZXMgZnJvbSBEYXRlXG4gICAgICAgICAgICBpZiAodGhpcy50aW1lcGlja2VyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aW1lcGlja2VyLl9zZXRUaW1lKGRhdGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBPbiB0aGlzIHN0ZXAgdGltZXBpY2tlciB3aWxsIHNldCB2YWxpZCB2YWx1ZXMgaW4gaXQncyBpbnN0YW5jZVxuICAgICAgICAgICAgX3RoaXMuX3RyaWdnZXIoJ3NlbGVjdERhdGUnLCBkYXRlKTtcblxuICAgICAgICAgICAgLy8gU2V0IGNvcnJlY3QgdGltZSB2YWx1ZXMgYWZ0ZXIgdGltZXBpY2tlcidzIHZhbGlkYXRpb25cbiAgICAgICAgICAgIC8vIFByZXZlbnQgZnJvbSBzZXR0aW5nIGhvdXJzIG9yIG1pbnV0ZXMgd2hpY2ggdmFsdWVzIGFyZSBsZXNzZXIgdGhlbiBgbWluYCB2YWx1ZSBvclxuICAgICAgICAgICAgLy8gZ3JlYXRlciB0aGVuIGBtYXhgIHZhbHVlXG4gICAgICAgICAgICBpZiAodGhpcy50aW1lcGlja2VyKSB7XG4gICAgICAgICAgICAgICAgZGF0ZS5zZXRIb3Vycyh0aGlzLnRpbWVwaWNrZXIuaG91cnMpO1xuICAgICAgICAgICAgICAgIGRhdGUuc2V0TWludXRlcyh0aGlzLnRpbWVwaWNrZXIubWludXRlcylcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKF90aGlzLnZpZXcgPT0gJ2RheXMnKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGUuZ2V0TW9udGgoKSAhPSBkLm1vbnRoICYmIG9wdHMubW92ZVRvT3RoZXJNb250aHNPblNlbGVjdCkge1xuICAgICAgICAgICAgICAgICAgICBuZXdEYXRlID0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKF90aGlzLnZpZXcgPT0gJ3llYXJzJykge1xuICAgICAgICAgICAgICAgIGlmIChkYXRlLmdldEZ1bGxZZWFyKCkgIT0gZC55ZWFyICYmIG9wdHMubW92ZVRvT3RoZXJZZWFyc09uU2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0RhdGUgPSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIDAsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5ld0RhdGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zaWxlbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF90aGlzLmRhdGUgPSBuZXdEYXRlO1xuICAgICAgICAgICAgICAgIF90aGlzLnNpbGVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIF90aGlzLm5hdi5fcmVuZGVyKClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9wdHMubXVsdGlwbGVEYXRlcyAmJiAhb3B0cy5yYW5nZSkgeyAvLyBTZXQgcHJpb3JpdHkgdG8gcmFuZ2UgZnVuY3Rpb25hbGl0eVxuICAgICAgICAgICAgICAgIGlmIChsZW4gPT09IG9wdHMubXVsdGlwbGVEYXRlcykgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmICghX3RoaXMuX2lzU2VsZWN0ZWQoZGF0ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2VsZWN0ZWREYXRlcy5wdXNoKGRhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAob3B0cy5yYW5nZSkge1xuICAgICAgICAgICAgICAgIGlmIChsZW4gPT0gMikge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZWxlY3RlZERhdGVzID0gW2RhdGVdO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5taW5SYW5nZSA9IGRhdGU7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm1heFJhbmdlID0gJyc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsZW4gPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZWxlY3RlZERhdGVzLnB1c2goZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMubWF4UmFuZ2Upe1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubWF4UmFuZ2UgPSBkYXRlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubWluUmFuZ2UgPSBkYXRlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFN3YXAgZGF0ZXMgaWYgdGhleSB3ZXJlIHNlbGVjdGVkIHZpYSBkcC5zZWxlY3REYXRlKCkgYW5kIHNlY29uZCBkYXRlIHdhcyBzbWFsbGVyIHRoZW4gZmlyc3RcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGVwaWNrZXIuYmlnZ2VyKF90aGlzLm1heFJhbmdlLCBfdGhpcy5taW5SYW5nZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm1heFJhbmdlID0gX3RoaXMubWluUmFuZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5taW5SYW5nZSA9IGRhdGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2VsZWN0ZWREYXRlcyA9IFtfdGhpcy5taW5SYW5nZSwgX3RoaXMubWF4UmFuZ2VdXG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZWxlY3RlZERhdGVzID0gW2RhdGVdO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5taW5SYW5nZSA9IGRhdGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZWxlY3RlZERhdGVzID0gW2RhdGVdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfdGhpcy5fc2V0SW5wdXRWYWx1ZSgpO1xuXG4gICAgICAgICAgICBpZiAob3B0cy5vblNlbGVjdCkge1xuICAgICAgICAgICAgICAgIF90aGlzLl90cmlnZ2VyT25DaGFuZ2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9wdHMuYXV0b0Nsb3NlICYmICF0aGlzLnRpbWVwaWNrZXJJc0FjdGl2ZSkge1xuICAgICAgICAgICAgICAgIGlmICghb3B0cy5tdWx0aXBsZURhdGVzICYmICFvcHRzLnJhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9wdHMucmFuZ2UgJiYgX3RoaXMuc2VsZWN0ZWREYXRlcy5sZW5ndGggPT0gMikge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfdGhpcy52aWV3c1t0aGlzLmN1cnJlbnRWaWV3XS5fcmVuZGVyKClcbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmVEYXRlOiBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICAgICAgdmFyIHNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZERhdGVzLFxuICAgICAgICAgICAgICAgIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgaWYgKCEoZGF0ZSBpbnN0YW5jZW9mIERhdGUpKSByZXR1cm47XG5cbiAgICAgICAgICAgIHJldHVybiBzZWxlY3RlZC5zb21lKGZ1bmN0aW9uIChjdXJEYXRlLCBpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGVwaWNrZXIuaXNTYW1lKGN1ckRhdGUsIGRhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkLnNwbGljZShpLCAxKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLnNlbGVjdGVkRGF0ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5taW5SYW5nZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubWF4UmFuZ2UgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxhc3RTZWxlY3RlZERhdGUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmxhc3RTZWxlY3RlZERhdGUgPSBfdGhpcy5zZWxlY3RlZERhdGVzW190aGlzLnNlbGVjdGVkRGF0ZXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBfdGhpcy52aWV3c1tfdGhpcy5jdXJyZW50Vmlld10uX3JlbmRlcigpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc2V0SW5wdXRWYWx1ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5vcHRzLm9uU2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdHJpZ2dlck9uQ2hhbmdlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sXG5cbiAgICAgICAgY29uZmlybTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLyp0aGlzLnNpbGVudCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnZpZXcgPSB0aGlzLm9wdHMubWluVmlldztcbiAgICAgICAgICAgIHRoaXMuc2lsZW50ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmRhdGUgPSBuZXcgRGF0ZSgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLmNvbmZpcm1CdXR0b24gaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3REYXRlKHRoaXMub3B0cy5jb25maXJtQnV0dG9uKVxuICAgICAgICAgICAgfSovXG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xlYXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWREYXRlcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5taW5SYW5nZSA9ICcnO1xuICAgICAgICAgICAgdGhpcy5tYXhSYW5nZSA9ICcnO1xuICAgICAgICAgICAgdGhpcy52aWV3c1t0aGlzLmN1cnJlbnRWaWV3XS5fcmVuZGVyKCk7XG4gICAgICAgICAgICB0aGlzLl9zZXRJbnB1dFZhbHVlKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLm9uU2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlck9uQ2hhbmdlKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXBkYXRlcyBkYXRlcGlja2VyIG9wdGlvbnNcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBwYXJhbSAtIHBhcmFtZXRlcidzIG5hbWUgdG8gdXBkYXRlLiBJZiBvYmplY3QgdGhlbiBpdCB3aWxsIGV4dGVuZCBjdXJyZW50IG9wdGlvbnNcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfE9iamVjdH0gW3ZhbHVlXSAtIG5ldyBwYXJhbSB2YWx1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdXBkYXRlOiBmdW5jdGlvbiAocGFyYW0sIHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBsYXN0U2VsZWN0ZWREYXRlID0gdGhpcy5sYXN0U2VsZWN0ZWREYXRlO1xuXG4gICAgICAgICAgICBpZiAobGVuID09IDIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdHNbcGFyYW1dID0gdmFsdWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxlbiA9PSAxICYmIHR5cGVvZiBwYXJhbSA9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHRoaXMub3B0cyA9ICQuZXh0ZW5kKHRydWUsIHRoaXMub3B0cywgcGFyYW0pXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVNob3J0Q3V0cygpO1xuICAgICAgICAgICAgdGhpcy5fc3luY1dpdGhNaW5NYXhEYXRlcygpO1xuICAgICAgICAgICAgdGhpcy5fZGVmaW5lTG9jYWxlKHRoaXMub3B0cy5sYW5ndWFnZSk7XG4gICAgICAgICAgICB0aGlzLm5hdi5fYWRkQnV0dG9uc0lmTmVlZCgpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdHMub25seVRpbWVwaWNrZXIpIHRoaXMubmF2Ll9yZW5kZXIoKTtcbiAgICAgICAgICAgIHRoaXMudmlld3NbdGhpcy5jdXJyZW50Vmlld10uX3JlbmRlcigpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5lbElzSW5wdXQgJiYgIXRoaXMub3B0cy5pbmxpbmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRQb3NpdGlvbkNsYXNzZXModGhpcy5vcHRzLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0UG9zaXRpb24odGhpcy5vcHRzLnBvc2l0aW9uKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5jbGFzc2VzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kZGF0ZXBpY2tlci5hZGRDbGFzcyh0aGlzLm9wdHMuY2xhc3NlcylcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5vbmx5VGltZXBpY2tlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuJGRhdGVwaWNrZXIuYWRkQ2xhc3MoJy1vbmx5LXRpbWVwaWNrZXItJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdHMudGltZXBpY2tlcikge1xuICAgICAgICAgICAgICAgIGlmIChsYXN0U2VsZWN0ZWREYXRlKSB0aGlzLnRpbWVwaWNrZXIuX2hhbmRsZURhdGUobGFzdFNlbGVjdGVkRGF0ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy50aW1lcGlja2VyLl91cGRhdGVSYW5nZXMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVwaWNrZXIuX3VwZGF0ZUN1cnJlbnRUaW1lKCk7XG4gICAgICAgICAgICAgICAgLy8gQ2hhbmdlIGhvdXJzIGFuZCBtaW51dGVzIGlmIGl0J3MgdmFsdWVzIGhhdmUgYmVlbiBjaGFuZ2VkIHRocm91Z2ggbWluL21heCBob3Vycy9taW51dGVzXG4gICAgICAgICAgICAgICAgaWYgKGxhc3RTZWxlY3RlZERhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFNlbGVjdGVkRGF0ZS5zZXRIb3Vycyh0aGlzLnRpbWVwaWNrZXIuaG91cnMpO1xuICAgICAgICAgICAgICAgICAgICBsYXN0U2VsZWN0ZWREYXRlLnNldE1pbnV0ZXModGhpcy50aW1lcGlja2VyLm1pbnV0ZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fc2V0SW5wdXRWYWx1ZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBfc3luY1dpdGhNaW5NYXhEYXRlczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGN1clRpbWUgPSB0aGlzLmRhdGUuZ2V0VGltZSgpO1xuICAgICAgICAgICAgdGhpcy5zaWxlbnQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMubWluVGltZSA+IGN1clRpbWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGUgPSB0aGlzLm1pbkRhdGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm1heFRpbWUgPCBjdXJUaW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRlID0gdGhpcy5tYXhEYXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zaWxlbnQgPSBmYWxzZTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaXNTZWxlY3RlZDogZnVuY3Rpb24gKGNoZWNrRGF0ZSwgY2VsbFR5cGUpIHtcbiAgICAgICAgICAgIHZhciByZXMgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWREYXRlcy5zb21lKGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGVwaWNrZXIuaXNTYW1lKGRhdGUsIGNoZWNrRGF0ZSwgY2VsbFR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcyA9IGRhdGU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfSxcblxuICAgICAgICBfc2V0SW5wdXRWYWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgICAgICAgICAgICBvcHRzID0gX3RoaXMub3B0cyxcbiAgICAgICAgICAgICAgICBmb3JtYXQgPSBfdGhpcy5sb2MuZGF0ZUZvcm1hdCxcbiAgICAgICAgICAgICAgICBhbHRGb3JtYXQgPSBvcHRzLmFsdEZpZWxkRGF0ZUZvcm1hdCxcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IF90aGlzLnNlbGVjdGVkRGF0ZXMubWFwKGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5mb3JtYXREYXRlKGZvcm1hdCwgZGF0ZSlcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBhbHRWYWx1ZXM7XG5cbiAgICAgICAgICAgIGlmIChvcHRzLmFsdEZpZWxkICYmIF90aGlzLiRhbHRGaWVsZC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBhbHRWYWx1ZXMgPSB0aGlzLnNlbGVjdGVkRGF0ZXMubWFwKGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5mb3JtYXREYXRlKGFsdEZvcm1hdCwgZGF0ZSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBhbHRWYWx1ZXMgPSBhbHRWYWx1ZXMuam9pbih0aGlzLm9wdHMubXVsdGlwbGVEYXRlc1NlcGFyYXRvcik7XG4gICAgICAgICAgICAgICAgdGhpcy4kYWx0RmllbGQudmFsKGFsdFZhbHVlcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuam9pbih0aGlzLm9wdHMubXVsdGlwbGVEYXRlc1NlcGFyYXRvcik7XG5cbiAgICAgICAgICAgIHRoaXMuJGVsLnZhbCh2YWx1ZSlcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2hlY2sgaWYgZGF0ZSBpcyBiZXR3ZWVuIG1pbkRhdGUgYW5kIG1heERhdGVcbiAgICAgICAgICogQHBhcmFtIGRhdGUge29iamVjdH0gLSBkYXRlIG9iamVjdFxuICAgICAgICAgKiBAcGFyYW0gdHlwZSB7c3RyaW5nfSAtIGNlbGwgdHlwZVxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF9pc0luUmFuZ2U6IGZ1bmN0aW9uIChkYXRlLCB0eXBlKSB7XG4gICAgICAgICAgICB2YXIgdGltZSA9IGRhdGUuZ2V0VGltZSgpLFxuICAgICAgICAgICAgICAgIGQgPSBkYXRlcGlja2VyLmdldFBhcnNlZERhdGUoZGF0ZSksXG4gICAgICAgICAgICAgICAgbWluID0gZGF0ZXBpY2tlci5nZXRQYXJzZWREYXRlKHRoaXMubWluRGF0ZSksXG4gICAgICAgICAgICAgICAgbWF4ID0gZGF0ZXBpY2tlci5nZXRQYXJzZWREYXRlKHRoaXMubWF4RGF0ZSksXG4gICAgICAgICAgICAgICAgZE1pblRpbWUgPSBuZXcgRGF0ZShkLnllYXIsIGQubW9udGgsIG1pbi5kYXRlKS5nZXRUaW1lKCksXG4gICAgICAgICAgICAgICAgZE1heFRpbWUgPSBuZXcgRGF0ZShkLnllYXIsIGQubW9udGgsIG1heC5kYXRlKS5nZXRUaW1lKCksXG4gICAgICAgICAgICAgICAgdHlwZXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGRheTogdGltZSA+PSB0aGlzLm1pblRpbWUgJiYgdGltZSA8PSB0aGlzLm1heFRpbWUsXG4gICAgICAgICAgICAgICAgICAgIG1vbnRoOiBkTWluVGltZSA+PSB0aGlzLm1pblRpbWUgJiYgZE1heFRpbWUgPD0gdGhpcy5tYXhUaW1lLFxuICAgICAgICAgICAgICAgICAgICB5ZWFyOiBkLnllYXIgPj0gbWluLnllYXIgJiYgZC55ZWFyIDw9IG1heC55ZWFyXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiB0eXBlID8gdHlwZXNbdHlwZV0gOiB0eXBlcy5kYXlcbiAgICAgICAgfSxcblxuICAgICAgICBfZ2V0RGltZW5zaW9uczogZnVuY3Rpb24gKCRlbCkge1xuICAgICAgICAgICAgdmFyIG9mZnNldCA9ICRlbC5vZmZzZXQoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB3aWR0aDogJGVsLm91dGVyV2lkdGgoKSxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6ICRlbC5vdXRlckhlaWdodCgpLFxuICAgICAgICAgICAgICAgIGxlZnQ6IG9mZnNldC5sZWZ0LFxuICAgICAgICAgICAgICAgIHRvcDogb2Zmc2V0LnRvcFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9nZXREYXRlRnJvbUNlbGw6IGZ1bmN0aW9uIChjZWxsKSB7XG4gICAgICAgICAgICB2YXIgY3VyRGF0ZSA9IHRoaXMucGFyc2VkRGF0ZSxcbiAgICAgICAgICAgICAgICB5ZWFyID0gY2VsbC5kYXRhKCd5ZWFyJykgfHwgY3VyRGF0ZS55ZWFyLFxuICAgICAgICAgICAgICAgIG1vbnRoID0gY2VsbC5kYXRhKCdtb250aCcpID09IHVuZGVmaW5lZCA/IGN1ckRhdGUubW9udGggOiBjZWxsLmRhdGEoJ21vbnRoJyksXG4gICAgICAgICAgICAgICAgZGF0ZSA9IGNlbGwuZGF0YSgnZGF0ZScpIHx8IDE7XG5cbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgZGF0ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX3NldFBvc2l0aW9uQ2xhc3NlczogZnVuY3Rpb24gKHBvcykge1xuICAgICAgICAgICAgcG9zID0gcG9zLnNwbGl0KCcgJyk7XG4gICAgICAgICAgICB2YXIgbWFpbiA9IHBvc1swXSxcbiAgICAgICAgICAgICAgICBzZWMgPSBwb3NbMV0sXG4gICAgICAgICAgICAgICAgY2xhc3NlcyA9ICdkYXRlcGlja2VyIC0nICsgbWFpbiArICctJyArIHNlYyArICctIC1mcm9tLScgKyBtYWluICsgJy0nO1xuXG4gICAgICAgICAgICBpZiAodGhpcy52aXNpYmxlKSBjbGFzc2VzICs9ICcgYWN0aXZlJztcblxuICAgICAgICAgICAgdGhpcy4kZGF0ZXBpY2tlclxuICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKCdjbGFzcycpXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKGNsYXNzZXMpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldFBvc2l0aW9uOiBmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gfHwgdGhpcy5vcHRzLnBvc2l0aW9uO1xuXG4gICAgICAgICAgICB2YXIgZGltcyA9IHRoaXMuX2dldERpbWVuc2lvbnModGhpcy4kZWwpLFxuICAgICAgICAgICAgICAgIHNlbGZEaW1zID0gdGhpcy5fZ2V0RGltZW5zaW9ucyh0aGlzLiRkYXRlcGlja2VyKSxcbiAgICAgICAgICAgICAgICBwb3MgPSBwb3NpdGlvbi5zcGxpdCgnICcpLFxuICAgICAgICAgICAgICAgIHRvcCwgbGVmdCxcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSB0aGlzLm9wdHMub2Zmc2V0LFxuICAgICAgICAgICAgICAgIG1haW4gPSBwb3NbMF0sXG4gICAgICAgICAgICAgICAgc2Vjb25kYXJ5ID0gcG9zWzFdO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKG1haW4pIHtcbiAgICAgICAgICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgICAgICAgICAgICB0b3AgPSBkaW1zLnRvcCAtIHNlbGZEaW1zLmhlaWdodCAtIG9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gZGltcy5sZWZ0ICsgZGltcy53aWR0aCArIG9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgICAgICAgICAgdG9wID0gZGltcy50b3AgKyBkaW1zLmhlaWdodCArIG9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICAgICAgICAgIGxlZnQgPSBkaW1zLmxlZnQgLSBzZWxmRGltcy53aWR0aCAtIG9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN3aXRjaChzZWNvbmRhcnkpIHtcbiAgICAgICAgICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgICAgICAgICAgICB0b3AgPSBkaW1zLnRvcDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gZGltcy5sZWZ0ICsgZGltcy53aWR0aCAtIHNlbGZEaW1zLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgICAgICAgICAgICB0b3AgPSBkaW1zLnRvcCArIGRpbXMuaGVpZ2h0IC0gc2VsZkRpbXMuaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgICAgICAgICAgbGVmdCA9IGRpbXMubGVmdDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnY2VudGVyJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKC9sZWZ0fHJpZ2h0Ly50ZXN0KG1haW4pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3AgPSBkaW1zLnRvcCArIGRpbXMuaGVpZ2h0LzIgLSBzZWxmRGltcy5oZWlnaHQvMjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQgPSBkaW1zLmxlZnQgKyBkaW1zLndpZHRoLzIgLSBzZWxmRGltcy53aWR0aC8yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuJGRhdGVwaWNrZXJcbiAgICAgICAgICAgICAgICAuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgICAgICAgICAgICAgdG9wOiB0b3BcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICB9LFxuXG4gICAgICAgIHNob3c6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvblNob3cgPSB0aGlzLm9wdHMub25TaG93O1xuXG4gICAgICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHRoaXMub3B0cy5wb3NpdGlvbik7XG4gICAgICAgICAgICB0aGlzLiRkYXRlcGlja2VyLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XG5cbiAgICAgICAgICAgIGlmIChvblNob3cpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9iaW5kVmlzaW9uRXZlbnRzKG9uU2hvdylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBoaWRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgb25IaWRlID0gdGhpcy5vcHRzLm9uSGlkZTtcblxuICAgICAgICAgICAgdGhpcy4kZGF0ZXBpY2tlclxuICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgICAgICAgICAuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogJy0xMDAwMDBweCdcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5mb2N1c2VkID0gJyc7XG4gICAgICAgICAgICB0aGlzLmtleXMgPSBbXTtcblxuICAgICAgICAgICAgdGhpcy5pbkZvY3VzID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuJGVsLmJsdXIoKTtcblxuICAgICAgICAgICAgaWYgKG9uSGlkZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JpbmRWaXNpb25FdmVudHMob25IaWRlKVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGRvd246IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9jaGFuZ2VWaWV3KGRhdGUsICdkb3duJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXA6IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9jaGFuZ2VWaWV3KGRhdGUsICd1cCcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9iaW5kVmlzaW9uRXZlbnRzOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuJGRhdGVwaWNrZXIub2ZmKCd0cmFuc2l0aW9uZW5kLmRwJyk7XG4gICAgICAgICAgICBldmVudCh0aGlzLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLiRkYXRlcGlja2VyLm9uZSgndHJhbnNpdGlvbmVuZC5kcCcsIGV2ZW50LmJpbmQodGhpcywgdGhpcywgdHJ1ZSkpXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2NoYW5nZVZpZXc6IGZ1bmN0aW9uIChkYXRlLCBkaXIpIHtcbiAgICAgICAgICAgIGRhdGUgPSBkYXRlIHx8IHRoaXMuZm9jdXNlZCB8fCB0aGlzLmRhdGU7XG5cbiAgICAgICAgICAgIHZhciBuZXh0VmlldyA9IGRpciA9PSAndXAnID8gdGhpcy52aWV3SW5kZXggKyAxIDogdGhpcy52aWV3SW5kZXggLSAxO1xuICAgICAgICAgICAgaWYgKG5leHRWaWV3ID4gMikgbmV4dFZpZXcgPSAyO1xuICAgICAgICAgICAgaWYgKG5leHRWaWV3IDwgMCkgbmV4dFZpZXcgPSAwO1xuXG4gICAgICAgICAgICB0aGlzLnNpbGVudCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmRhdGUgPSBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgMSk7XG4gICAgICAgICAgICB0aGlzLnNpbGVudCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy52aWV3ID0gdGhpcy52aWV3SW5kZXhlc1tuZXh0Vmlld107XG5cbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlSG90S2V5OiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICB2YXIgZGF0ZSA9IGRhdGVwaWNrZXIuZ2V0UGFyc2VkRGF0ZSh0aGlzLl9nZXRGb2N1c2VkRGF0ZSgpKSxcbiAgICAgICAgICAgICAgICBmb2N1c2VkUGFyc2VkLFxuICAgICAgICAgICAgICAgIG8gPSB0aGlzLm9wdHMsXG4gICAgICAgICAgICAgICAgbmV3RGF0ZSxcbiAgICAgICAgICAgICAgICB0b3RhbERheXNJbk5leHRNb250aCxcbiAgICAgICAgICAgICAgICBtb250aENoYW5nZWQgPSBmYWxzZSxcbiAgICAgICAgICAgICAgICB5ZWFyQ2hhbmdlZCA9IGZhbHNlLFxuICAgICAgICAgICAgICAgIGRlY2FkZUNoYW5nZWQgPSBmYWxzZSxcbiAgICAgICAgICAgICAgICB5ID0gZGF0ZS55ZWFyLFxuICAgICAgICAgICAgICAgIG0gPSBkYXRlLm1vbnRoLFxuICAgICAgICAgICAgICAgIGQgPSBkYXRlLmRhdGU7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnY3RybFJpZ2h0JzpcbiAgICAgICAgICAgICAgICBjYXNlICdjdHJsVXAnOlxuICAgICAgICAgICAgICAgICAgICBtICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIG1vbnRoQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2N0cmxMZWZ0JzpcbiAgICAgICAgICAgICAgICBjYXNlICdjdHJsRG93bic6XG4gICAgICAgICAgICAgICAgICAgIG0gLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgbW9udGhDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnc2hpZnRSaWdodCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnc2hpZnRVcCc6XG4gICAgICAgICAgICAgICAgICAgIHllYXJDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgeSArPSAxO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdzaGlmdExlZnQnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3NoaWZ0RG93bic6XG4gICAgICAgICAgICAgICAgICAgIHllYXJDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgeSAtPSAxO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdhbHRSaWdodCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnYWx0VXAnOlxuICAgICAgICAgICAgICAgICAgICBkZWNhZGVDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgeSArPSAxMDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnYWx0TGVmdCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnYWx0RG93bic6XG4gICAgICAgICAgICAgICAgICAgIGRlY2FkZUNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB5IC09IDEwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdjdHJsU2hpZnRVcCc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXAoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRvdGFsRGF5c0luTmV4dE1vbnRoID0gZGF0ZXBpY2tlci5nZXREYXlzQ291bnQobmV3IERhdGUoeSxtKSk7XG4gICAgICAgICAgICBuZXdEYXRlID0gbmV3IERhdGUoeSxtLGQpO1xuXG4gICAgICAgICAgICAvLyBJZiBuZXh0IG1vbnRoIGhhcyBsZXNzIGRheXMgdGhhbiBjdXJyZW50LCBzZXQgZGF0ZSB0byB0b3RhbCBkYXlzIGluIHRoYXQgbW9udGhcbiAgICAgICAgICAgIGlmICh0b3RhbERheXNJbk5leHRNb250aCA8IGQpIGQgPSB0b3RhbERheXNJbk5leHRNb250aDtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgbmV3RGF0ZSBpcyBpbiB2YWxpZCByYW5nZVxuICAgICAgICAgICAgaWYgKG5ld0RhdGUuZ2V0VGltZSgpIDwgdGhpcy5taW5UaW1lKSB7XG4gICAgICAgICAgICAgICAgbmV3RGF0ZSA9IHRoaXMubWluRGF0ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobmV3RGF0ZS5nZXRUaW1lKCkgPiB0aGlzLm1heFRpbWUpIHtcbiAgICAgICAgICAgICAgICBuZXdEYXRlID0gdGhpcy5tYXhEYXRlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmZvY3VzZWQgPSBuZXdEYXRlO1xuXG4gICAgICAgICAgICBmb2N1c2VkUGFyc2VkID0gZGF0ZXBpY2tlci5nZXRQYXJzZWREYXRlKG5ld0RhdGUpO1xuICAgICAgICAgICAgaWYgKG1vbnRoQ2hhbmdlZCAmJiBvLm9uQ2hhbmdlTW9udGgpIHtcbiAgICAgICAgICAgICAgICBvLm9uQ2hhbmdlTW9udGgoZm9jdXNlZFBhcnNlZC5tb250aCwgZm9jdXNlZFBhcnNlZC55ZWFyKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHllYXJDaGFuZ2VkICYmIG8ub25DaGFuZ2VZZWFyKSB7XG4gICAgICAgICAgICAgICAgby5vbkNoYW5nZVllYXIoZm9jdXNlZFBhcnNlZC55ZWFyKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRlY2FkZUNoYW5nZWQgJiYgby5vbkNoYW5nZURlY2FkZSkge1xuICAgICAgICAgICAgICAgIG8ub25DaGFuZ2VEZWNhZGUodGhpcy5jdXJEZWNhZGUpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX3JlZ2lzdGVyS2V5OiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICB2YXIgZXhpc3RzID0gdGhpcy5rZXlzLnNvbWUoZnVuY3Rpb24gKGN1cktleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjdXJLZXkgPT0ga2V5O1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICghZXhpc3RzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5rZXlzLnB1c2goa2V5KVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF91blJlZ2lzdGVyS2V5OiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmtleXMuaW5kZXhPZihrZXkpO1xuXG4gICAgICAgICAgICB0aGlzLmtleXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfaXNIb3RLZXlQcmVzc2VkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudEhvdEtleSxcbiAgICAgICAgICAgICAgICBmb3VuZCA9IGZhbHNlLFxuICAgICAgICAgICAgICAgIF90aGlzID0gdGhpcyxcbiAgICAgICAgICAgICAgICBwcmVzc2VkS2V5cyA9IHRoaXMua2V5cy5zb3J0KCk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGhvdEtleSBpbiBob3RLZXlzKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudEhvdEtleSA9IGhvdEtleXNbaG90S2V5XTtcbiAgICAgICAgICAgICAgICBpZiAocHJlc3NlZEtleXMubGVuZ3RoICE9IGN1cnJlbnRIb3RLZXkubGVuZ3RoKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50SG90S2V5LmV2ZXJ5KGZ1bmN0aW9uIChrZXksIGkpIHsgcmV0dXJuIGtleSA9PSBwcmVzc2VkS2V5c1tpXX0pKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl90cmlnZ2VyKCdob3RLZXknLCBob3RLZXkpO1xuICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZm91bmQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX3RyaWdnZXI6IGZ1bmN0aW9uIChldmVudCwgYXJncykge1xuICAgICAgICAgICAgdGhpcy4kZWwudHJpZ2dlcihldmVudCwgYXJncylcbiAgICAgICAgfSxcblxuICAgICAgICBfZm9jdXNOZXh0Q2VsbDogZnVuY3Rpb24gKGtleUNvZGUsIHR5cGUpIHtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlIHx8IHRoaXMuY2VsbFR5cGU7XG5cbiAgICAgICAgICAgIHZhciBkYXRlID0gZGF0ZXBpY2tlci5nZXRQYXJzZWREYXRlKHRoaXMuX2dldEZvY3VzZWREYXRlKCkpLFxuICAgICAgICAgICAgICAgIHkgPSBkYXRlLnllYXIsXG4gICAgICAgICAgICAgICAgbSA9IGRhdGUubW9udGgsXG4gICAgICAgICAgICAgICAgZCA9IGRhdGUuZGF0ZTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2lzSG90S2V5UHJlc3NlZCgpKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN3aXRjaChrZXlDb2RlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAzNzogLy8gbGVmdFxuICAgICAgICAgICAgICAgICAgICB0eXBlID09ICdkYXknID8gKGQgLT0gMSkgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9PSAnbW9udGgnID8gKG0gLT0gMSkgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9PSAneWVhcicgPyAoeSAtPSAxKSA6ICcnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM4OiAvLyB1cFxuICAgICAgICAgICAgICAgICAgICB0eXBlID09ICdkYXknID8gKGQgLT0gNykgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9PSAnbW9udGgnID8gKG0gLT0gMykgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9PSAneWVhcicgPyAoeSAtPSA0KSA6ICcnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM5OiAvLyByaWdodFxuICAgICAgICAgICAgICAgICAgICB0eXBlID09ICdkYXknID8gKGQgKz0gMSkgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9PSAnbW9udGgnID8gKG0gKz0gMSkgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9PSAneWVhcicgPyAoeSArPSAxKSA6ICcnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQwOiAvLyBkb3duXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPT0gJ2RheScgPyAoZCArPSA3KSA6ICcnO1xuICAgICAgICAgICAgICAgICAgICB0eXBlID09ICdtb250aCcgPyAobSArPSAzKSA6ICcnO1xuICAgICAgICAgICAgICAgICAgICB0eXBlID09ICd5ZWFyJyA/ICh5ICs9IDQpIDogJyc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgbmQgPSBuZXcgRGF0ZSh5LG0sZCk7XG4gICAgICAgICAgICBpZiAobmQuZ2V0VGltZSgpIDwgdGhpcy5taW5UaW1lKSB7XG4gICAgICAgICAgICAgICAgbmQgPSB0aGlzLm1pbkRhdGU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5kLmdldFRpbWUoKSA+IHRoaXMubWF4VGltZSkge1xuICAgICAgICAgICAgICAgIG5kID0gdGhpcy5tYXhEYXRlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmZvY3VzZWQgPSBuZDtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9nZXRGb2N1c2VkRGF0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGZvY3VzZWQgID0gdGhpcy5mb2N1c2VkIHx8IHRoaXMuc2VsZWN0ZWREYXRlc1t0aGlzLnNlbGVjdGVkRGF0ZXMubGVuZ3RoIC0gMV0sXG4gICAgICAgICAgICAgICAgZCA9IHRoaXMucGFyc2VkRGF0ZTtcblxuICAgICAgICAgICAgaWYgKCFmb2N1c2VkKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLnZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGF5cyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBmb2N1c2VkID0gbmV3IERhdGUoZC55ZWFyLCBkLm1vbnRoLCBuZXcgRGF0ZSgpLmdldERhdGUoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbW9udGhzJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzZWQgPSBuZXcgRGF0ZShkLnllYXIsIGQubW9udGgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3llYXJzJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzZWQgPSBuZXcgRGF0ZShkLnllYXIsIDAsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZm9jdXNlZDtcbiAgICAgICAgfSxcblxuICAgICAgICBfZ2V0Q2VsbDogZnVuY3Rpb24gKGRhdGUsIHR5cGUpIHtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlIHx8IHRoaXMuY2VsbFR5cGU7XG5cbiAgICAgICAgICAgIHZhciBkID0gZGF0ZXBpY2tlci5nZXRQYXJzZWREYXRlKGRhdGUpLFxuICAgICAgICAgICAgICAgIHNlbGVjdG9yID0gJy5kYXRlcGlja2VyLS1jZWxsW2RhdGEteWVhcj1cIicgKyBkLnllYXIgKyAnXCJdJyxcbiAgICAgICAgICAgICAgICAkY2VsbDtcblxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnbW9udGgnOlxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvciA9ICdbZGF0YS1tb250aD1cIicgKyBkLm1vbnRoICsgJ1wiXSc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2RheSc6XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yICs9ICdbZGF0YS1tb250aD1cIicgKyBkLm1vbnRoICsgJ1wiXVtkYXRhLWRhdGU9XCInICsgZC5kYXRlICsgJ1wiXSc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJGNlbGwgPSB0aGlzLnZpZXdzW3RoaXMuY3VycmVudFZpZXddLiRlbC5maW5kKHNlbGVjdG9yKTtcblxuICAgICAgICAgICAgcmV0dXJuICRjZWxsLmxlbmd0aCA/ICRjZWxsIDogJCgnJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIF90aGlzLiRlbFxuICAgICAgICAgICAgICAgIC5vZmYoJy5hZHAnKVxuICAgICAgICAgICAgICAgIC5kYXRhKCdkYXRlcGlja2VyJywgJycpO1xuXG4gICAgICAgICAgICBfdGhpcy5zZWxlY3RlZERhdGVzID0gW107XG4gICAgICAgICAgICBfdGhpcy5mb2N1c2VkID0gJyc7XG4gICAgICAgICAgICBfdGhpcy52aWV3cyA9IHt9O1xuICAgICAgICAgICAgX3RoaXMua2V5cyA9IFtdO1xuICAgICAgICAgICAgX3RoaXMubWluUmFuZ2UgPSAnJztcbiAgICAgICAgICAgIF90aGlzLm1heFJhbmdlID0gJyc7XG5cbiAgICAgICAgICAgIGlmIChfdGhpcy5vcHRzLmlubGluZSB8fCAhX3RoaXMuZWxJc0lucHV0KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuJGRhdGVwaWNrZXIuY2xvc2VzdCgnLmRhdGVwaWNrZXItaW5saW5lJykucmVtb3ZlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzLiRkYXRlcGlja2VyLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9oYW5kbGVBbHJlYWR5U2VsZWN0ZWREYXRlczogZnVuY3Rpb24gKGFscmVhZHlTZWxlY3RlZCwgc2VsZWN0ZWREYXRlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLnJhbmdlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm9wdHMudG9nZ2xlU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHBvc3NpYmlsaXR5IHRvIHNlbGVjdCBzYW1lIGRhdGUgd2hlbiByYW5nZSBpcyB0cnVlXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkRGF0ZXMubGVuZ3RoICE9IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoJ2NsaWNrQ2VsbCcsIHNlbGVjdGVkRGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZURhdGUoc2VsZWN0ZWREYXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMub3B0cy50b2dnbGVTZWxlY3RlZCl7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVEYXRlKHNlbGVjdGVkRGF0ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoYW5nZSBsYXN0IHNlbGVjdGVkIGRhdGUgdG8gYmUgYWJsZSB0byBjaGFuZ2UgdGltZSB3aGVuIGNsaWNraW5nIG9uIHRoaXMgY2VsbFxuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdHMudG9nZ2xlU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RTZWxlY3RlZERhdGUgPSBhbHJlYWR5U2VsZWN0ZWQ7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0cy50aW1lcGlja2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGltZXBpY2tlci5fc2V0VGltZShhbHJlYWR5U2VsZWN0ZWQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWVwaWNrZXIudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9vblNob3dFdmVudDogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX29uQmx1cjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmluRm9jdXMgJiYgdGhpcy52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX29uTW91c2VEb3duRGF0ZXBpY2tlcjogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHRoaXMuaW5Gb2N1cyA9IHRydWU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX29uTW91c2VVcERhdGVwaWNrZXI6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB0aGlzLmluRm9jdXMgPSBmYWxzZTtcbiAgICAgICAgICAgIGUub3JpZ2luYWxFdmVudC5pbkZvY3VzID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICghZS5vcmlnaW5hbEV2ZW50LnRpbWVwaWNrZXJGb2N1cykgdGhpcy4kZWwuZm9jdXMoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfb25LZXlVcEdlbmVyYWw6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgdmFsID0gdGhpcy4kZWwudmFsKCk7XG5cbiAgICAgICAgICAgIGlmICghdmFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9vblJlc2l6ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0UG9zaXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBfb25Nb3VzZVVwQm9keTogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmIChlLm9yaWdpbmFsRXZlbnQuaW5Gb2N1cykgcmV0dXJuO1xuXG4gICAgICAgICAgICBpZiAodGhpcy52aXNpYmxlICYmICF0aGlzLmluRm9jdXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBfb25Nb3VzZVVwRWw6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBlLm9yaWdpbmFsRXZlbnQuaW5Gb2N1cyA9IHRydWU7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMuX29uS2V5VXBHZW5lcmFsLmJpbmQodGhpcyksNCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX29uS2V5RG93bjogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciBjb2RlID0gZS53aGljaDtcbiAgICAgICAgICAgIHRoaXMuX3JlZ2lzdGVyS2V5KGNvZGUpO1xuXG4gICAgICAgICAgICAvLyBBcnJvd3NcbiAgICAgICAgICAgIGlmIChjb2RlID49IDM3ICYmIGNvZGUgPD0gNDApIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9jdXNOZXh0Q2VsbChjb2RlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRW50ZXJcbiAgICAgICAgICAgIGlmIChjb2RlID09IDEzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZm9jdXNlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fZ2V0Q2VsbCh0aGlzLmZvY3VzZWQpLmhhc0NsYXNzKCctZGlzYWJsZWQtJykpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudmlldyAhPSB0aGlzLm9wdHMubWluVmlldykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kb3duKClcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbHJlYWR5U2VsZWN0ZWQgPSB0aGlzLl9pc1NlbGVjdGVkKHRoaXMuZm9jdXNlZCwgdGhpcy5jZWxsVHlwZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYWxyZWFkeVNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudGltZXBpY2tlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZvY3VzZWQuc2V0SG91cnModGhpcy50aW1lcGlja2VyLmhvdXJzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mb2N1c2VkLnNldE1pbnV0ZXModGhpcy50aW1lcGlja2VyLm1pbnV0ZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdERhdGUodGhpcy5mb2N1c2VkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVBbHJlYWR5U2VsZWN0ZWREYXRlcyhhbHJlYWR5U2VsZWN0ZWQsIHRoaXMuZm9jdXNlZClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRXNjXG4gICAgICAgICAgICBpZiAoY29kZSA9PSAyNykge1xuICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9vbktleVVwOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIGNvZGUgPSBlLndoaWNoO1xuICAgICAgICAgICAgdGhpcy5fdW5SZWdpc3RlcktleShjb2RlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfb25Ib3RLZXk6IGZ1bmN0aW9uIChlLCBob3RLZXkpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUhvdEtleShob3RLZXkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9vbk1vdXNlRW50ZXJDZWxsOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyICRjZWxsID0gJChlLnRhcmdldCkuY2xvc2VzdCgnLmRhdGVwaWNrZXItLWNlbGwnKSxcbiAgICAgICAgICAgICAgICBkYXRlID0gdGhpcy5fZ2V0RGF0ZUZyb21DZWxsKCRjZWxsKTtcblxuICAgICAgICAgICAgLy8gUHJldmVudCBmcm9tIHVubmVjZXNzYXJ5IHJlbmRlcmluZyBhbmQgc2V0dGluZyBuZXcgY3VycmVudERhdGVcbiAgICAgICAgICAgIHRoaXMuc2lsZW50ID0gdHJ1ZTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZm9jdXNlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZm9jdXNlZCA9ICcnXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICRjZWxsLmFkZENsYXNzKCctZm9jdXMtJyk7XG5cbiAgICAgICAgICAgIHRoaXMuZm9jdXNlZCA9IGRhdGU7XG4gICAgICAgICAgICB0aGlzLnNpbGVudCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLnJhbmdlICYmIHRoaXMuc2VsZWN0ZWREYXRlcy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMubWluUmFuZ2UgPSB0aGlzLnNlbGVjdGVkRGF0ZXNbMF07XG4gICAgICAgICAgICAgICAgdGhpcy5tYXhSYW5nZSA9ICcnO1xuICAgICAgICAgICAgICAgIGlmIChkYXRlcGlja2VyLmxlc3ModGhpcy5taW5SYW5nZSwgdGhpcy5mb2N1c2VkKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1heFJhbmdlID0gdGhpcy5taW5SYW5nZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5taW5SYW5nZSA9ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdzW3RoaXMuY3VycmVudFZpZXddLl91cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBfb25Nb3VzZUxlYXZlQ2VsbDogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciAkY2VsbCA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5kYXRlcGlja2VyLS1jZWxsJyk7XG5cbiAgICAgICAgICAgICRjZWxsLnJlbW92ZUNsYXNzKCctZm9jdXMtJyk7XG5cbiAgICAgICAgICAgIHRoaXMuc2lsZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZm9jdXNlZCA9ICcnO1xuICAgICAgICAgICAgdGhpcy5zaWxlbnQgPSBmYWxzZTtcbiAgICAgICAgfSxcblxuICAgICAgICBfb25UaW1lQ2hhbmdlOiBmdW5jdGlvbiAoZSwgaCwgbSkge1xuICAgICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkRGF0ZXMgPSB0aGlzLnNlbGVjdGVkRGF0ZXMsXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkRGF0ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGRhdGUgPSB0aGlzLmxhc3RTZWxlY3RlZERhdGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRhdGUuc2V0SG91cnMoaCk7XG4gICAgICAgICAgICBkYXRlLnNldE1pbnV0ZXMobSk7XG5cbiAgICAgICAgICAgIGlmICghc2VsZWN0ZWQgJiYgIXRoaXMuX2dldENlbGwoZGF0ZSkuaGFzQ2xhc3MoJy1kaXNhYmxlZC0nKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RGF0ZShkYXRlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0SW5wdXRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdHMub25TZWxlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlck9uQ2hhbmdlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9vbkNsaWNrQ2VsbDogZnVuY3Rpb24gKGUsIGRhdGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbWVwaWNrZXIpIHtcbiAgICAgICAgICAgICAgICBkYXRlLnNldEhvdXJzKHRoaXMudGltZXBpY2tlci5ob3Vycyk7XG4gICAgICAgICAgICAgICAgZGF0ZS5zZXRNaW51dGVzKHRoaXMudGltZXBpY2tlci5taW51dGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0RGF0ZShkYXRlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZXQgZm9jdXNlZCh2YWwpIHtcbiAgICAgICAgICAgIGlmICghdmFsICYmIHRoaXMuZm9jdXNlZCkge1xuICAgICAgICAgICAgICAgIHZhciAkY2VsbCA9IHRoaXMuX2dldENlbGwodGhpcy5mb2N1c2VkKTtcblxuICAgICAgICAgICAgICAgIGlmICgkY2VsbC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgJGNlbGwucmVtb3ZlQ2xhc3MoJy1mb2N1cy0nKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2ZvY3VzZWQgPSB2YWw7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLnJhbmdlICYmIHRoaXMuc2VsZWN0ZWREYXRlcy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMubWluUmFuZ2UgPSB0aGlzLnNlbGVjdGVkRGF0ZXNbMF07XG4gICAgICAgICAgICAgICAgdGhpcy5tYXhSYW5nZSA9ICcnO1xuICAgICAgICAgICAgICAgIGlmIChkYXRlcGlja2VyLmxlc3ModGhpcy5taW5SYW5nZSwgdGhpcy5fZm9jdXNlZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXhSYW5nZSA9IHRoaXMubWluUmFuZ2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWluUmFuZ2UgPSAnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zaWxlbnQpIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuZGF0ZSA9IHZhbDtcbiAgICAgICAgfSxcblxuICAgICAgICBnZXQgZm9jdXNlZCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb2N1c2VkO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldCBwYXJzZWREYXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGVwaWNrZXIuZ2V0UGFyc2VkRGF0ZSh0aGlzLmRhdGUpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldCBkYXRlICh2YWwpIHtcbiAgICAgICAgICAgIGlmICghKHZhbCBpbnN0YW5jZW9mIERhdGUpKSByZXR1cm47XG5cbiAgICAgICAgICAgIHRoaXMuY3VycmVudERhdGUgPSB2YWw7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmluaXRlZCAmJiAhdGhpcy5zaWxlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdzW3RoaXMudmlld10uX3JlbmRlcigpO1xuICAgICAgICAgICAgICAgIHRoaXMubmF2Ll9yZW5kZXIoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy52aXNpYmxlICYmIHRoaXMuZWxJc0lucHV0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0UG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldCBkYXRlICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnREYXRlXG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0IHZpZXcgKHZhbCkge1xuICAgICAgICAgICAgdGhpcy52aWV3SW5kZXggPSB0aGlzLnZpZXdJbmRleGVzLmluZGV4T2YodmFsKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMudmlld0luZGV4IDwgMCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5wcmV2VmlldyA9IHRoaXMuY3VycmVudFZpZXc7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRWaWV3ID0gdmFsO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5pbml0ZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMudmlld3NbdmFsXSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdzW3ZhbF0gPSBuZXcgICQuZm4uZGF0ZXBpY2tlci5Cb2R5KHRoaXMsIHZhbCwgdGhpcy5vcHRzKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld3NbdmFsXS5fcmVuZGVyKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3c1t0aGlzLnByZXZWaWV3XS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3c1t2YWxdLnNob3coKTtcbiAgICAgICAgICAgICAgICB0aGlzLm5hdi5fcmVuZGVyKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRzLm9uQ2hhbmdlVmlldykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdHMub25DaGFuZ2VWaWV3KHZhbClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZWxJc0lucHV0ICYmIHRoaXMudmlzaWJsZSkgdGhpcy5zZXRQb3NpdGlvbigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdmFsXG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0IHZpZXcoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50VmlldztcbiAgICAgICAgfSxcblxuICAgICAgICBnZXQgY2VsbFR5cGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWV3LnN1YnN0cmluZygwLCB0aGlzLnZpZXcubGVuZ3RoIC0gMSlcbiAgICAgICAgfSxcblxuICAgICAgICBnZXQgbWluVGltZSgpIHtcbiAgICAgICAgICAgIHZhciBtaW4gPSBkYXRlcGlja2VyLmdldFBhcnNlZERhdGUodGhpcy5taW5EYXRlKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShtaW4ueWVhciwgbWluLm1vbnRoLCBtaW4uZGF0ZSkuZ2V0VGltZSgpXG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0IG1heFRpbWUoKSB7XG4gICAgICAgICAgICB2YXIgbWF4ID0gZGF0ZXBpY2tlci5nZXRQYXJzZWREYXRlKHRoaXMubWF4RGF0ZSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUobWF4LnllYXIsIG1heC5tb250aCwgbWF4LmRhdGUpLmdldFRpbWUoKVxuICAgICAgICB9LFxuXG4gICAgICAgIGdldCBjdXJEZWNhZGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0ZXBpY2tlci5nZXREZWNhZGUodGhpcy5kYXRlKVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vICBVdGlsc1xuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGRhdGVwaWNrZXIuZ2V0RGF5c0NvdW50ID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpICsgMSwgMCkuZ2V0RGF0ZSgpO1xuICAgIH07XG5cbiAgICBkYXRlcGlja2VyLmdldFBhcnNlZERhdGUgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeWVhcjogZGF0ZS5nZXRGdWxsWWVhcigpLFxuICAgICAgICAgICAgbW9udGg6IGRhdGUuZ2V0TW9udGgoKSxcbiAgICAgICAgICAgIGZ1bGxNb250aDogKGRhdGUuZ2V0TW9udGgoKSArIDEpIDwgMTAgPyAnMCcgKyAoZGF0ZS5nZXRNb250aCgpICsgMSkgOiBkYXRlLmdldE1vbnRoKCkgKyAxLCAvLyBPbmUgYmFzZWRcbiAgICAgICAgICAgIGRhdGU6IGRhdGUuZ2V0RGF0ZSgpLFxuICAgICAgICAgICAgZnVsbERhdGU6IGRhdGUuZ2V0RGF0ZSgpIDwgMTAgPyAnMCcgKyBkYXRlLmdldERhdGUoKSA6IGRhdGUuZ2V0RGF0ZSgpLFxuICAgICAgICAgICAgZGF5OiBkYXRlLmdldERheSgpLFxuICAgICAgICAgICAgaG91cnM6IGRhdGUuZ2V0SG91cnMoKSxcbiAgICAgICAgICAgIGZ1bGxIb3VyczogIGRhdGUuZ2V0SG91cnMoKSA8IDEwID8gJzAnICsgZGF0ZS5nZXRIb3VycygpIDogIGRhdGUuZ2V0SG91cnMoKSAsXG4gICAgICAgICAgICBtaW51dGVzOiBkYXRlLmdldE1pbnV0ZXMoKSxcbiAgICAgICAgICAgIGZ1bGxNaW51dGVzOiAgZGF0ZS5nZXRNaW51dGVzKCkgPCAxMCA/ICcwJyArIGRhdGUuZ2V0TWludXRlcygpIDogIGRhdGUuZ2V0TWludXRlcygpXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZGF0ZXBpY2tlci5nZXREZWNhZGUgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICB2YXIgZmlyc3RZZWFyID0gTWF0aC5mbG9vcihkYXRlLmdldEZ1bGxZZWFyKCkgLyAxMCkgKiAxMDtcblxuICAgICAgICByZXR1cm4gW2ZpcnN0WWVhciwgZmlyc3RZZWFyICsgOV07XG4gICAgfTtcblxuICAgIGRhdGVwaWNrZXIudGVtcGxhdGUgPSBmdW5jdGlvbiAoc3RyLCBkYXRhKSB7XG4gICAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvI1xceyhbXFx3XSspXFx9L2csIGZ1bmN0aW9uIChzb3VyY2UsIG1hdGNoKSB7XG4gICAgICAgICAgICBpZiAoZGF0YVttYXRjaF0gfHwgZGF0YVttYXRjaF0gPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YVttYXRjaF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGRhdGVwaWNrZXIuaXNTYW1lID0gZnVuY3Rpb24gKGRhdGUxLCBkYXRlMiwgdHlwZSkge1xuICAgICAgICBpZiAoIWRhdGUxIHx8ICFkYXRlMikgcmV0dXJuIGZhbHNlO1xuICAgICAgICB2YXIgZDEgPSBkYXRlcGlja2VyLmdldFBhcnNlZERhdGUoZGF0ZTEpLFxuICAgICAgICAgICAgZDIgPSBkYXRlcGlja2VyLmdldFBhcnNlZERhdGUoZGF0ZTIpLFxuICAgICAgICAgICAgX3R5cGUgPSB0eXBlID8gdHlwZSA6ICdkYXknLFxuXG4gICAgICAgICAgICBjb25kaXRpb25zID0ge1xuICAgICAgICAgICAgICAgIGRheTogZDEuZGF0ZSA9PSBkMi5kYXRlICYmIGQxLm1vbnRoID09IGQyLm1vbnRoICYmIGQxLnllYXIgPT0gZDIueWVhcixcbiAgICAgICAgICAgICAgICBtb250aDogZDEubW9udGggPT0gZDIubW9udGggJiYgZDEueWVhciA9PSBkMi55ZWFyLFxuICAgICAgICAgICAgICAgIHllYXI6IGQxLnllYXIgPT0gZDIueWVhclxuICAgICAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gY29uZGl0aW9uc1tfdHlwZV07XG4gICAgfTtcblxuICAgIGRhdGVwaWNrZXIubGVzcyA9IGZ1bmN0aW9uIChkYXRlQ29tcGFyZVRvLCBkYXRlLCB0eXBlKSB7XG4gICAgICAgIGlmICghZGF0ZUNvbXBhcmVUbyB8fCAhZGF0ZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gZGF0ZS5nZXRUaW1lKCkgPCBkYXRlQ29tcGFyZVRvLmdldFRpbWUoKTtcbiAgICB9O1xuXG4gICAgZGF0ZXBpY2tlci5iaWdnZXIgPSBmdW5jdGlvbiAoZGF0ZUNvbXBhcmVUbywgZGF0ZSwgdHlwZSkge1xuICAgICAgICBpZiAoIWRhdGVDb21wYXJlVG8gfHwgIWRhdGUpIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGRhdGUuZ2V0VGltZSgpID4gZGF0ZUNvbXBhcmVUby5nZXRUaW1lKCk7XG4gICAgfTtcblxuICAgIGRhdGVwaWNrZXIuZ2V0TGVhZGluZ1plcm9OdW0gPSBmdW5jdGlvbiAobnVtKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUludChudW0pIDwgMTAgPyAnMCcgKyBudW0gOiBudW07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY29weSBvZiBkYXRlIHdpdGggaG91cnMgYW5kIG1pbnV0ZXMgZXF1YWxzIHRvIDBcbiAgICAgKiBAcGFyYW0gZGF0ZSB7RGF0ZX1cbiAgICAgKi9cbiAgICBkYXRlcGlja2VyLnJlc2V0VGltZSA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZGF0ZSAhPSAnb2JqZWN0JykgcmV0dXJuO1xuICAgICAgICBkYXRlID0gZGF0ZXBpY2tlci5nZXRQYXJzZWREYXRlKGRhdGUpO1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZS55ZWFyLCBkYXRlLm1vbnRoLCBkYXRlLmRhdGUpXG4gICAgfTtcblxuICAgICQuZm4uZGF0ZXBpY2tlciA9IGZ1bmN0aW9uICggb3B0aW9ucyApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoISQuZGF0YSh0aGlzLCBwbHVnaW5OYW1lKSkge1xuICAgICAgICAgICAgICAgICQuZGF0YSh0aGlzLCAgcGx1Z2luTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgbmV3IERhdGVwaWNrZXIoIHRoaXMsIG9wdGlvbnMgKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9ICQuZGF0YSh0aGlzLCBwbHVnaW5OYW1lKTtcblxuICAgICAgICAgICAgICAgIF90aGlzLm9wdHMgPSAkLmV4dGVuZCh0cnVlLCBfdGhpcy5vcHRzLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgICQuZm4uZGF0ZXBpY2tlci5Db25zdHJ1Y3RvciA9IERhdGVwaWNrZXI7XG5cbiAgICAkLmZuLmRhdGVwaWNrZXIubGFuZ3VhZ2UgPSB7XG4gICAgICAgIHJ1OiB7XG4gICAgICAgICAgICBkYXlzOiBbJ9CS0L7RgdC60YDQtdGB0LXQvdGM0LUnLCAn0J/QvtC90LXQtNC10LvRjNC90LjQuicsICfQktGC0L7RgNC90LjQuicsICfQodGA0LXQtNCwJywgJ9Cn0LXRgtCy0LXRgNCzJywgJ9Cf0Y/RgtC90LjRhtCwJywgJ9Ch0YPQsdCx0L7RgtCwJ10sXG4gICAgICAgICAgICBkYXlzU2hvcnQ6IFsn0JLQvtGBJywn0J/QvtC9Jywn0JLRgtC+Jywn0KHRgNC1Jywn0KfQtdGCJywn0J/Rj9GCJywn0KHRg9CxJ10sXG4gICAgICAgICAgICBkYXlzTWluOiBbJ9CS0YEnLCfQn9C9Jywn0JLRgicsJ9Ch0YAnLCfQp9GCJywn0J/RgicsJ9Ch0LEnXSxcbiAgICAgICAgICAgIG1vbnRoczogWyfQr9C90LLQsNGA0YwnLCAn0KTQtdCy0YDQsNC70YwnLCAn0JzQsNGA0YInLCAn0JDQv9GA0LXQu9GMJywgJ9Cc0LDQuScsICfQmNGO0L3RjCcsICfQmNGO0LvRjCcsICfQkNCy0LPRg9GB0YInLCAn0KHQtdC90YLRj9Cx0YDRjCcsICfQntC60YLRj9Cx0YDRjCcsICfQndC+0Y/QsdGA0YwnLCAn0JTQtdC60LDQsdGA0YwnXSxcbiAgICAgICAgICAgIG1vbnRoc1Nob3J0OiBbJ9GP0L3QsicsICfRhNC10LInLCAn0LzQsNGAJywgJ9Cw0L/RgCcsICfQvNCw0LknLCAn0LjRjtC9JywgJ9C40Y7QuycsICfQsNCy0LMnLCAn0YHQtdC9JywgJ9C+0LrRgicsICfQvdC+0Y8nLCAn0LTQtdC6J10sXG4gICAgICAgICAgICBjb25maXJtOiAn0J/RgNC40LzQtdC90LjRgtGMJyxcbiAgICAgICAgICAgIGNsZWFyOiAn0J7Rh9C40YHRgtC40YLRjCcsXG4gICAgICAgICAgICBkYXRlRm9ybWF0OiAnZGQubW0ueXl5eScsXG4gICAgICAgICAgICB0aW1lRm9ybWF0OiAnaGg6aWknLFxuICAgICAgICAgICAgZmlyc3REYXk6IDFcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJChhdXRvSW5pdFNlbGVjdG9yKS5kYXRlcGlja2VyKCk7XG4gICAgfSlcblxufSkoKTtcblxuOyhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRlbXBsYXRlcyA9IHtcbiAgICAgICAgZGF5czonJyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci0tZGF5cyBkYXRlcGlja2VyLS1ib2R5XCI+JyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci0tZGF5cy1uYW1lc1wiPjwvZGl2PicgK1xuICAgICAgICAnPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItLWNlbGxzIGRhdGVwaWNrZXItLWNlbGxzLWRheXNcIj48L2Rpdj4nICtcbiAgICAgICAgJzwvZGl2PicsXG4gICAgICAgIG1vbnRoczogJycgK1xuICAgICAgICAnPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItLW1vbnRocyBkYXRlcGlja2VyLS1ib2R5XCI+JyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci0tY2VsbHMgZGF0ZXBpY2tlci0tY2VsbHMtbW9udGhzXCI+PC9kaXY+JyArXG4gICAgICAgICc8L2Rpdj4nLFxuICAgICAgICB5ZWFyczogJycgK1xuICAgICAgICAnPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItLXllYXJzIGRhdGVwaWNrZXItLWJvZHlcIj4nICtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLS1jZWxscyBkYXRlcGlja2VyLS1jZWxscy15ZWFyc1wiPjwvZGl2PicgK1xuICAgICAgICAnPC9kaXY+J1xuICAgICAgICB9LFxuICAgICAgICBkYXRlcGlja2VyID0gJC5mbi5kYXRlcGlja2VyLFxuICAgICAgICBkcCA9IGRhdGVwaWNrZXIuQ29uc3RydWN0b3I7XG5cbiAgICBkYXRlcGlja2VyLkJvZHkgPSBmdW5jdGlvbiAoZCwgdHlwZSwgb3B0cykge1xuICAgICAgICB0aGlzLmQgPSBkO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLm9wdHMgPSBvcHRzO1xuICAgICAgICB0aGlzLiRlbCA9ICQoJycpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdHMub25seVRpbWVwaWNrZXIpIHJldHVybjtcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfTtcblxuICAgIGRhdGVwaWNrZXIuQm9keS5wcm90b3R5cGUgPSB7XG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1aWxkQmFzZUh0bWwoKTtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcigpO1xuXG4gICAgICAgICAgICB0aGlzLl9iaW5kRXZlbnRzKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2JpbmRFdmVudHM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuJGVsLm9uKCdjbGljaycsICcuZGF0ZXBpY2tlci0tY2VsbCcsICQucHJveHkodGhpcy5fb25DbGlja0NlbGwsIHRoaXMpKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfYnVpbGRCYXNlSHRtbDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy4kZWwgPSAkKHRlbXBsYXRlc1t0aGlzLnR5cGVdKS5hcHBlbmRUbyh0aGlzLmQuJGNvbnRlbnQpO1xuICAgICAgICAgICAgdGhpcy4kbmFtZXMgPSAkKCcuZGF0ZXBpY2tlci0tZGF5cy1uYW1lcycsIHRoaXMuJGVsKTtcbiAgICAgICAgICAgIHRoaXMuJGNlbGxzID0gJCgnLmRhdGVwaWNrZXItLWNlbGxzJywgdGhpcy4kZWwpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9nZXREYXlOYW1lc0h0bWw6IGZ1bmN0aW9uIChmaXJzdERheSwgY3VyRGF5LCBodG1sLCBpKSB7XG4gICAgICAgICAgICBjdXJEYXkgPSBjdXJEYXkgIT0gdW5kZWZpbmVkID8gY3VyRGF5IDogZmlyc3REYXk7XG4gICAgICAgICAgICBodG1sID0gaHRtbCA/IGh0bWwgOiAnJztcbiAgICAgICAgICAgIGkgPSBpICE9IHVuZGVmaW5lZCA/IGkgOiAwO1xuXG4gICAgICAgICAgICBpZiAoaSA+IDcpIHJldHVybiBodG1sO1xuICAgICAgICAgICAgaWYgKGN1ckRheSA9PSA3KSByZXR1cm4gdGhpcy5fZ2V0RGF5TmFtZXNIdG1sKGZpcnN0RGF5LCAwLCBodG1sLCArK2kpO1xuXG4gICAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci0tZGF5LW5hbWUnICsgKHRoaXMuZC5pc1dlZWtlbmQoY3VyRGF5KSA/IFwiIC13ZWVrZW5kLVwiIDogXCJcIikgKyAnXCI+JyArIHRoaXMuZC5sb2MuZGF5c01pbltjdXJEYXldICsgJzwvZGl2Pic7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXREYXlOYW1lc0h0bWwoZmlyc3REYXksICsrY3VyRGF5LCBodG1sLCArK2kpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9nZXRDZWxsQ29udGVudHM6IGZ1bmN0aW9uIChkYXRlLCB0eXBlKSB7XG4gICAgICAgICAgICB2YXIgY2xhc3NlcyA9IFwiZGF0ZXBpY2tlci0tY2VsbCBkYXRlcGlja2VyLS1jZWxsLVwiICsgdHlwZSxcbiAgICAgICAgICAgICAgICBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgcGFyZW50ID0gdGhpcy5kLFxuICAgICAgICAgICAgICAgIG1pblJhbmdlID0gZHAucmVzZXRUaW1lKHBhcmVudC5taW5SYW5nZSksXG4gICAgICAgICAgICAgICAgbWF4UmFuZ2UgPSBkcC5yZXNldFRpbWUocGFyZW50Lm1heFJhbmdlKSxcbiAgICAgICAgICAgICAgICBvcHRzID0gcGFyZW50Lm9wdHMsXG4gICAgICAgICAgICAgICAgZCA9IGRwLmdldFBhcnNlZERhdGUoZGF0ZSksXG4gICAgICAgICAgICAgICAgcmVuZGVyID0ge30sXG4gICAgICAgICAgICAgICAgaHRtbCA9IGQuZGF0ZTtcblxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnZGF5JzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudC5pc1dlZWtlbmQoZC5kYXkpKSBjbGFzc2VzICs9IFwiIC13ZWVrZW5kLVwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZC5tb250aCAhPSB0aGlzLmQucGFyc2VkRGF0ZS5tb250aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlcyArPSBcIiAtb3RoZXItbW9udGgtXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdHMuc2VsZWN0T3RoZXJNb250aHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzICs9IFwiIC1kaXNhYmxlZC1cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb3B0cy5zaG93T3RoZXJNb250aHMpIGh0bWwgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdtb250aCc6XG4gICAgICAgICAgICAgICAgICAgIGh0bWwgPSBwYXJlbnQubG9jW3BhcmVudC5vcHRzLm1vbnRoc0ZpZWxkXVtkLm1vbnRoXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAneWVhcic6XG4gICAgICAgICAgICAgICAgICAgIHZhciBkZWNhZGUgPSBwYXJlbnQuY3VyRGVjYWRlO1xuICAgICAgICAgICAgICAgICAgICBodG1sID0gZC55ZWFyO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZC55ZWFyIDwgZGVjYWRlWzBdIHx8IGQueWVhciA+IGRlY2FkZVsxXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlcyArPSAnIC1vdGhlci1kZWNhZGUtJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb3B0cy5zZWxlY3RPdGhlclllYXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlcyArPSBcIiAtZGlzYWJsZWQtXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdHMuc2hvd090aGVyWWVhcnMpIGh0bWwgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9wdHMub25SZW5kZXJDZWxsKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyID0gb3B0cy5vblJlbmRlckNlbGwoZGF0ZSwgdHlwZSkgfHwge307XG4gICAgICAgICAgICAgICAgaHRtbCA9IHJlbmRlci5odG1sID8gcmVuZGVyLmh0bWwgOiBodG1sO1xuICAgICAgICAgICAgICAgIGNsYXNzZXMgKz0gcmVuZGVyLmNsYXNzZXMgPyAnICcgKyByZW5kZXIuY2xhc3NlcyA6ICcnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAob3B0cy5yYW5nZSkge1xuICAgICAgICAgICAgICAgIGlmIChkcC5pc1NhbWUobWluUmFuZ2UsIGRhdGUsIHR5cGUpKSBjbGFzc2VzICs9ICcgLXJhbmdlLWZyb20tJztcbiAgICAgICAgICAgICAgICBpZiAoZHAuaXNTYW1lKG1heFJhbmdlLCBkYXRlLCB0eXBlKSkgY2xhc3NlcyArPSAnIC1yYW5nZS10by0nO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudC5zZWxlY3RlZERhdGVzLmxlbmd0aCA9PSAxICYmIHBhcmVudC5mb2N1c2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIChkcC5iaWdnZXIobWluUmFuZ2UsIGRhdGUpICYmIGRwLmxlc3MocGFyZW50LmZvY3VzZWQsIGRhdGUpKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKGRwLmxlc3MobWF4UmFuZ2UsIGRhdGUpICYmIGRwLmJpZ2dlcihwYXJlbnQuZm9jdXNlZCwgZGF0ZSkpKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzICs9ICcgLWluLXJhbmdlLSdcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChkcC5sZXNzKG1heFJhbmdlLCBkYXRlKSAmJiBkcC5pc1NhbWUocGFyZW50LmZvY3VzZWQsIGRhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzICs9ICcgLXJhbmdlLWZyb20tJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChkcC5iaWdnZXIobWluUmFuZ2UsIGRhdGUpICYmIGRwLmlzU2FtZShwYXJlbnQuZm9jdXNlZCwgZGF0ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXMgKz0gJyAtcmFuZ2UtdG8tJ1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcmVudC5zZWxlY3RlZERhdGVzLmxlbmd0aCA9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkcC5iaWdnZXIobWluUmFuZ2UsIGRhdGUpICYmIGRwLmxlc3MobWF4UmFuZ2UsIGRhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzICs9ICcgLWluLXJhbmdlLSdcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICBpZiAoZHAuaXNTYW1lKGN1cnJlbnREYXRlLCBkYXRlLCB0eXBlKSkgY2xhc3NlcyArPSAnIC1jdXJyZW50LSc7XG4gICAgICAgICAgICBpZiAocGFyZW50LmZvY3VzZWQgJiYgZHAuaXNTYW1lKGRhdGUsIHBhcmVudC5mb2N1c2VkLCB0eXBlKSkgY2xhc3NlcyArPSAnIC1mb2N1cy0nO1xuICAgICAgICAgICAgaWYgKHBhcmVudC5faXNTZWxlY3RlZChkYXRlLCB0eXBlKSkgY2xhc3NlcyArPSAnIC1zZWxlY3RlZC0nO1xuICAgICAgICAgICAgaWYgKCFwYXJlbnQuX2lzSW5SYW5nZShkYXRlLCB0eXBlKSB8fCByZW5kZXIuZGlzYWJsZWQpIGNsYXNzZXMgKz0gJyAtZGlzYWJsZWQtJztcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBodG1sOiBodG1sLFxuICAgICAgICAgICAgICAgIGNsYXNzZXM6IGNsYXNzZXNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsY3VsYXRlcyBkYXlzIG51bWJlciB0byByZW5kZXIuIEdlbmVyYXRlcyBkYXlzIGh0bWwgYW5kIHJldHVybnMgaXQuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRlIC0gRGF0ZSBvYmplY3RcbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF9nZXREYXlzSHRtbDogZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgICAgIHZhciB0b3RhbE1vbnRoRGF5cyA9IGRwLmdldERheXNDb3VudChkYXRlKSxcbiAgICAgICAgICAgICAgICBmaXJzdE1vbnRoRGF5ID0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIDEpLmdldERheSgpLFxuICAgICAgICAgICAgICAgIGxhc3RNb250aERheSA9IG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpLCB0b3RhbE1vbnRoRGF5cykuZ2V0RGF5KCksXG4gICAgICAgICAgICAgICAgZGF5c0Zyb21QZXZNb250aCA9IGZpcnN0TW9udGhEYXkgLSB0aGlzLmQubG9jLmZpcnN0RGF5LFxuICAgICAgICAgICAgICAgIGRheXNGcm9tTmV4dE1vbnRoID0gNiAtIGxhc3RNb250aERheSArIHRoaXMuZC5sb2MuZmlyc3REYXk7XG5cbiAgICAgICAgICAgIGRheXNGcm9tUGV2TW9udGggPSBkYXlzRnJvbVBldk1vbnRoIDwgMCA/IGRheXNGcm9tUGV2TW9udGggKyA3IDogZGF5c0Zyb21QZXZNb250aDtcbiAgICAgICAgICAgIGRheXNGcm9tTmV4dE1vbnRoID0gZGF5c0Zyb21OZXh0TW9udGggPiA2ID8gZGF5c0Zyb21OZXh0TW9udGggLSA3IDogZGF5c0Zyb21OZXh0TW9udGg7XG5cbiAgICAgICAgICAgIHZhciBzdGFydERheUluZGV4ID0gLWRheXNGcm9tUGV2TW9udGggKyAxLFxuICAgICAgICAgICAgICAgIG0sIHksXG4gICAgICAgICAgICAgICAgaHRtbCA9ICcnO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gc3RhcnREYXlJbmRleCwgbWF4ID0gdG90YWxNb250aERheXMgKyBkYXlzRnJvbU5leHRNb250aDsgaSA8PSBtYXg7IGkrKykge1xuICAgICAgICAgICAgICAgIHkgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgICAgICAgICAgbSA9IGRhdGUuZ2V0TW9udGgoKTtcblxuICAgICAgICAgICAgICAgIGh0bWwgKz0gdGhpcy5fZ2V0RGF5SHRtbChuZXcgRGF0ZSh5LCBtLCBpKSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2dldERheUh0bWw6IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgIHZhciBjb250ZW50ID0gdGhpcy5fZ2V0Q2VsbENvbnRlbnRzKGRhdGUsICdkYXknKTtcblxuICAgICAgICAgICAgcmV0dXJuICc8ZGl2IGNsYXNzPVwiJyArIGNvbnRlbnQuY2xhc3NlcyArICdcIiAnICtcbiAgICAgICAgICAgICAgICAnZGF0YS1kYXRlPVwiJyArIGRhdGUuZ2V0RGF0ZSgpICsgJ1wiICcgK1xuICAgICAgICAgICAgICAgICdkYXRhLW1vbnRoPVwiJyArIGRhdGUuZ2V0TW9udGgoKSArICdcIiAnICtcbiAgICAgICAgICAgICAgICAnZGF0YS15ZWFyPVwiJyArIGRhdGUuZ2V0RnVsbFllYXIoKSArICdcIj4nICsgY29udGVudC5odG1sICsgJzwvZGl2Pic7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdlbmVyYXRlcyBtb250aHMgaHRtbFxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gZGF0ZSAtIGRhdGUgaW5zdGFuY2VcbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF9nZXRNb250aHNIdG1sOiBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICAgICAgdmFyIGh0bWwgPSAnJyxcbiAgICAgICAgICAgICAgICBkID0gZHAuZ2V0UGFyc2VkRGF0ZShkYXRlKSxcbiAgICAgICAgICAgICAgICBpID0gMDtcblxuICAgICAgICAgICAgd2hpbGUoaSA8IDEyKSB7XG4gICAgICAgICAgICAgICAgaHRtbCArPSB0aGlzLl9nZXRNb250aEh0bWwobmV3IERhdGUoZC55ZWFyLCBpKSk7XG4gICAgICAgICAgICAgICAgaSsrXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBodG1sO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9nZXRNb250aEh0bWw6IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHRoaXMuX2dldENlbGxDb250ZW50cyhkYXRlLCAnbW9udGgnKTtcblxuICAgICAgICAgICAgcmV0dXJuICc8ZGl2IGNsYXNzPVwiJyArIGNvbnRlbnQuY2xhc3NlcyArICdcIiBkYXRhLW1vbnRoPVwiJyArIGRhdGUuZ2V0TW9udGgoKSArICdcIj4nICsgY29udGVudC5odG1sICsgJzwvZGl2PidcbiAgICAgICAgfSxcblxuICAgICAgICBfZ2V0WWVhcnNIdG1sOiBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICAgICAgdmFyIGQgPSBkcC5nZXRQYXJzZWREYXRlKGRhdGUpLFxuICAgICAgICAgICAgICAgIGRlY2FkZSA9IGRwLmdldERlY2FkZShkYXRlKSxcbiAgICAgICAgICAgICAgICBmaXJzdFllYXIgPSBkZWNhZGVbMF0gLSAxLFxuICAgICAgICAgICAgICAgIGh0bWwgPSAnJyxcbiAgICAgICAgICAgICAgICBpID0gZmlyc3RZZWFyO1xuXG4gICAgICAgICAgICBmb3IgKGk7IGkgPD0gZGVjYWRlWzFdICsgMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaHRtbCArPSB0aGlzLl9nZXRZZWFySHRtbChuZXcgRGF0ZShpICwgMCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gaHRtbDtcbiAgICAgICAgfSxcblxuICAgICAgICBfZ2V0WWVhckh0bWw6IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHRoaXMuX2dldENlbGxDb250ZW50cyhkYXRlLCAneWVhcicpO1xuXG4gICAgICAgICAgICByZXR1cm4gJzxkaXYgY2xhc3M9XCInICsgY29udGVudC5jbGFzc2VzICsgJ1wiIGRhdGEteWVhcj1cIicgKyBkYXRlLmdldEZ1bGxZZWFyKCkgKyAnXCI+JyArIGNvbnRlbnQuaHRtbCArICc8L2Rpdj4nXG4gICAgICAgIH0sXG5cbiAgICAgICAgX3JlbmRlclR5cGVzOiB7XG4gICAgICAgICAgICBkYXlzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRheU5hbWVzID0gdGhpcy5fZ2V0RGF5TmFtZXNIdG1sKHRoaXMuZC5sb2MuZmlyc3REYXkpLFxuICAgICAgICAgICAgICAgICAgICBkYXlzID0gdGhpcy5fZ2V0RGF5c0h0bWwodGhpcy5kLmN1cnJlbnREYXRlKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGNlbGxzLmh0bWwoZGF5cyk7XG4gICAgICAgICAgICAgICAgdGhpcy4kbmFtZXMuaHRtbChkYXlOYW1lcylcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtb250aHM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IHRoaXMuX2dldE1vbnRoc0h0bWwodGhpcy5kLmN1cnJlbnREYXRlKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGNlbGxzLmh0bWwoaHRtbClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB5ZWFyczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBodG1sID0gdGhpcy5fZ2V0WWVhcnNIdG1sKHRoaXMuZC5jdXJyZW50RGF0ZSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRjZWxscy5odG1sKGh0bWwpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX3JlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5vbmx5VGltZXBpY2tlcikgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyVHlwZXNbdGhpcy50eXBlXS5iaW5kKHRoaXMpKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX3VwZGF0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyICRjZWxscyA9ICQoJy5kYXRlcGlja2VyLS1jZWxsJywgdGhpcy4kY2VsbHMpLFxuICAgICAgICAgICAgICAgIF90aGlzID0gdGhpcyxcbiAgICAgICAgICAgICAgICBjbGFzc2VzLFxuICAgICAgICAgICAgICAgICRjZWxsLFxuICAgICAgICAgICAgICAgIGRhdGU7XG4gICAgICAgICAgICAkY2VsbHMuZWFjaChmdW5jdGlvbiAoY2VsbCwgaSkge1xuICAgICAgICAgICAgICAgICRjZWxsID0gJCh0aGlzKTtcbiAgICAgICAgICAgICAgICBkYXRlID0gX3RoaXMuZC5fZ2V0RGF0ZUZyb21DZWxsKCQodGhpcykpO1xuICAgICAgICAgICAgICAgIGNsYXNzZXMgPSBfdGhpcy5fZ2V0Q2VsbENvbnRlbnRzKGRhdGUsIF90aGlzLmQuY2VsbFR5cGUpO1xuICAgICAgICAgICAgICAgICRjZWxsLmF0dHIoJ2NsYXNzJyxjbGFzc2VzLmNsYXNzZXMpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBzaG93OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLm9ubHlUaW1lcGlja2VyKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLiRlbC5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICB0aGlzLmFjaXR2ZSA9IHRydWU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaGlkZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy4kZWwucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyAgRXZlbnRzXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICBfaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgdmFyIGRhdGUgPSBlbC5kYXRhKCdkYXRlJykgfHwgMSxcbiAgICAgICAgICAgICAgICBtb250aCA9IGVsLmRhdGEoJ21vbnRoJykgfHwgMCxcbiAgICAgICAgICAgICAgICB5ZWFyID0gZWwuZGF0YSgneWVhcicpIHx8IHRoaXMuZC5wYXJzZWREYXRlLnllYXIsXG4gICAgICAgICAgICAgICAgZHAgPSB0aGlzLmQ7XG4gICAgICAgICAgICAvLyBDaGFuZ2UgdmlldyBpZiBtaW4gdmlldyBkb2VzIG5vdCByZWFjaCB5ZXRcbiAgICAgICAgICAgIGlmIChkcC52aWV3ICE9IHRoaXMub3B0cy5taW5WaWV3KSB7XG4gICAgICAgICAgICAgICAgZHAuZG93bihuZXcgRGF0ZSh5ZWFyLCBtb250aCwgZGF0ZSkpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNlbGVjdCBkYXRlIGlmIG1pbiB2aWV3IGlzIHJlYWNoZWRcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZERhdGUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgZGF0ZSksXG4gICAgICAgICAgICAgICAgYWxyZWFkeVNlbGVjdGVkID0gdGhpcy5kLl9pc1NlbGVjdGVkKHNlbGVjdGVkRGF0ZSwgdGhpcy5kLmNlbGxUeXBlKTtcblxuICAgICAgICAgICAgaWYgKCFhbHJlYWR5U2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBkcC5fdHJpZ2dlcignY2xpY2tDZWxsJywgc2VsZWN0ZWREYXRlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRwLl9oYW5kbGVBbHJlYWR5U2VsZWN0ZWREYXRlcy5iaW5kKGRwLCBhbHJlYWR5U2VsZWN0ZWQsIHNlbGVjdGVkRGF0ZSkoKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIF9vbkNsaWNrQ2VsbDogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciAkZWwgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuZGF0ZXBpY2tlci0tY2VsbCcpO1xuXG4gICAgICAgICAgICBpZiAoJGVsLmhhc0NsYXNzKCctZGlzYWJsZWQtJykpIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy5faGFuZGxlQ2xpY2suYmluZCh0aGlzKSgkZWwpO1xuICAgICAgICB9XG4gICAgfTtcbn0pKCk7XG5cbjsoZnVuY3Rpb24gKCkge1xuICAgIHZhciB0ZW1wbGF0ZSA9ICcnICtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLS1uYXYtYWN0aW9uXCIgZGF0YS1hY3Rpb249XCJwcmV2XCI+I3twcmV2SHRtbH08L2Rpdj4nICtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJkYXRlcGlja2VyLS1uYXYtdGl0bGVcIj4je3RpdGxlfTwvZGl2PicgK1xuICAgICAgICAnPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItLW5hdi1hY3Rpb25cIiBkYXRhLWFjdGlvbj1cIm5leHRcIj4je25leHRIdG1sfTwvZGl2PicsXG4gICAgICAgIGJ1dHRvbnNDb250YWluZXJUZW1wbGF0ZSA9ICc8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci0tYnV0dG9uc1wiPjwvZGl2PicsXG4gICAgICAgIGJ1dHRvbiA9ICc8c3BhbiBjbGFzcz1cImRhdGVwaWNrZXItLWJ1dHRvblwiIGRhdGEtYWN0aW9uPVwiI3thY3Rpb259XCI+I3tsYWJlbH08L3NwYW4+JyxcbiAgICAgICAgZGF0ZXBpY2tlciA9ICQuZm4uZGF0ZXBpY2tlcixcbiAgICAgICAgZHAgPSBkYXRlcGlja2VyLkNvbnN0cnVjdG9yO1xuXG4gICAgZGF0ZXBpY2tlci5OYXZpZ2F0aW9uID0gZnVuY3Rpb24gKGQsIG9wdHMpIHtcbiAgICAgICAgdGhpcy5kID0gZDtcbiAgICAgICAgdGhpcy5vcHRzID0gb3B0cztcblxuICAgICAgICB0aGlzLiRidXR0b25zQ29udGFpbmVyID0gJyc7XG5cbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfTtcblxuICAgIGRhdGVwaWNrZXIuTmF2aWdhdGlvbi5wcm90b3R5cGUgPSB7XG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1aWxkQmFzZUh0bWwoKTtcbiAgICAgICAgICAgIHRoaXMuX2JpbmRFdmVudHMoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfYmluZEV2ZW50czogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5kLiRuYXYub24oJ2NsaWNrJywgJy5kYXRlcGlja2VyLS1uYXYtYWN0aW9uJywgJC5wcm94eSh0aGlzLl9vbkNsaWNrTmF2QnV0dG9uLCB0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLmQuJG5hdi5vbignY2xpY2snLCAnLmRhdGVwaWNrZXItLW5hdi10aXRsZScsICQucHJveHkodGhpcy5fb25DbGlja05hdlRpdGxlLCB0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLmQuJGRhdGVwaWNrZXIub24oJ2NsaWNrJywgJy5kYXRlcGlja2VyLS1idXR0b24nLCAkLnByb3h5KHRoaXMuX29uQ2xpY2tOYXZCdXR0b24sIHRoaXMpKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfYnVpbGRCYXNlSHRtbDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdHMub25seVRpbWVwaWNrZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2FkZEJ1dHRvbnNJZk5lZWQoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfYWRkQnV0dG9uc0lmTmVlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5jbGVhckJ1dHRvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkZEJ1dHRvbignY2xlYXInKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5jb25maXJtQnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkQnV0dG9uKCdjb25maXJtJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBfcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdGl0bGUgPSB0aGlzLl9nZXRUaXRsZSh0aGlzLmQuY3VycmVudERhdGUpLFxuICAgICAgICAgICAgICAgIGh0bWwgPSBkcC50ZW1wbGF0ZSh0ZW1wbGF0ZSwgJC5leHRlbmQoe3RpdGxlOiB0aXRsZX0sIHRoaXMub3B0cykpO1xuICAgICAgICAgICAgdGhpcy5kLiRuYXYuaHRtbChodG1sKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmQudmlldyA9PSAneWVhcnMnKSB7XG4gICAgICAgICAgICAgICAgJCgnLmRhdGVwaWNrZXItLW5hdi10aXRsZScsIHRoaXMuZC4kbmF2KS5hZGRDbGFzcygnLWRpc2FibGVkLScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zZXROYXZTdGF0dXMoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfZ2V0VGl0bGU6IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kLmZvcm1hdERhdGUodGhpcy5vcHRzLm5hdlRpdGxlc1t0aGlzLmQudmlld10sIGRhdGUpXG4gICAgICAgIH0sXG5cbiAgICAgICAgX2FkZEJ1dHRvbjogZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy4kYnV0dG9uc0NvbnRhaW5lci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGRCdXR0b25zQ29udGFpbmVyKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IHR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLmQubG9jW3R5cGVdXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBodG1sID0gZHAudGVtcGxhdGUoYnV0dG9uLCBkYXRhKTtcblxuICAgICAgICAgICAgaWYgKCQoJ1tkYXRhLWFjdGlvbj0nICsgdHlwZSArICddJywgdGhpcy4kYnV0dG9uc0NvbnRhaW5lcikubGVuZ3RoKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLiRidXR0b25zQ29udGFpbmVyLmFwcGVuZChodG1sKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfYWRkQnV0dG9uc0NvbnRhaW5lcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5kLiRkYXRlcGlja2VyLmFwcGVuZChidXR0b25zQ29udGFpbmVyVGVtcGxhdGUpO1xuICAgICAgICAgICAgdGhpcy4kYnV0dG9uc0NvbnRhaW5lciA9ICQoJy5kYXRlcGlja2VyLS1idXR0b25zJywgdGhpcy5kLiRkYXRlcGlja2VyKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZXROYXZTdGF0dXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghKHRoaXMub3B0cy5taW5EYXRlIHx8IHRoaXMub3B0cy5tYXhEYXRlKSB8fCAhdGhpcy5vcHRzLmRpc2FibGVOYXZXaGVuT3V0T2ZSYW5nZSkgcmV0dXJuO1xuXG4gICAgICAgICAgICB2YXIgZGF0ZSA9IHRoaXMuZC5wYXJzZWREYXRlLFxuICAgICAgICAgICAgICAgIG0gPSBkYXRlLm1vbnRoLFxuICAgICAgICAgICAgICAgIHkgPSBkYXRlLnllYXIsXG4gICAgICAgICAgICAgICAgZCA9IGRhdGUuZGF0ZTtcblxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLmQudmlldykge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2RheXMnOlxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZC5faXNJblJhbmdlKG5ldyBEYXRlKHksIG0tMSwgMSksICdtb250aCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNhYmxlTmF2KCdwcmV2JylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZC5faXNJblJhbmdlKG5ldyBEYXRlKHksIG0rMSwgMSksICdtb250aCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNhYmxlTmF2KCduZXh0JylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdtb250aHMnOlxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZC5faXNJblJhbmdlKG5ldyBEYXRlKHktMSwgbSwgZCksICd5ZWFyJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVOYXYoJ3ByZXYnKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5kLl9pc0luUmFuZ2UobmV3IERhdGUoeSsxLCBtLCBkKSwgJ3llYXInKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzYWJsZU5hdignbmV4dCcpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAneWVhcnMnOlxuICAgICAgICAgICAgICAgICAgICB2YXIgZGVjYWRlID0gZHAuZ2V0RGVjYWRlKHRoaXMuZC5kYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmQuX2lzSW5SYW5nZShuZXcgRGF0ZShkZWNhZGVbMF0gLSAxLCAwLCAxKSwgJ3llYXInKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzYWJsZU5hdigncHJldicpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmQuX2lzSW5SYW5nZShuZXcgRGF0ZShkZWNhZGVbMV0gKyAxLCAwLCAxKSwgJ3llYXInKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlzYWJsZU5hdignbmV4dCcpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX2Rpc2FibGVOYXY6IGZ1bmN0aW9uIChuYXYpIHtcbiAgICAgICAgICAgICQoJ1tkYXRhLWFjdGlvbj1cIicgKyBuYXYgKyAnXCJdJywgdGhpcy5kLiRuYXYpLmFkZENsYXNzKCctZGlzYWJsZWQtJylcbiAgICAgICAgfSxcblxuICAgICAgICBfYWN0aXZhdGVOYXY6IGZ1bmN0aW9uIChuYXYpIHtcbiAgICAgICAgICAgICQoJ1tkYXRhLWFjdGlvbj1cIicgKyBuYXYgKyAnXCJdJywgdGhpcy5kLiRuYXYpLnJlbW92ZUNsYXNzKCctZGlzYWJsZWQtJylcbiAgICAgICAgfSxcblxuICAgICAgICBfb25DbGlja05hdkJ1dHRvbjogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciAkZWwgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCdbZGF0YS1hY3Rpb25dJyksXG4gICAgICAgICAgICAgICAgYWN0aW9uID0gJGVsLmRhdGEoJ2FjdGlvbicpO1xuXG4gICAgICAgICAgICB0aGlzLmRbYWN0aW9uXSgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9vbkNsaWNrTmF2VGl0bGU6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoJChlLnRhcmdldCkuaGFzQ2xhc3MoJy1kaXNhYmxlZC0nKSkgcmV0dXJuO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5kLnZpZXcgPT0gJ2RheXMnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZC52aWV3ID0gJ21vbnRocydcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5kLnZpZXcgPSAneWVhcnMnO1xuICAgICAgICB9XG4gICAgfVxuXG59KSgpO1xuXG4kKCcuc3RhcnRfZGF0ZScpLmRhdGVwaWNrZXIoe1xuICAgIG9uU2VsZWN0OiBmdW5jdGlvbiAoZmQsIGQsIHBpY2tlcikge1xuICAgICAgJChwaWNrZXIuJGVsKS52YWwoZmQuc3BsaXQoXCItXCIpWzBdKTtcbiAgICAgIGxldCBwYXJlbnQgPSAkKHBpY2tlci4kZWwpLmNsb3Nlc3QoXCIuZHJvcGRvd24tY29udGFpbmVyXCIpO1xuICAgICAgcGFyZW50LmZpbmQoXCIuZW5kX2RhdGVcIikudmFsKGZkLnNwbGl0KFwiLVwiKVsxXSk7XG4gICAgfVxufSk7XG5cbjsoZnVuY3Rpb24gKCkge1xuICAgIHZhciB0ZW1wbGF0ZSA9ICc8ZGl2IGNsYXNzPVwiZGF0ZXBpY2tlci0tdGltZVwiPicgK1xuICAgICAgICAnPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItLXRpbWUtY3VycmVudFwiPicgK1xuICAgICAgICAnICAgPHNwYW4gY2xhc3M9XCJkYXRlcGlja2VyLS10aW1lLWN1cnJlbnQtaG91cnNcIj4je2hvdXJWaXNpYmxlfTwvc3Bhbj4nICtcbiAgICAgICAgJyAgIDxzcGFuIGNsYXNzPVwiZGF0ZXBpY2tlci0tdGltZS1jdXJyZW50LWNvbG9uXCI+Ojwvc3Bhbj4nICtcbiAgICAgICAgJyAgIDxzcGFuIGNsYXNzPVwiZGF0ZXBpY2tlci0tdGltZS1jdXJyZW50LW1pbnV0ZXNcIj4je21pblZhbHVlfTwvc3Bhbj4nICtcbiAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAnPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItLXRpbWUtc2xpZGVyc1wiPicgK1xuICAgICAgICAnICAgPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItLXRpbWUtcm93XCI+JyArXG4gICAgICAgICcgICAgICA8aW5wdXQgdHlwZT1cInJhbmdlXCIgbmFtZT1cImhvdXJzXCIgdmFsdWU9XCIje2hvdXJWYWx1ZX1cIiBtaW49XCIje2hvdXJNaW59XCIgbWF4PVwiI3tob3VyTWF4fVwiIHN0ZXA9XCIje2hvdXJTdGVwfVwiLz4nICtcbiAgICAgICAgJyAgIDwvZGl2PicgK1xuICAgICAgICAnICAgPGRpdiBjbGFzcz1cImRhdGVwaWNrZXItLXRpbWUtcm93XCI+JyArXG4gICAgICAgICcgICAgICA8aW5wdXQgdHlwZT1cInJhbmdlXCIgbmFtZT1cIm1pbnV0ZXNcIiB2YWx1ZT1cIiN7bWluVmFsdWV9XCIgbWluPVwiI3ttaW5NaW59XCIgbWF4PVwiI3ttaW5NYXh9XCIgc3RlcD1cIiN7bWluU3RlcH1cIi8+JyArXG4gICAgICAgICcgICA8L2Rpdj4nICtcbiAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgZGF0ZXBpY2tlciA9ICQuZm4uZGF0ZXBpY2tlcixcbiAgICAgICAgZHAgPSBkYXRlcGlja2VyLkNvbnN0cnVjdG9yO1xuXG4gICAgZGF0ZXBpY2tlci5UaW1lcGlja2VyID0gZnVuY3Rpb24gKGluc3QsIG9wdHMpIHtcbiAgICAgICAgdGhpcy5kID0gaW5zdDtcbiAgICAgICAgdGhpcy5vcHRzID0gb3B0cztcblxuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICB9O1xuXG4gICAgZGF0ZXBpY2tlci5UaW1lcGlja2VyLnByb3RvdHlwZSA9IHtcbiAgICAgICAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGlucHV0ID0gJ2lucHV0JztcbiAgICAgICAgICAgIHRoaXMuX3NldFRpbWUodGhpcy5kLmRhdGUpO1xuICAgICAgICAgICAgdGhpcy5fYnVpbGRIVE1MKCk7XG5cbiAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC90cmlkZW50L2dpKSkge1xuICAgICAgICAgICAgICAgIGlucHV0ID0gJ2NoYW5nZSc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZC4kZWwub24oJ3NlbGVjdERhdGUnLCB0aGlzLl9vblNlbGVjdERhdGUuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLiRyYW5nZXMub24oaW5wdXQsIHRoaXMuX29uQ2hhbmdlUmFuZ2UuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLiRyYW5nZXMub24oJ21vdXNldXAnLCB0aGlzLl9vbk1vdXNlVXBSYW5nZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHRoaXMuJHJhbmdlcy5vbignbW91c2Vtb3ZlIGZvY3VzICcsIHRoaXMuX29uTW91c2VFbnRlclJhbmdlLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgdGhpcy4kcmFuZ2VzLm9uKCdtb3VzZW91dCBibHVyJywgdGhpcy5fb25Nb3VzZU91dFJhbmdlLmJpbmQodGhpcykpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9zZXRUaW1lOiBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICAgICAgdmFyIF9kYXRlID0gZHAuZ2V0UGFyc2VkRGF0ZShkYXRlKTtcblxuICAgICAgICAgICAgdGhpcy5faGFuZGxlRGF0ZShkYXRlKTtcbiAgICAgICAgICAgIHRoaXMuaG91cnMgPSBfZGF0ZS5ob3VycyA8IHRoaXMubWluSG91cnMgPyB0aGlzLm1pbkhvdXJzIDogX2RhdGUuaG91cnM7XG4gICAgICAgICAgICB0aGlzLm1pbnV0ZXMgPSBfZGF0ZS5taW51dGVzIDwgdGhpcy5taW5NaW51dGVzID8gdGhpcy5taW5NaW51dGVzIDogX2RhdGUubWludXRlcztcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyBtaW5Ib3VycyBhbmQgbWluTWludXRlcyBmcm9tIGRhdGUgKHVzdWFsbHkgaXQncyBhIG1pbkRhdGUpXG4gICAgICAgICAqIEFsc28gY2hhbmdlcyBtaW5NaW51dGVzIGlmIGN1cnJlbnQgaG91cnMgYXJlIGJpZ2dlciB0aGVuIEBkYXRlIGhvdXJzXG4gICAgICAgICAqIEBwYXJhbSBkYXRlIHtEYXRlfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3NldE1pblRpbWVGcm9tRGF0ZTogZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMubWluSG91cnMgPSBkYXRlLmdldEhvdXJzKCk7XG4gICAgICAgICAgICB0aGlzLm1pbk1pbnV0ZXMgPSBkYXRlLmdldE1pbnV0ZXMoKTtcblxuICAgICAgICAgICAgLy8gSWYsIGZvciBleGFtcGxlLCBtaW4gaG91cnMgYXJlIDEwLCBhbmQgY3VycmVudCBob3VycyBhcmUgMTIsXG4gICAgICAgICAgICAvLyB1cGRhdGUgbWluTWludXRlcyB0byBkZWZhdWx0IHZhbHVlLCB0byBiZSBhYmxlIHRvIGNob29zZSB3aG9sZSByYW5nZSBvZiB2YWx1ZXNcbiAgICAgICAgICAgIGlmICh0aGlzLmQubGFzdFNlbGVjdGVkRGF0ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmQubGFzdFNlbGVjdGVkRGF0ZS5nZXRIb3VycygpID4gZGF0ZS5nZXRIb3VycygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWluTWludXRlcyA9IHRoaXMub3B0cy5taW5NaW51dGVzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBfc2V0TWF4VGltZUZyb21EYXRlOiBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5tYXhIb3VycyA9IGRhdGUuZ2V0SG91cnMoKTtcbiAgICAgICAgICAgIHRoaXMubWF4TWludXRlcyA9IGRhdGUuZ2V0TWludXRlcygpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5kLmxhc3RTZWxlY3RlZERhdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kLmxhc3RTZWxlY3RlZERhdGUuZ2V0SG91cnMoKSA8IGRhdGUuZ2V0SG91cnMoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1heE1pbnV0ZXMgPSB0aGlzLm9wdHMubWF4TWludXRlcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX3NldERlZmF1bHRNaW5NYXhUaW1lOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbWF4SG91cnMgPSAyMyxcbiAgICAgICAgICAgICAgICBtYXhNaW51dGVzID0gNTksXG4gICAgICAgICAgICAgICAgb3B0cyA9IHRoaXMub3B0cztcblxuICAgICAgICAgICAgdGhpcy5taW5Ib3VycyA9IG9wdHMubWluSG91cnMgPCAwIHx8IG9wdHMubWluSG91cnMgPiBtYXhIb3VycyA/IDAgOiBvcHRzLm1pbkhvdXJzO1xuICAgICAgICAgICAgdGhpcy5taW5NaW51dGVzID0gb3B0cy5taW5NaW51dGVzIDwgMCB8fCBvcHRzLm1pbk1pbnV0ZXMgPiBtYXhNaW51dGVzID8gMCA6IG9wdHMubWluTWludXRlcztcbiAgICAgICAgICAgIHRoaXMubWF4SG91cnMgPSBvcHRzLm1heEhvdXJzIDwgMCB8fCBvcHRzLm1heEhvdXJzID4gbWF4SG91cnMgPyBtYXhIb3VycyA6IG9wdHMubWF4SG91cnM7XG4gICAgICAgICAgICB0aGlzLm1heE1pbnV0ZXMgPSBvcHRzLm1heE1pbnV0ZXMgPCAwIHx8IG9wdHMubWF4TWludXRlcyA+IG1heE1pbnV0ZXMgPyBtYXhNaW51dGVzIDogb3B0cy5tYXhNaW51dGVzO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMb29rcyBmb3IgbWluL21heCBob3Vycy9taW51dGVzIGFuZCBpZiBjdXJyZW50IHZhbHVlc1xuICAgICAgICAgKiBhcmUgb3V0IG9mIHJhbmdlIHNldHMgdmFsaWQgdmFsdWVzLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3ZhbGlkYXRlSG91cnNNaW51dGVzOiBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaG91cnMgPCB0aGlzLm1pbkhvdXJzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ob3VycyA9IHRoaXMubWluSG91cnM7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaG91cnMgPiB0aGlzLm1heEhvdXJzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ob3VycyA9IHRoaXMubWF4SG91cnM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm1pbnV0ZXMgPCB0aGlzLm1pbk1pbnV0ZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1pbnV0ZXMgPSB0aGlzLm1pbk1pbnV0ZXM7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMubWludXRlcyA+IHRoaXMubWF4TWludXRlcykge1xuICAgICAgICAgICAgICAgIHRoaXMubWludXRlcyA9IHRoaXMubWF4TWludXRlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBfYnVpbGRIVE1MOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbHogPSBkcC5nZXRMZWFkaW5nWmVyb051bSxcbiAgICAgICAgICAgICAgICBkYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICBob3VyTWluOiB0aGlzLm1pbkhvdXJzLFxuICAgICAgICAgICAgICAgICAgICBob3VyTWF4OiBseih0aGlzLm1heEhvdXJzKSxcbiAgICAgICAgICAgICAgICAgICAgaG91clN0ZXA6IHRoaXMub3B0cy5ob3Vyc1N0ZXAsXG4gICAgICAgICAgICAgICAgICAgIGhvdXJWYWx1ZTogdGhpcy5ob3VycyxcbiAgICAgICAgICAgICAgICAgICAgaG91clZpc2libGU6IGx6KHRoaXMuZGlzcGxheUhvdXJzKSxcbiAgICAgICAgICAgICAgICAgICAgbWluTWluOiB0aGlzLm1pbk1pbnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIG1pbk1heDogbHoodGhpcy5tYXhNaW51dGVzKSxcbiAgICAgICAgICAgICAgICAgICAgbWluU3RlcDogdGhpcy5vcHRzLm1pbnV0ZXNTdGVwLFxuICAgICAgICAgICAgICAgICAgICBtaW5WYWx1ZTogbHoodGhpcy5taW51dGVzKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgX3RlbXBsYXRlID0gZHAudGVtcGxhdGUodGVtcGxhdGUsIGRhdGEpO1xuXG4gICAgICAgICAgICB0aGlzLiR0aW1lcGlja2VyID0gJChfdGVtcGxhdGUpLmFwcGVuZFRvKHRoaXMuZC4kZGF0ZXBpY2tlcik7XG4gICAgICAgICAgICB0aGlzLiRyYW5nZXMgPSAkKCdbdHlwZT1cInJhbmdlXCJdJywgdGhpcy4kdGltZXBpY2tlcik7XG4gICAgICAgICAgICB0aGlzLiRob3VycyA9ICQoJ1tuYW1lPVwiaG91cnNcIl0nLCB0aGlzLiR0aW1lcGlja2VyKTtcbiAgICAgICAgICAgIHRoaXMuJG1pbnV0ZXMgPSAkKCdbbmFtZT1cIm1pbnV0ZXNcIl0nLCB0aGlzLiR0aW1lcGlja2VyKTtcbiAgICAgICAgICAgIHRoaXMuJGhvdXJzVGV4dCA9ICQoJy5kYXRlcGlja2VyLS10aW1lLWN1cnJlbnQtaG91cnMnLCB0aGlzLiR0aW1lcGlja2VyKTtcbiAgICAgICAgICAgIHRoaXMuJG1pbnV0ZXNUZXh0ID0gJCgnLmRhdGVwaWNrZXItLXRpbWUtY3VycmVudC1taW51dGVzJywgdGhpcy4kdGltZXBpY2tlcik7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmQuYW1wbSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGFtcG0gPSAkKCc8c3BhbiBjbGFzcz1cImRhdGVwaWNrZXItLXRpbWUtY3VycmVudC1hbXBtXCI+JylcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZFRvKCQoJy5kYXRlcGlja2VyLS10aW1lLWN1cnJlbnQnLCB0aGlzLiR0aW1lcGlja2VyKSlcbiAgICAgICAgICAgICAgICAgICAgLmh0bWwodGhpcy5kYXlQZXJpb2QpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kdGltZXBpY2tlci5hZGRDbGFzcygnLWFtLXBtLScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF91cGRhdGVDdXJyZW50VGltZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGggPSAgZHAuZ2V0TGVhZGluZ1plcm9OdW0odGhpcy5kaXNwbGF5SG91cnMpLFxuICAgICAgICAgICAgICAgIG0gPSBkcC5nZXRMZWFkaW5nWmVyb051bSh0aGlzLm1pbnV0ZXMpO1xuXG4gICAgICAgICAgICB0aGlzLiRob3Vyc1RleHQuaHRtbChoKTtcbiAgICAgICAgICAgIHRoaXMuJG1pbnV0ZXNUZXh0Lmh0bWwobSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmQuYW1wbSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGFtcG0uaHRtbCh0aGlzLmRheVBlcmlvZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgX3VwZGF0ZVJhbmdlczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy4kaG91cnMuYXR0cih7XG4gICAgICAgICAgICAgICAgbWluOiB0aGlzLm1pbkhvdXJzLFxuICAgICAgICAgICAgICAgIG1heDogdGhpcy5tYXhIb3Vyc1xuICAgICAgICAgICAgfSkudmFsKHRoaXMuaG91cnMpO1xuXG4gICAgICAgICAgICB0aGlzLiRtaW51dGVzLmF0dHIoe1xuICAgICAgICAgICAgICAgIG1pbjogdGhpcy5taW5NaW51dGVzLFxuICAgICAgICAgICAgICAgIG1heDogdGhpcy5tYXhNaW51dGVzXG4gICAgICAgICAgICB9KS52YWwodGhpcy5taW51dGVzKVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIG1pbkhvdXJzLCBtaW5NaW51dGVzIGV0Yy4gZnJvbSBkYXRlLiBJZiBkYXRlIGlzIG5vdCBwYXNzZWQsIHRoYW4gc2V0c1xuICAgICAgICAgKiB2YWx1ZXMgZnJvbSBvcHRpb25zXG4gICAgICAgICAqIEBwYXJhbSBbZGF0ZV0ge29iamVjdH0gLSBEYXRlIG9iamVjdCwgdG8gZ2V0IHZhbHVlcyBmcm9tXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfaGFuZGxlRGF0ZTogZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldERlZmF1bHRNaW5NYXhUaW1lKCk7XG4gICAgICAgICAgICBpZiAoZGF0ZSkge1xuICAgICAgICAgICAgICAgIGlmIChkcC5pc1NhbWUoZGF0ZSwgdGhpcy5kLm9wdHMubWluRGF0ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0TWluVGltZUZyb21EYXRlKHRoaXMuZC5vcHRzLm1pbkRhdGUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZHAuaXNTYW1lKGRhdGUsIHRoaXMuZC5vcHRzLm1heERhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldE1heFRpbWVGcm9tRGF0ZSh0aGlzLmQub3B0cy5tYXhEYXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3ZhbGlkYXRlSG91cnNNaW51dGVzKGRhdGUpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlUmFuZ2VzKCk7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVDdXJyZW50VGltZSgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxjdWxhdGVzIHZhbGlkIGhvdXIgdmFsdWUgdG8gZGlzcGxheSBpbiB0ZXh0IGlucHV0IGFuZCBkYXRlcGlja2VyJ3MgYm9keS5cbiAgICAgICAgICogQHBhcmFtIGRhdGUge0RhdGV8TnVtYmVyfSAtIGRhdGUgb3IgaG91cnNcbiAgICAgICAgICogQHBhcmFtIFthbXBtXSB7Qm9vbGVhbn0gLSAxMiBob3VycyBtb2RlXG4gICAgICAgICAqIEByZXR1cm5zIHt7aG91cnM6ICosIGRheVBlcmlvZDogc3RyaW5nfX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF9nZXRWYWxpZEhvdXJzRnJvbURhdGU6IGZ1bmN0aW9uIChkYXRlLCBhbXBtKSB7XG4gICAgICAgICAgICB2YXIgZCA9IGRhdGUsXG4gICAgICAgICAgICAgICAgaG91cnMgPSBkYXRlO1xuXG4gICAgICAgICAgICBpZiAoZGF0ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgICAgICBkID0gZHAuZ2V0UGFyc2VkRGF0ZShkYXRlKTtcbiAgICAgICAgICAgICAgICBob3VycyA9IGQuaG91cnM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBfYW1wbSA9IGFtcG0gfHwgdGhpcy5kLmFtcG0sXG4gICAgICAgICAgICAgICAgZGF5UGVyaW9kID0gJ2FtJztcblxuICAgICAgICAgICAgaWYgKF9hbXBtKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoKHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBob3VycyA9PSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaG91cnMgPSAxMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGhvdXJzID09IDEyOlxuICAgICAgICAgICAgICAgICAgICAgICAgZGF5UGVyaW9kID0gJ3BtJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGhvdXJzID4gMTE6XG4gICAgICAgICAgICAgICAgICAgICAgICBob3VycyA9IGhvdXJzIC0gMTI7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXlQZXJpb2QgPSAncG0nO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaG91cnM6IGhvdXJzLFxuICAgICAgICAgICAgICAgIGRheVBlcmlvZDogZGF5UGVyaW9kXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0IGhvdXJzICh2YWwpIHtcbiAgICAgICAgICAgIHRoaXMuX2hvdXJzID0gdmFsO1xuXG4gICAgICAgICAgICB2YXIgZGlzcGxheUhvdXJzID0gdGhpcy5fZ2V0VmFsaWRIb3Vyc0Zyb21EYXRlKHZhbCk7XG5cbiAgICAgICAgICAgIHRoaXMuZGlzcGxheUhvdXJzID0gZGlzcGxheUhvdXJzLmhvdXJzO1xuICAgICAgICAgICAgdGhpcy5kYXlQZXJpb2QgPSBkaXNwbGF5SG91cnMuZGF5UGVyaW9kO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldCBob3VycygpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ob3VycztcbiAgICAgICAgfSxcblxuICAgICAgICAvLyAgRXZlbnRzXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICAgICBfb25DaGFuZ2VSYW5nZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciAkdGFyZ2V0ID0gJChlLnRhcmdldCksXG4gICAgICAgICAgICAgICAgbmFtZSA9ICR0YXJnZXQuYXR0cignbmFtZScpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLmQudGltZXBpY2tlcklzQWN0aXZlID0gdHJ1ZTtcblxuICAgICAgICAgICAgdGhpc1tuYW1lXSA9ICR0YXJnZXQudmFsKCk7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVDdXJyZW50VGltZSgpO1xuICAgICAgICAgICAgdGhpcy5kLl90cmlnZ2VyKCd0aW1lQ2hhbmdlJywgW3RoaXMuaG91cnMsIHRoaXMubWludXRlc10pO1xuXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVEYXRlKHRoaXMuZC5sYXN0U2VsZWN0ZWREYXRlKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKClcbiAgICAgICAgfSxcblxuICAgICAgICBfb25TZWxlY3REYXRlOiBmdW5jdGlvbiAoZSwgZGF0YSkge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlRGF0ZShkYXRhKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgX29uTW91c2VFbnRlclJhbmdlOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIG5hbWUgPSAkKGUudGFyZ2V0KS5hdHRyKCduYW1lJyk7XG4gICAgICAgICAgICAkKCcuZGF0ZXBpY2tlci0tdGltZS1jdXJyZW50LScgKyBuYW1lLCB0aGlzLiR0aW1lcGlja2VyKS5hZGRDbGFzcygnLWZvY3VzLScpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9vbk1vdXNlT3V0UmFuZ2U6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9ICQoZS50YXJnZXQpLmF0dHIoJ25hbWUnKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmQuaW5Gb2N1cykgcmV0dXJuOyAvLyBQcmV2ZW50IHJlbW92aW5nIGZvY3VzIHdoZW4gbW91c2Ugb3V0IG9mIHJhbmdlIHNsaWRlclxuICAgICAgICAgICAgJCgnLmRhdGVwaWNrZXItLXRpbWUtY3VycmVudC0nICsgbmFtZSwgdGhpcy4kdGltZXBpY2tlcikucmVtb3ZlQ2xhc3MoJy1mb2N1cy0nKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfb25Nb3VzZVVwUmFuZ2U6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB0aGlzLmQudGltZXBpY2tlcklzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xufSkoKTtcbiB9KSh3aW5kb3csIGpRdWVyeSk7Il0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBekVBO0FBWEE7QUF1RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFiQTtBQXRGQTtBQUNBO0FBc0dBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBWkE7QUFjQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBWkE7QUFjQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBdENBO0FBQ0E7QUF3Q0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOzs7Ozs7O0FBUUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQ0E7QUFOQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFPQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBT0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBSUE7QUFFQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFaQTtBQUNBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbkJBO0FBQ0E7QUFvQkE7QUFFQTtBQUNBO0FBRkE7QUFJQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBR0E7QUFEQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQWpDQTtBQUNBO0FBbUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXBCQTtBQUNBO0FBc0JBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQVRBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBTkE7QUFDQTtBQU9BO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFydENBO0FBd3RDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVkE7QUFEQTtBQWVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBS0E7QUFJQTtBQVZBO0FBQUE7QUFBQTtBQUNBO0FBaUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUF4QkE7QUFDQTtBQTBCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTs7Ozs7O0FBTUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBTUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7Ozs7OztBQU1BO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFqQkE7QUFvQkE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQXZSQTtBQXlSQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQUE7QUFNQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQXpCQTtBQTJCQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUExSEE7QUE2SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBUUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFpQkE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFUQTtBQURBO0FBQ0E7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQU9BO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFaQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFHQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBOVBBO0FBZ1FBO0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./blocks/calendar/datepicker.js\n");

/***/ }),

/***/ "./blocks/carousel/carousel.js":
/*!*************************************!*\
  !*** ./blocks/carousel/carousel.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {\n\nvar slideShow = function () {\n  return function (slider, config) {\n    var // slider   \n    _sliderContainer = slider.querySelector('.slider__items'),\n        //   .slider-item\n    _sliderItems = slider.querySelectorAll('.slider__item'),\n        //  .slider-item\n    _sliderControls = slider.querySelectorAll('.slider__control'),\n        //  \n    _currentPosition = 0,\n        //    \n    _transformValue = 0,\n        //   .slider_wrapper\n    _transformStep = 100,\n        //   ( )\n    _itemsArray = [],\n        //  \n    _timerId,\n        _indicatorItems,\n        _indicatorIndex = 0,\n        _indicatorIndexMax = _sliderItems.length - 1,\n        _config = {\n      isAutoplay: false,\n      //   \n      directionAutoplay: 'next',\n      //   \n      delayAutoplay: 5000,\n      //     \n      isPauseOnHover: true //        \n\n    }; //        \n\n\n    for (var key in config) {\n      if (key in _config) {\n        _config[key] = config[key];\n      }\n    } //   _itemsArray\n\n\n    for (var i = 0; i < _sliderItems.length; i++) {\n      _itemsArray.push({\n        item: _sliderItems[i],\n        position: i,\n        transform: 0\n      });\n    } //  position            ,      \n\n\n    var position = {\n      getItemIndex: function getItemIndex(mode) {\n        var index = 0;\n\n        for (var i = 0; i < _itemsArray.length; i++) {\n          if (_itemsArray[i].position < _itemsArray[index].position && mode === 'min' || _itemsArray[i].position > _itemsArray[index].position && mode === 'max') {\n            index = i;\n          }\n        }\n\n        return index;\n      },\n      getItemPosition: function getItemPosition(mode) {\n        return _itemsArray[position.getItemIndex(mode)].position;\n      }\n    }; // ,      \n\n    var _move = function _move(direction) {\n      var nextItem,\n          currentIndicator = _indicatorIndex;\n      ;\n\n      if (direction === 'next') {\n        _currentPosition++;\n\n        if (_currentPosition > position.getItemPosition('max')) {\n          nextItem = position.getItemIndex('min');\n          _itemsArray[nextItem].position = position.getItemPosition('max') + 1;\n          _itemsArray[nextItem].transform += _itemsArray.length * 100;\n          _itemsArray[nextItem].item.style.transform = 'translateX(' + _itemsArray[nextItem].transform + '%)';\n        }\n\n        _transformValue -= _transformStep;\n        _indicatorIndex = _indicatorIndex + 1;\n\n        if (_indicatorIndex > _indicatorIndexMax) {\n          _indicatorIndex = 0;\n        }\n      } else {\n        _currentPosition--;\n\n        if (_currentPosition < position.getItemPosition('min')) {\n          nextItem = position.getItemIndex('max');\n          _itemsArray[nextItem].position = position.getItemPosition('min') - 1;\n          _itemsArray[nextItem].transform -= _itemsArray.length * 100;\n          _itemsArray[nextItem].item.style.transform = 'translateX(' + _itemsArray[nextItem].transform + '%)';\n        }\n\n        _transformValue += _transformStep;\n        _indicatorIndex = _indicatorIndex - 1;\n\n        if (_indicatorIndex < 0) {\n          _indicatorIndex = _indicatorIndexMax;\n        }\n      }\n\n      _sliderContainer.style.transform = 'translateX(' + _transformValue + '%)';\n\n      _indicatorItems[currentIndicator].classList.remove('active');\n\n      _indicatorItems[_indicatorIndex].classList.add('active');\n    }; // ,        \n\n\n    var _moveTo = function _moveTo(index) {\n      var i = 0,\n          direction = index > _indicatorIndex ? 'next' : 'prev';\n\n      while (index !== _indicatorIndex && i <= _indicatorIndexMax) {\n        _move(direction);\n\n        i++;\n      }\n    }; //         \n\n\n    var _startAutoplay = function _startAutoplay() {\n      if (!_config.isAutoplay) {\n        return;\n      }\n\n      _stopAutoplay();\n\n      _timerId = setInterval(function () {\n        _move(_config.directionAutoplay);\n      }, _config.delayAutoplay);\n    }; // ,    \n\n\n    var _stopAutoplay = function _stopAutoplay() {\n      clearInterval(_timerId);\n    }; // ,    \n\n\n    var _addIndicators = function _addIndicators() {\n      var indicatorsContainer = document.createElement('ol');\n      indicatorsContainer.classList.add('slider__indicators');\n\n      for (var i = 0; i < _sliderItems.length; i++) {\n        var sliderIndicatorsItem = document.createElement('li');\n\n        if (i === 0) {\n          sliderIndicatorsItem.classList.add('active');\n        }\n\n        sliderIndicatorsItem.setAttribute(\"data-slide-to\", i);\n        indicatorsContainer.appendChild(sliderIndicatorsItem);\n      }\n\n      slider.appendChild(indicatorsContainer);\n      _indicatorItems = slider.querySelectorAll('.slider__indicators > li');\n    }; // ,      \n\n\n    var _setUpListeners = function _setUpListeners() {\n      slider.addEventListener('click', function (e) {\n        if (e.target.classList.contains('slider__control')) {\n          e.preventDefault();\n\n          _move(e.target.classList.contains('slider__control_next') ? 'next' : 'prev');\n\n          _startAutoplay();\n        } else if (e.target.getAttribute('data-slide-to')) {\n          e.preventDefault();\n\n          _moveTo(parseInt(e.target.getAttribute('data-slide-to')));\n\n          _startAutoplay();\n        }\n      });\n      document.addEventListener('visibilitychange', function () {\n        if (document.visibilityState === \"hidden\") {\n          _stopAutoplay();\n        } else {\n          _startAutoplay();\n        }\n      }, false);\n\n      if (_config.isPauseOnHover && _config.isAutoplay) {\n        slider.addEventListener('mouseenter', function () {\n          _stopAutoplay();\n        });\n        slider.addEventListener('mouseleave', function () {\n          _startAutoplay();\n        });\n      }\n    }; //    \n\n\n    _addIndicators(); //    \n\n\n    _setUpListeners(); //    ,    \n\n\n    _startAutoplay();\n\n    return {\n      //       \n      next: function next() {\n        _move('next');\n      },\n      //       \n      left: function left() {\n        _move('prev');\n      },\n      //     \n      stop: function stop() {\n        _config.isAutoplay = false;\n\n        _stopAutoplay();\n      },\n      //     \n      cycle: function cycle() {\n        _config.isAutoplay = true;\n\n        _startAutoplay();\n      }\n    };\n  };\n}();\n\n$(function () {\n  $('.slider').each(function () {\n    slideShow(this);\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"../node_modules/jquery/dist/jquery.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ibG9ja3MvY2Fyb3VzZWwvY2Fyb3VzZWwuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ibG9ja3MvY2Fyb3VzZWwvY2Fyb3VzZWwuanM/MWM3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcbnZhciBzbGlkZVNob3cgPSAoZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiBmdW5jdGlvbiAoc2xpZGVyLCBjb25maWcpIHtcclxuICAgIHZhclxyXG4gICAgICAvLyBzbGlkZXIg0L7RgdC90L7QstC90YvQuSDRjdC70LXQvNC10L3RgiDQsdC70L7QutCwXHJcbiAgICAgIF9zbGlkZXJDb250YWluZXIgPSBzbGlkZXIucXVlcnlTZWxlY3RvcignLnNsaWRlcl9faXRlbXMnKSwgLy8g0LrQvtC90YLQtdC50L3QtdGAINC00LvRjyAuc2xpZGVyLWl0ZW1cclxuICAgICAgX3NsaWRlckl0ZW1zID0gc2xpZGVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbGlkZXJfX2l0ZW0nKSwgLy8g0LrQvtC70LvQtdC60YbQuNGPIC5zbGlkZXItaXRlbVxyXG4gICAgICBfc2xpZGVyQ29udHJvbHMgPSBzbGlkZXIucXVlcnlTZWxlY3RvckFsbCgnLnNsaWRlcl9fY29udHJvbCcpLCAvLyDRjdC70LXQvNC10L3RgtGLINGD0L/RgNCw0LLQu9C10L3QuNGPXHJcbiAgICAgIF9jdXJyZW50UG9zaXRpb24gPSAwLCAvLyDQv9C+0LfQuNGG0LjRjyDQu9C10LLQvtCz0L4g0LDQutGC0LjQstC90L7Qs9C+INGN0LvQtdC80LXQvdGC0LBcclxuICAgICAgX3RyYW5zZm9ybVZhbHVlID0gMCwgLy8g0LfQvdCw0YfQtdC90LjQtSDRgtGA0LDQvdGE0YHQvtGE0YDQvNCw0YbQuNC4IC5zbGlkZXJfd3JhcHBlclxyXG4gICAgICBfdHJhbnNmb3JtU3RlcCA9IDEwMCwgLy8g0LLQtdC70LjRh9C40L3QsCDRiNCw0LPQsCAo0LTQu9GPINGC0YDQsNC90YHRhNC+0YDQvNCw0YbQuNC4KVxyXG4gICAgICBfaXRlbXNBcnJheSA9IFtdLCAvLyDQvNCw0YHRgdC40LIg0Y3Qu9C10LzQtdC90YLQvtCyXHJcbiAgICAgIF90aW1lcklkLFxyXG4gICAgICBfaW5kaWNhdG9ySXRlbXMsXHJcbiAgICAgIF9pbmRpY2F0b3JJbmRleCA9IDAsXHJcbiAgICAgIF9pbmRpY2F0b3JJbmRleE1heCA9IF9zbGlkZXJJdGVtcy5sZW5ndGggLSAxLFxyXG4gICAgICBfY29uZmlnID0ge1xyXG4gICAgICAgIGlzQXV0b3BsYXk6IGZhbHNlLCAvLyDQsNCy0YLQvtC80LDRgtC40YfQtdGB0LrQsNGPINGB0LzQtdC90LAg0YHQu9Cw0LnQtNC+0LJcclxuICAgICAgICBkaXJlY3Rpb25BdXRvcGxheTogJ25leHQnLCAvLyDQvdCw0L/RgNCw0LLQu9C10L3QuNC1INGB0LzQtdC90Ysg0YHQu9Cw0LnQtNC+0LJcclxuICAgICAgICBkZWxheUF1dG9wbGF5OiA1MDAwLCAvLyDQuNC90YLQtdGA0LLQsNC7INC80LXQttC00YMg0LDQstGC0L7QvNCw0YLQuNGH0LXRgdC60L7QuSDRgdC80LXQvdC+0Lkg0YHQu9Cw0LnQtNC+0LJcclxuICAgICAgICBpc1BhdXNlT25Ib3ZlcjogdHJ1ZSAvLyDRg9GB0YLQsNC90LDQstC70LjQstCw0YLRjCDQu9C4INC/0LDRg9C30YMg0L/RgNC4INC/0L7QtNC90LXRgdC10L3QuNC4INC60YPRgNGB0L7RgNCwINC6INGB0LvQsNC50LTQtdGA0YNcclxuICAgICAgfTtcclxuICAgIC8vINC90LDRgdGC0YDQvtC50LrQsCDQutC+0L3RhNC40LPRg9GA0LDRhtC40Lgg0YHQu9Cw0LnQtNC10YDQsCDQsiDQt9Cw0LLQuNGB0LjQvNC+0YHRgtC4INC+0YIg0L/QvtC70YPRh9C10L3QvdGL0YUg0LrQu9GO0YfQtdC5XHJcbiAgICBmb3IgKHZhciBrZXkgaW4gY29uZmlnKSB7XHJcbiAgICAgIGlmIChrZXkgaW4gX2NvbmZpZykge1xyXG4gICAgICAgIF9jb25maWdba2V5XSA9IGNvbmZpZ1trZXldO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0L3QsNC/0L7Qu9C90LXQvdC40LUg0LzQsNGB0YHQuNCy0LAgX2l0ZW1zQXJyYXlcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3NsaWRlckl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIF9pdGVtc0FycmF5LnB1c2goeyBpdGVtOiBfc2xpZGVySXRlbXNbaV0sIHBvc2l0aW9uOiBpLCB0cmFuc2Zvcm06IDAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0L/QtdGA0LXQvNC10L3QvdCw0Y8gcG9zaXRpb24g0YHQvtC00LXRgNC20LjRgiDQvNC10YLQvtC00Ysg0YEg0L/QvtC80L7RidGM0Y4g0LrQvtGC0L7RgNC+0Lkg0LzQvtC20L3QviDQv9C+0LvRg9GH0LjRgtGMINC80LjQvdC40LzQsNC70YzQvdGL0Lkg0Lgg0LzQsNC60YHQuNC80LDQu9GM0L3Ri9C5INC40L3QtNC10LrRgSDRjdC70LXQvNC10L3RgtCwLCDQsCDRgtCw0LrQttC1INGB0L7QvtGC0LLQtdGC0YHRgtCy0YPRjtGJ0LXQvNGDINGN0YLQvtC80YMg0LjQvdC00LXQutGB0YMg0L/QvtC30LjRhtC40Y5cclxuICAgIHZhciBwb3NpdGlvbiA9IHtcclxuICAgICAgZ2V0SXRlbUluZGV4OiBmdW5jdGlvbiAobW9kZSkge1xyXG4gICAgICAgIHZhciBpbmRleCA9IDA7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfaXRlbXNBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaWYgKChfaXRlbXNBcnJheVtpXS5wb3NpdGlvbiA8IF9pdGVtc0FycmF5W2luZGV4XS5wb3NpdGlvbiAmJiBtb2RlID09PSAnbWluJykgfHwgKF9pdGVtc0FycmF5W2ldLnBvc2l0aW9uID4gX2l0ZW1zQXJyYXlbaW5kZXhdLnBvc2l0aW9uICYmIG1vZGUgPT09ICdtYXgnKSkge1xyXG4gICAgICAgICAgICBpbmRleCA9IGk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbmRleDtcclxuICAgICAgfSxcclxuICAgICAgZ2V0SXRlbVBvc2l0aW9uOiBmdW5jdGlvbiAobW9kZSkge1xyXG4gICAgICAgIHJldHVybiBfaXRlbXNBcnJheVtwb3NpdGlvbi5nZXRJdGVtSW5kZXgobW9kZSldLnBvc2l0aW9uO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vINGE0YPQvdC60YbQuNGPLCDQstGL0L/QvtC70L3Rj9GO0YnQsNGPINGB0LzQtdC90YMg0YHQu9Cw0LnQtNCwINCyINGD0LrQsNC30LDQvdC90L7QvCDQvdCw0L/RgNCw0LLQu9C10L3QuNC4XHJcbiAgICB2YXIgX21vdmUgPSBmdW5jdGlvbiAoZGlyZWN0aW9uKSB7XHJcbiAgICAgIHZhciBuZXh0SXRlbSwgY3VycmVudEluZGljYXRvciA9IF9pbmRpY2F0b3JJbmRleDs7XHJcbiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICduZXh0Jykge1xyXG4gICAgICAgIF9jdXJyZW50UG9zaXRpb24rKztcclxuICAgICAgICBpZiAoX2N1cnJlbnRQb3NpdGlvbiA+IHBvc2l0aW9uLmdldEl0ZW1Qb3NpdGlvbignbWF4JykpIHtcclxuICAgICAgICAgIG5leHRJdGVtID0gcG9zaXRpb24uZ2V0SXRlbUluZGV4KCdtaW4nKTtcclxuICAgICAgICAgIF9pdGVtc0FycmF5W25leHRJdGVtXS5wb3NpdGlvbiA9IHBvc2l0aW9uLmdldEl0ZW1Qb3NpdGlvbignbWF4JykgKyAxO1xyXG4gICAgICAgICAgX2l0ZW1zQXJyYXlbbmV4dEl0ZW1dLnRyYW5zZm9ybSArPSBfaXRlbXNBcnJheS5sZW5ndGggKiAxMDA7XHJcbiAgICAgICAgICBfaXRlbXNBcnJheVtuZXh0SXRlbV0uaXRlbS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgnICsgX2l0ZW1zQXJyYXlbbmV4dEl0ZW1dLnRyYW5zZm9ybSArICclKSc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIF90cmFuc2Zvcm1WYWx1ZSAtPSBfdHJhbnNmb3JtU3RlcDtcclxuICAgICAgICBfaW5kaWNhdG9ySW5kZXggPSBfaW5kaWNhdG9ySW5kZXggKyAxO1xyXG4gICAgICAgIGlmIChfaW5kaWNhdG9ySW5kZXggPiBfaW5kaWNhdG9ySW5kZXhNYXgpIHtcclxuICAgICAgICAgIF9pbmRpY2F0b3JJbmRleCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIF9jdXJyZW50UG9zaXRpb24tLTtcclxuICAgICAgICBpZiAoX2N1cnJlbnRQb3NpdGlvbiA8IHBvc2l0aW9uLmdldEl0ZW1Qb3NpdGlvbignbWluJykpIHtcclxuICAgICAgICAgIG5leHRJdGVtID0gcG9zaXRpb24uZ2V0SXRlbUluZGV4KCdtYXgnKTtcclxuICAgICAgICAgIF9pdGVtc0FycmF5W25leHRJdGVtXS5wb3NpdGlvbiA9IHBvc2l0aW9uLmdldEl0ZW1Qb3NpdGlvbignbWluJykgLSAxO1xyXG4gICAgICAgICAgX2l0ZW1zQXJyYXlbbmV4dEl0ZW1dLnRyYW5zZm9ybSAtPSBfaXRlbXNBcnJheS5sZW5ndGggKiAxMDA7XHJcbiAgICAgICAgICBfaXRlbXNBcnJheVtuZXh0SXRlbV0uaXRlbS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgnICsgX2l0ZW1zQXJyYXlbbmV4dEl0ZW1dLnRyYW5zZm9ybSArICclKSc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIF90cmFuc2Zvcm1WYWx1ZSArPSBfdHJhbnNmb3JtU3RlcDtcclxuICAgICAgICBfaW5kaWNhdG9ySW5kZXggPSBfaW5kaWNhdG9ySW5kZXggLSAxO1xyXG4gICAgICAgIGlmIChfaW5kaWNhdG9ySW5kZXggPCAwKSB7XHJcbiAgICAgICAgICBfaW5kaWNhdG9ySW5kZXggPSBfaW5kaWNhdG9ySW5kZXhNYXg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIF9zbGlkZXJDb250YWluZXIuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoJyArIF90cmFuc2Zvcm1WYWx1ZSArICclKSc7XHJcbiAgICAgIF9pbmRpY2F0b3JJdGVtc1tjdXJyZW50SW5kaWNhdG9yXS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgX2luZGljYXRvckl0ZW1zW19pbmRpY2F0b3JJbmRleF0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vINGE0YPQvdC60YbQuNGPLCDQvtGB0YPRidC10YHRgtCy0LvRj9GO0YnQsNGPINC/0LXRgNC10YXQvtC0INC6INGB0LvQsNC50LTRgyDQv9C+INC10LPQviDQv9C+0YDRj9C00LrQvtCy0L7QvNGDINC90L7QvNC10YDRg1xyXG4gICAgdmFyIF9tb3ZlVG8gPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgdmFyIGkgPSAwLCBkaXJlY3Rpb24gPSAoaW5kZXggPiBfaW5kaWNhdG9ySW5kZXgpID8gJ25leHQnIDogJ3ByZXYnO1xyXG4gICAgICB3aGlsZSAoaW5kZXggIT09IF9pbmRpY2F0b3JJbmRleCAmJiBpIDw9IF9pbmRpY2F0b3JJbmRleE1heCkge1xyXG4gICAgICAgIF9tb3ZlKGRpcmVjdGlvbik7XHJcbiAgICAgICAgaSsrO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vINGE0YPQvdC60YbQuNGPINC00LvRjyDQt9Cw0L/Rg9GB0LrQsCDQsNCy0YLQvtC80LDRgtC40YfQtdGB0LrQvtC5INGB0LzQtdC90Ysg0YHQu9Cw0LnQtNC+0LIg0YfQtdGA0LXQtyDQv9GA0L7QvNC10LbRg9GC0LrQuCDQstGA0LXQvNC10L3QuFxyXG4gICAgdmFyIF9zdGFydEF1dG9wbGF5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAoIV9jb25maWcuaXNBdXRvcGxheSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBfc3RvcEF1dG9wbGF5KCk7XHJcbiAgICAgIF90aW1lcklkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF9tb3ZlKF9jb25maWcuZGlyZWN0aW9uQXV0b3BsYXkpO1xyXG4gICAgICB9LCBfY29uZmlnLmRlbGF5QXV0b3BsYXkpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyDRhNGD0L3QutGG0LjRjywg0L7RgtC60LvRjtGH0LDRjtGJ0LDRjyDQsNCy0YLQvtC80LDRgtC40YfQtdGB0LrRg9GOINGB0LzQtdC90YMg0YHQu9Cw0LnQtNC+0LJcclxuICAgIHZhciBfc3RvcEF1dG9wbGF5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBjbGVhckludGVydmFsKF90aW1lcklkKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8g0YTRg9C90LrRhtC40Y8sINC00L7QsdCw0LLQu9GP0Y7RidCw0Y8g0LjQvdC00LjQutCw0YLQvtGA0Ysg0Log0YHQu9Cw0LnQtNC10YDRg1xyXG4gICAgdmFyIF9hZGRJbmRpY2F0b3JzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgaW5kaWNhdG9yc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29sJyk7XHJcbiAgICAgIGluZGljYXRvcnNDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19pbmRpY2F0b3JzJyk7XHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3NsaWRlckl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIHNsaWRlckluZGljYXRvcnNJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcclxuICAgICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgICAgc2xpZGVySW5kaWNhdG9yc0l0ZW0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNsaWRlckluZGljYXRvcnNJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtc2xpZGUtdG9cIiwgaSk7XHJcbiAgICAgICAgaW5kaWNhdG9yc0NvbnRhaW5lci5hcHBlbmRDaGlsZChzbGlkZXJJbmRpY2F0b3JzSXRlbSk7XHJcbiAgICAgIH1cclxuICAgICAgc2xpZGVyLmFwcGVuZENoaWxkKGluZGljYXRvcnNDb250YWluZXIpO1xyXG4gICAgICBfaW5kaWNhdG9ySXRlbXMgPSBzbGlkZXIucXVlcnlTZWxlY3RvckFsbCgnLnNsaWRlcl9faW5kaWNhdG9ycyA+IGxpJylcclxuICAgIH07XHJcblxyXG4gICAgLy8g0YTRg9C90LrRhtC40Y8sINC+0YHRg9GJ0LXRgdGC0LLQu9GP0Y7RidCw0Y8g0YPRgdGC0LDQvdC+0LLQutGDINC+0LHRgNCw0LHQvtGC0YfQuNC60L7QsiDQtNC70Y8g0YHQvtCx0YvRgtC40LkgXHJcbiAgICB2YXIgX3NldFVwTGlzdGVuZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBzbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NsaWRlcl9fY29udHJvbCcpKSB7XHJcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICBfbW92ZShlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NsaWRlcl9fY29udHJvbF9uZXh0JykgPyAnbmV4dCcgOiAncHJldicpO1xyXG4gICAgICAgICAgX3N0YXJ0QXV0b3BsYXkoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1zbGlkZS10bycpKSB7XHJcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICBfbW92ZVRvKHBhcnNlSW50KGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1zbGlkZS10bycpKSk7XHJcbiAgICAgICAgICBfc3RhcnRBdXRvcGxheSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gXCJoaWRkZW5cIikge1xyXG4gICAgICAgICAgX3N0b3BBdXRvcGxheSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBfc3RhcnRBdXRvcGxheSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgZmFsc2UpO1xyXG4gICAgICBpZiAoX2NvbmZpZy5pc1BhdXNlT25Ib3ZlciAmJiBfY29uZmlnLmlzQXV0b3BsYXkpIHtcclxuICAgICAgICBzbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIF9zdG9wQXV0b3BsYXkoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIF9zdGFydEF1dG9wbGF5KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8g0LTQvtCx0LDQstC70Y/QtdC8INC40L3QtNC40LrQsNGC0L7RgNGLINC6INGB0LvQsNC50LTQtdGA0YNcclxuICAgIF9hZGRJbmRpY2F0b3JzKCk7XHJcbiAgICAvLyDRg9GB0YLQsNC90L7QstC70LjQstCw0LXQvCDQvtCx0YDQsNCx0L7RgtGH0LjQutC4INC00LvRjyDRgdC+0LHRi9GC0LjQuVxyXG4gICAgX3NldFVwTGlzdGVuZXJzKCk7XHJcbiAgICAvLyDQt9Cw0L/Rg9GB0LrQsNC10Lwg0LDQstGC0L7QvNCw0YLQuNGH0LXRgdC60YPRjiDRgdC80LXQvdGDINGB0LvQsNC50LTQvtCyLCDQtdGB0LvQuCDRg9GB0YLQsNC90L7QstC70LXQvSDRgdC+0L7RgtCy0LXRgtGB0YLQstGD0Y7RidC40Lkg0LrQu9GO0YdcclxuICAgIF9zdGFydEF1dG9wbGF5KCk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgLy8g0LzQtdGC0L7QtCDRgdC70LDQudC00LXRgNCwINC00LvRjyDQv9C10YDQtdGF0L7QtNCwINC6INGB0LvQtdC00YPRjtGJ0LXQvNGDINGB0LvQsNC50LTRg1xyXG4gICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgX21vdmUoJ25leHQnKTtcclxuICAgICAgfSxcclxuICAgICAgLy8g0LzQtdGC0L7QtCDRgdC70LDQudC00LXRgNCwINC00LvRjyDQv9C10YDQtdGF0L7QtNCwINC6INC/0YDQtdC00YvQtNGD0YnQtdC80YMg0YHQu9Cw0LnQtNGDXHJcbiAgICAgIGxlZnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfbW92ZSgncHJldicpO1xyXG4gICAgICB9LFxyXG4gICAgICAvLyDQvNC10YLQvtC0INC+0YLQutC70Y7Rh9Cw0Y7RidC40Lkg0LDQstGC0L7QvNCw0YLQuNGH0LXRgdC60YPRjiDRgdC80LXQvdGDINGB0LvQsNC50LTQvtCyXHJcbiAgICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfY29uZmlnLmlzQXV0b3BsYXkgPSBmYWxzZTtcclxuICAgICAgICBfc3RvcEF1dG9wbGF5KCk7XHJcbiAgICAgIH0sXHJcbiAgICAgIC8vINC80LXRgtC+0LQg0LfQsNC/0YPRgdC60LDRjtGJ0LjQuSDQsNCy0YLQvtC80LDRgtC40YfQtdGB0LrRg9GOINGB0LzQtdC90YMg0YHQu9Cw0LnQtNC+0LJcclxuICAgICAgY3ljbGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfY29uZmlnLmlzQXV0b3BsYXkgPSB0cnVlO1xyXG4gICAgICAgIF9zdGFydEF1dG9wbGF5KCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn0oKSk7XHJcblxyXG4kKGZ1bmN0aW9uKCl7XHJcbiAgJCgnLnNsaWRlcicpLmVhY2goZnVuY3Rpb24oKXtcclxuICAgIHNsaWRlU2hvdyh0aGlzKTtcclxuICB9KTtcclxufSk7XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBRkE7QUFHQTtBQUhBO0FBSUE7QUFKQTtBQUtBO0FBTEE7QUFNQTtBQU5BO0FBT0E7QUFQQTtBQVFBO0FBUkE7QUFTQTtBQVRBO0FBQUE7QUFBQTtBQUFBO0FBY0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUxBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWkE7QUFDQTtBQWVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFsQkE7QUFvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./blocks/carousel/carousel.js\n");

/***/ }),

/***/ "./blocks/diagram/diagram.js":
/*!***********************************!*\
  !*** ./blocks/diagram/diagram.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ibG9ja3MvZGlhZ3JhbS9kaWFncmFtLmpzLmpzIiwic291cmNlcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./blocks/diagram/diagram.js\n");

/***/ }),

/***/ "./blocks/dropdown/dropdown.js":
/*!*************************************!*\
  !*** ./blocks/dropdown/dropdown.js ***!
  \*************************************/
/*! exports provided: Dropdown */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Dropdown\", function() { return Dropdown; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Dropdown = /*#__PURE__*/function () {\n  function Dropdown(elem) {\n    _classCallCheck(this, Dropdown);\n\n    this.$el = elem;\n    this.setup();\n  }\n\n  _createClass(Dropdown, [{\n    key: \"clickHandler\",\n    value: function clickHandler() {\n      var type = event.target.dataset.type;\n\n      if (type === 'backdrop') {\n        this.confirm();\n        this.close();\n      }\n\n      if (type === 'input') {\n        this.toggle();\n      }\n\n      if (type === 'counter-minus') {\n        var counter = event.target.nextElementSibling;\n        counter.value--;\n\n        if (counter.value == 0) {\n          event.target.setAttribute('disabled', 'disabled');\n        }\n      }\n\n      if (type === 'counter-plus') {\n        var _counter = event.target.previousElementSibling;\n        var btnMinus = _counter.previousElementSibling;\n        _counter.value++;\n\n        if (_counter.value > 0 && btnMinus.hasAttribute('disabled')) {\n          btnMinus.removeAttribute('disabled');\n        }\n      }\n\n      if (type === 'clear') {\n        this.clear();\n      }\n\n      if (type === 'confirm') {\n        this.confirm();\n      }\n    }\n  }, {\n    key: \"setup\",\n    value: function setup() {\n      this.clickHandler = this.clickHandler.bind(this);\n      this.$el.addEventListener('click', this.clickHandler);\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      this.$el.classList.remove('open');\n    }\n  }, {\n    key: \"confirm\",\n    value: function confirm() {\n      event.preventDefault();\n      var sum = 0;\n      var numbers = this.$el.querySelectorAll('.dropdown__number');\n      numbers.forEach(function (number) {\n        return sum += +number.value;\n      });\n\n      if (sum === 0) {\n        this.$el.querySelector('.dropdown__input').value = \"   \";\n      } else if (sum === 11 || sum === 12 || sum === 13 || sum === 14) {\n        this.$el.querySelector('.dropdown__input').value = sum + \" \";\n      } else if (sum % 10 === 1) {\n        this.$el.querySelector('.dropdown__input').value = sum + \" \";\n      } else if (sum % 10 >= 5 || sum % 10 === 0) {\n        this.$el.querySelector('.dropdown__input').value = sum + \" \";\n      } else if (sum % 10 < 5) {\n        this.$el.querySelector('.dropdown__input').value = sum + \" \";\n      }\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      event.preventDefault();\n      var numbers = this.$el.querySelectorAll('.dropdown__number');\n      numbers.forEach(function (number) {\n        number.value = 0;\n        number.previousElementSibling.setAttribute('disabled', 'disabled');\n      });\n      this.$el.querySelector('.dropdown__input').value = \"\";\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle() {\n      this.$el.classList.toggle('open');\n    }\n  }]);\n\n  return Dropdown;\n}();\nvar elems = document.querySelectorAll('.dropdown');\nelems.forEach(function (elem) {\n  return new Dropdown(elem);\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ibG9ja3MvZHJvcGRvd24vZHJvcGRvd24uanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ibG9ja3MvZHJvcGRvd24vZHJvcGRvd24uanM/NDgyZSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgRHJvcGRvd257XHJcbiAgY29uc3RydWN0b3IoZWxlbSl7XHJcbiAgICB0aGlzLiRlbCA9IGVsZW07XHJcbiAgICB0aGlzLnNldHVwKCk7XHJcbiAgfVxyXG5cclxuICBjbGlja0hhbmRsZXIoKXtcclxuICAgIGNvbnN0IHt0eXBlfSA9IGV2ZW50LnRhcmdldC5kYXRhc2V0O1xyXG5cclxuICAgIGlmKHR5cGUgPT09ICdiYWNrZHJvcCcpe1xyXG4gICAgICB0aGlzLmNvbmZpcm0oKTtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKHR5cGUgPT09ICdpbnB1dCcpe1xyXG4gICAgICB0aGlzLnRvZ2dsZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKHR5cGUgPT09ICdjb3VudGVyLW1pbnVzJyl7XHJcbiAgICAgIGxldCBjb3VudGVyID0gZXZlbnQudGFyZ2V0Lm5leHRFbGVtZW50U2libGluZztcclxuICAgICAgY291bnRlci52YWx1ZS0tO1xyXG4gICAgICBpZihjb3VudGVyLnZhbHVlID09IDApe1xyXG4gICAgICAgIGV2ZW50LnRhcmdldC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZih0eXBlID09PSAnY291bnRlci1wbHVzJyl7XHJcbiAgICAgIGxldCBjb3VudGVyID0gZXZlbnQudGFyZ2V0LnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XHJcbiAgICAgIGxldCBidG5NaW51cyA9IGNvdW50ZXIucHJldmlvdXNFbGVtZW50U2libGluZztcclxuICAgICAgY291bnRlci52YWx1ZSsrO1xyXG4gICAgICBpZihjb3VudGVyLnZhbHVlID4gMCAmJiBidG5NaW51cy5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpe1xyXG4gICAgICAgIGJ0bk1pbnVzLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmKHR5cGUgPT09ICdjbGVhcicpe1xyXG4gICAgICB0aGlzLmNsZWFyKCk7XHJcbiAgICB9XHJcbiAgICBpZih0eXBlID09PSAnY29uZmlybScpe1xyXG4gICAgICB0aGlzLmNvbmZpcm0oKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldHVwKCl7XHJcbiAgICB0aGlzLmNsaWNrSGFuZGxlciA9IHRoaXMuY2xpY2tIYW5kbGVyLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLiRlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2tIYW5kbGVyKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCl7XHJcbiAgICB0aGlzLiRlbC5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7XHJcbiAgfVxyXG5cclxuICBjb25maXJtKCl7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgbGV0IHN1bSA9IDA7XHJcbiAgICBsZXQgbnVtYmVycyA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcm9wZG93bl9fbnVtYmVyJyk7XHJcbiAgICBudW1iZXJzLmZvckVhY2gobnVtYmVyID0+IHN1bSs9ICtudW1iZXIudmFsdWUpO1xyXG4gICAgaWYoc3VtPT09MCl7XHJcbiAgICAgIHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bl9faW5wdXQnKS52YWx1ZSA9IFwi0J3QtSDRg9C60LDQt9Cw0L3QviDQutC+0LvQuNGH0LXRgdGC0LLQviDQs9C+0YHRgtC10LlcIjtcclxuICAgIH1cclxuICAgIGVsc2UgaWYoc3VtPT09MTF8fHN1bT09PTEyfHxzdW09PT0xM3x8c3VtPT09MTQpe1xyXG4gICAgICB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCcuZHJvcGRvd25fX2lucHV0JykudmFsdWUgPSBzdW0gKyBcIiDQs9C+0YHRgtC10LlcIjtcclxuICAgIH1cclxuICAgIGVsc2UgaWYoc3VtJTEwPT09MSl7XHJcbiAgICAgIHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bl9faW5wdXQnKS52YWx1ZSA9IHN1bSArIFwiINCz0L7RgdGC0YxcIjtcclxuICAgIH1cclxuICAgIGVsc2UgaWYoc3VtJTEwPj01fHxzdW0lMTA9PT0wKXtcclxuICAgICAgIHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bl9faW5wdXQnKS52YWx1ZSA9IHN1bSArIFwiINCz0L7RgdGC0LXQuVwiO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZihzdW0lMTA8NSl7XHJcbiAgICAgICB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKCcuZHJvcGRvd25fX2lucHV0JykudmFsdWUgPSBzdW0gKyBcIiDQs9C+0YHRgtGPXCI7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjbGVhcigpe1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIGxldCBudW1iZXJzID0gdGhpcy4kZWwucXVlcnlTZWxlY3RvckFsbCgnLmRyb3Bkb3duX19udW1iZXInKTtcclxuICAgIG51bWJlcnMuZm9yRWFjaChudW1iZXIgPT4ge1xyXG4gICAgICBudW1iZXIudmFsdWUgPSAwO1xyXG4gICAgICBudW1iZXIucHJldmlvdXNFbGVtZW50U2libGluZy5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoJy5kcm9wZG93bl9faW5wdXQnKS52YWx1ZSA9IFwiXCI7XHJcbiAgfVxyXG5cclxuICB0b2dnbGUoKXtcclxuICAgIHRoaXMuJGVsLmNsYXNzTGlzdC50b2dnbGUoJ29wZW4nKTtcclxuICB9XHJcblxyXG59XHJcblxyXG5sZXQgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZHJvcGRvd24nKTtcclxuZWxlbXMuZm9yRWFjaChlbGVtID0+IG5ldyBEcm9wZG93bihlbGVtKSk7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQUFBO0FBQUE7QUFNQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBekNBO0FBQUE7QUFBQTtBQTRDQTtBQUNBO0FBQ0E7QUE5Q0E7QUFBQTtBQUFBO0FBaURBO0FBQ0E7QUFsREE7QUFBQTtBQUFBO0FBcURBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBeEVBO0FBQUE7QUFBQTtBQTJFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbEZBO0FBQUE7QUFBQTtBQXFGQTtBQUNBO0FBdEZBO0FBQ0E7QUFEQTtBQUFBO0FBMEZBO0FBQ0E7QUFBQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./blocks/dropdown/dropdown.js\n");

/***/ }),

/***/ "./blocks/expandable-list/expandable-list.js":
/*!***************************************************!*\
  !*** ./blocks/expandable-list/expandable-list.js ***!
  \***************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _dropdown_dropdown_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dropdown/dropdown.js */ \"./blocks/dropdown/dropdown.js\");\n\nvar elems = document.querySelectorAll('.expandable-list');\nelems.forEach(function (elem) {\n  return new _dropdown_dropdown_js__WEBPACK_IMPORTED_MODULE_0__[\"Dropdown\"](elem);\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ibG9ja3MvZXhwYW5kYWJsZS1saXN0L2V4cGFuZGFibGUtbGlzdC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2Jsb2Nrcy9leHBhbmRhYmxlLWxpc3QvZXhwYW5kYWJsZS1saXN0LmpzP2UxZTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtEcm9wZG93biBhcyBMaXN0fSBmcm9tICcuLi9kcm9wZG93bi9kcm9wZG93bi5qcyc7XHJcblxyXG5sZXQgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZXhwYW5kYWJsZS1saXN0Jyk7XHJcbmVsZW1zLmZvckVhY2goZWxlbSA9PiBuZXcgTGlzdChlbGVtKSk7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./blocks/expandable-list/expandable-list.js\n");

/***/ }),

/***/ "./blocks/menu/menu.js":
/*!*****************************!*\
  !*** ./blocks/menu/menu.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($) {$(function () {\n  $(\".menu__item\").first().addClass('menu__item_active');\n  $(\".menu__item\").click(function () {\n    var old = $(this).parent().find('.menu__item_active');\n    $(old).removeClass('menu__item_active');\n    $(this).addClass(\"menu__item_active\");\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"../node_modules/jquery/dist/jquery.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ibG9ja3MvbWVudS9tZW51LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vYmxvY2tzL21lbnUvbWVudS5qcz85YTc1Il0sInNvdXJjZXNDb250ZW50IjpbIiQoZnVuY3Rpb24oKXtcclxuICAkKFwiLm1lbnVfX2l0ZW1cIikuZmlyc3QoKS5hZGRDbGFzcygnbWVudV9faXRlbV9hY3RpdmUnKTtcclxuICAkKFwiLm1lbnVfX2l0ZW1cIikuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgIGxldCBvbGQgPSAkKHRoaXMpLnBhcmVudCgpLmZpbmQoJy5tZW51X19pdGVtX2FjdGl2ZScpO1xyXG4gICAgJChvbGQpLnJlbW92ZUNsYXNzKCdtZW51X19pdGVtX2FjdGl2ZScpO1xyXG4gICAgJCh0aGlzKS5hZGRDbGFzcyhcIm1lbnVfX2l0ZW1fYWN0aXZlXCIpO1xyXG4gIH0pO1xyXG59KTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./blocks/menu/menu.js\n");

/***/ }),

/***/ "./blocks/pagination/pagination.js":
/*!*****************************************!*\
  !*** ./blocks/pagination/pagination.js ***!
  \*****************************************/
/*! exports provided: Pagingation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Pagingation\", function() { return Pagingation; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Pagingation = /*#__PURE__*/function () {\n  function Pagingation(elem) {\n    _classCallCheck(this, Pagingation);\n\n    this.$el = elem;\n    this.init({\n      pages: 15,\n      curPageNumber: 1,\n      pagesRange: 2,\n      itemsOnPage: 12,\n      item: '.pagination__item',\n      prev: '.pagination__item_prev',\n      next: '.pagination__item_next'\n    });\n  }\n\n  _createClass(Pagingation, [{\n    key: \"init\",\n    value: function init(options) {\n      this.pages = options.pages, this.curPageNumber = options.curPageNumber, this.pagesRange = options.pagesRange, this.itemsOnPage = options.itemsOnPage, this.item = options.item, this.prev = this.$el.querySelector(options.prev), this.next = this.$el.querySelector(options.next), this.curPage = this.findPage(this.curPageNumber), this.clickHandler = this.clickHandler.bind(this);\n      this.$el.addEventListener('click', this.clickHandler);\n      if (this.curPageNumber > 1) this.showElem(this.prev);\n      if (this.curPageNumber === this.pages) this.hideElem(this.next);\n      this.findPage(this.curPageNumber).classList.add('pagination__item_active');\n      this.drawPages();\n    }\n  }, {\n    key: \"drawPages\",\n    value: function drawPages() {\n      var _this = this;\n\n      var items = this.$el.querySelectorAll('li[data-page]');\n      items.forEach(function (item) {\n        return _this.showElem(item);\n      });\n      items.forEach(function (item, index) {\n        var min = _this.curPageNumber - _this.pagesRange - 1;\n        var max = _this.curPageNumber + _this.pagesRange - 1;\n\n        if (index >= min && index <= max) {} else if (index === 0 || index === _this.pages - 1) {} else _this.hideElem(item);\n      });\n    }\n  }, {\n    key: \"clickHandler\",\n    value: function clickHandler() {\n      var type = event.target.dataset.type;\n\n      if (type === 'prev') {\n        this.prevPage();\n      }\n\n      if (type === 'next') {\n        this.nextPage();\n      }\n\n      if (type === 'page') {\n        this.curPageToggle(+event.target.dataset.page);\n      }\n    }\n  }, {\n    key: \"prevPage\",\n    value: function prevPage() {\n      if (this.curPageNumber > 1) {\n        this.curPage.classList.remove('pagination__item_active');\n        this.curPage = this.findPage(+this.curPageNumber - 1);\n        this.curPage.classList.add('pagination__item_active');\n        this.curPageNumber--;\n      }\n\n      if (this.curPageNumber === 1) {\n        this.hideElem(this.prev);\n      }\n\n      if (this.curPageNumber < this.pages) {\n        this.showElem(this.next);\n      }\n\n      this.drawPages();\n    }\n  }, {\n    key: \"nextPage\",\n    value: function nextPage() {\n      if (this.curPageNumber < this.pages) {\n        this.curPage.classList.remove('pagination__item_active');\n        this.curPage = this.findPage(+this.curPageNumber + 1);\n        this.curPage.classList.add('pagination__item_active');\n        this.curPageNumber++;\n      }\n\n      if (this.curPageNumber === this.pages) {\n        this.next.classList.add('pagination__item_hide');\n      }\n\n      if (this.curPageNumber > 1) {\n        this.showElem(this.prev);\n      }\n\n      this.drawPages();\n    }\n  }, {\n    key: \"curPageToggle\",\n    value: function curPageToggle(number) {\n      this.curPage.classList.remove('pagination__item_active');\n      this.curPage = this.findPage(number);\n      this.curPage.classList.add('pagination__item_active');\n      this.curPageNumber = number;\n\n      if (number === 1) {\n        this.hideElem(this.prev);\n      } else if (number === this.pages) {\n        this.hideElem(this.next);\n      } else {\n        this.showElem(this.prev);\n        this.showElem(this.next);\n      }\n\n      this.drawPages();\n    }\n  }, {\n    key: \"findPage\",\n    value: function findPage(number) {\n      var elem = this.$el.querySelector(\"li[data-page='\".concat(number, \"']\"));\n      return elem;\n    }\n  }, {\n    key: \"hideElem\",\n    value: function hideElem(elem) {\n      elem.classList.add('pagination__item_hide');\n    }\n  }, {\n    key: \"showElem\",\n    value: function showElem(elem) {\n      elem.classList.remove('pagination__item_hide');\n    }\n  }]);\n\n  return Pagingation;\n}();\nvar elems = document.querySelectorAll('.pagination');\nelems.forEach(function (elem) {\n  return new Pagingation(elem);\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ibG9ja3MvcGFnaW5hdGlvbi9wYWdpbmF0aW9uLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vYmxvY2tzL3BhZ2luYXRpb24vcGFnaW5hdGlvbi5qcz9iODUzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBQYWdpbmdhdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoZWxlbSl7XHJcbiAgICB0aGlzLiRlbCA9IGVsZW07XHJcbiAgICB0aGlzLmluaXQoe1xyXG4gICAgICBwYWdlczogMTUsXHJcbiAgICAgIGN1clBhZ2VOdW1iZXI6IDEsXHJcbiAgICAgIHBhZ2VzUmFuZ2U6IDIsXHJcbiAgICAgIGl0ZW1zT25QYWdlOiAxMixcclxuICAgICAgaXRlbTogJy5wYWdpbmF0aW9uX19pdGVtJyxcclxuICAgICAgcHJldjogJy5wYWdpbmF0aW9uX19pdGVtX3ByZXYnLFxyXG4gICAgICBuZXh0OiAnLnBhZ2luYXRpb25fX2l0ZW1fbmV4dCcsXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgaW5pdChvcHRpb25zKXtcclxuICAgIHRoaXMucGFnZXMgPSBvcHRpb25zLnBhZ2VzLFxyXG4gICAgdGhpcy5jdXJQYWdlTnVtYmVyID0gb3B0aW9ucy5jdXJQYWdlTnVtYmVyLFxyXG4gICAgdGhpcy5wYWdlc1JhbmdlID0gb3B0aW9ucy5wYWdlc1JhbmdlLFxyXG4gICAgdGhpcy5pdGVtc09uUGFnZSA9IG9wdGlvbnMuaXRlbXNPblBhZ2UsXHJcbiAgICB0aGlzLml0ZW0gPSBvcHRpb25zLml0ZW0sXHJcbiAgICB0aGlzLnByZXYgPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKG9wdGlvbnMucHJldiksXHJcbiAgICB0aGlzLm5leHQgPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yKG9wdGlvbnMubmV4dCksXHJcbiAgICB0aGlzLmN1clBhZ2UgPSB0aGlzLmZpbmRQYWdlKHRoaXMuY3VyUGFnZU51bWJlciksXHJcblxyXG4gICAgdGhpcy5jbGlja0hhbmRsZXIgPSB0aGlzLmNsaWNrSGFuZGxlci5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy4kZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrSGFuZGxlcik7XHJcblxyXG4gICAgaWYodGhpcy5jdXJQYWdlTnVtYmVyID4gMSkgdGhpcy5zaG93RWxlbSh0aGlzLnByZXYpO1xyXG4gICAgaWYodGhpcy5jdXJQYWdlTnVtYmVyID09PSB0aGlzLnBhZ2VzKSB0aGlzLmhpZGVFbGVtKHRoaXMubmV4dCk7XHJcbiAgICB0aGlzLmZpbmRQYWdlKHRoaXMuY3VyUGFnZU51bWJlcikuY2xhc3NMaXN0LmFkZCgncGFnaW5hdGlvbl9faXRlbV9hY3RpdmUnKTtcclxuXHJcbiAgICB0aGlzLmRyYXdQYWdlcygpO1xyXG4gIH1cclxuXHJcbiAgZHJhd1BhZ2VzKCl7XHJcbiAgICBsZXQgaXRlbXMgPSB0aGlzLiRlbC5xdWVyeVNlbGVjdG9yQWxsKCdsaVtkYXRhLXBhZ2VdJyk7XHJcbiAgICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4gdGhpcy5zaG93RWxlbShpdGVtKSk7XHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT57XHJcbiAgICAgIGxldCBtaW4gPSB0aGlzLmN1clBhZ2VOdW1iZXIgLSB0aGlzLnBhZ2VzUmFuZ2UgLSAxO1xyXG4gICAgICBsZXQgbWF4ID0gdGhpcy5jdXJQYWdlTnVtYmVyICsgdGhpcy5wYWdlc1JhbmdlIC0gMTtcclxuICAgICAgaWYoKGluZGV4ID49IG1pbikmJihpbmRleCA8PSBtYXgpKXtcclxuXHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZihpbmRleCA9PT0gMCB8fCBpbmRleCA9PT0gdGhpcy5wYWdlcy0xKXtcclxuXHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB0aGlzLmhpZGVFbGVtKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjbGlja0hhbmRsZXIoKXtcclxuICAgIGNvbnN0IHt0eXBlfSA9IGV2ZW50LnRhcmdldC5kYXRhc2V0XHJcbiAgICBpZih0eXBlID09PSAncHJldicpe1xyXG4gICAgICB0aGlzLnByZXZQYWdlKCk7XHJcbiAgICB9XHJcbiAgICBpZih0eXBlID09PSAnbmV4dCcpe1xyXG4gICAgICB0aGlzLm5leHRQYWdlKCk7XHJcbiAgICB9XHJcbiAgICBpZih0eXBlID09PSAncGFnZScpe1xyXG4gICAgICB0aGlzLmN1clBhZ2VUb2dnbGUoK2V2ZW50LnRhcmdldC5kYXRhc2V0LnBhZ2UpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJldlBhZ2UoKXtcclxuICAgIGlmKHRoaXMuY3VyUGFnZU51bWJlciA+IDEpe1xyXG4gICAgICB0aGlzLmN1clBhZ2UuY2xhc3NMaXN0LnJlbW92ZSgncGFnaW5hdGlvbl9faXRlbV9hY3RpdmUnKTtcclxuICAgICAgdGhpcy5jdXJQYWdlID0gdGhpcy5maW5kUGFnZSgrdGhpcy5jdXJQYWdlTnVtYmVyLTEpO1xyXG4gICAgICB0aGlzLmN1clBhZ2UuY2xhc3NMaXN0LmFkZCgncGFnaW5hdGlvbl9faXRlbV9hY3RpdmUnKTtcclxuICAgICAgdGhpcy5jdXJQYWdlTnVtYmVyLS07XHJcbiAgICB9XHJcbiAgICBpZih0aGlzLmN1clBhZ2VOdW1iZXIgPT09IDEpe1xyXG4gICAgICB0aGlzLmhpZGVFbGVtKHRoaXMucHJldik7XHJcbiAgICB9XHJcbiAgICBpZih0aGlzLmN1clBhZ2VOdW1iZXIgPCB0aGlzLnBhZ2VzKXtcclxuICAgICAgdGhpcy5zaG93RWxlbSh0aGlzLm5leHQpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5kcmF3UGFnZXMoKTtcclxuICB9XHJcblxyXG4gIG5leHRQYWdlKCl7XHJcbiAgICBpZih0aGlzLmN1clBhZ2VOdW1iZXIgPCB0aGlzLnBhZ2VzKXtcclxuICAgICAgdGhpcy5jdXJQYWdlLmNsYXNzTGlzdC5yZW1vdmUoJ3BhZ2luYXRpb25fX2l0ZW1fYWN0aXZlJyk7XHJcbiAgICAgIHRoaXMuY3VyUGFnZSA9IHRoaXMuZmluZFBhZ2UoK3RoaXMuY3VyUGFnZU51bWJlcisxKTtcclxuICAgICAgdGhpcy5jdXJQYWdlLmNsYXNzTGlzdC5hZGQoJ3BhZ2luYXRpb25fX2l0ZW1fYWN0aXZlJyk7XHJcbiAgICAgIHRoaXMuY3VyUGFnZU51bWJlcisrO1xyXG4gICAgfVxyXG4gICAgaWYodGhpcy5jdXJQYWdlTnVtYmVyID09PSB0aGlzLnBhZ2VzKXtcclxuICAgICAgdGhpcy5uZXh0LmNsYXNzTGlzdC5hZGQoJ3BhZ2luYXRpb25fX2l0ZW1faGlkZScpO1xyXG4gICAgfVxyXG4gICAgaWYodGhpcy5jdXJQYWdlTnVtYmVyPjEpe1xyXG4gICAgICB0aGlzLnNob3dFbGVtKHRoaXMucHJldik7XHJcbiAgICB9XHJcbiAgICB0aGlzLmRyYXdQYWdlcygpO1xyXG4gIH1cclxuXHJcbiAgY3VyUGFnZVRvZ2dsZShudW1iZXIpe1xyXG4gICAgdGhpcy5jdXJQYWdlLmNsYXNzTGlzdC5yZW1vdmUoJ3BhZ2luYXRpb25fX2l0ZW1fYWN0aXZlJyk7XHJcbiAgICB0aGlzLmN1clBhZ2UgPSB0aGlzLmZpbmRQYWdlKG51bWJlcik7XHJcbiAgICB0aGlzLmN1clBhZ2UuY2xhc3NMaXN0LmFkZCgncGFnaW5hdGlvbl9faXRlbV9hY3RpdmUnKTtcclxuICAgIHRoaXMuY3VyUGFnZU51bWJlciA9IG51bWJlcjtcclxuICAgIGlmKG51bWJlciA9PT0gMSl7XHJcbiAgICAgIHRoaXMuaGlkZUVsZW0odGhpcy5wcmV2KTtcclxuICAgIH1lbHNlIGlmKG51bWJlciA9PT0gdGhpcy5wYWdlcyl7XHJcbiAgICAgIHRoaXMuaGlkZUVsZW0odGhpcy5uZXh0KTtcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgIHRoaXMuc2hvd0VsZW0odGhpcy5wcmV2KTtcclxuICAgICAgdGhpcy5zaG93RWxlbSh0aGlzLm5leHQpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5kcmF3UGFnZXMoKTtcclxuICB9XHJcblxyXG4gIGZpbmRQYWdlKG51bWJlcil7XHJcbiAgICBsZXQgZWxlbSA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3IoYGxpW2RhdGEtcGFnZT0nJHtudW1iZXJ9J11gKVxyXG4gICAgcmV0dXJuIGVsZW07XHJcbiAgfVxyXG5cclxuICBoaWRlRWxlbShlbGVtKXtcclxuICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgncGFnaW5hdGlvbl9faXRlbV9oaWRlJyk7XHJcbiAgfVxyXG5cclxuICBzaG93RWxlbShlbGVtKXtcclxuICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgncGFnaW5hdGlvbl9faXRlbV9oaWRlJyk7XHJcbiAgfVxyXG59XHJcblxyXG5sZXQgZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGFnaW5hdGlvbicpO1xyXG5lbGVtcy5mb3JFYWNoKGVsZW0gPT4gbmV3IFBhZ2luZ2F0aW9uKGVsZW0pKTsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQVNBO0FBQ0E7QUFiQTtBQUFBO0FBQUE7QUFlQTtBQVVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQWhDQTtBQUFBO0FBQUE7QUFrQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQU9BO0FBQ0E7QUFoREE7QUFBQTtBQUFBO0FBa0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUE3REE7QUFBQTtBQUFBO0FBZ0VBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUE3RUE7QUFBQTtBQUFBO0FBZ0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUE3RkE7QUFBQTtBQUFBO0FBZ0dBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBOUdBO0FBQUE7QUFBQTtBQWlIQTtBQUNBO0FBQ0E7QUFuSEE7QUFBQTtBQUFBO0FBc0hBO0FBQ0E7QUF2SEE7QUFBQTtBQUFBO0FBMEhBO0FBQ0E7QUEzSEE7QUFDQTtBQURBO0FBQUE7QUE4SEE7QUFDQTtBQUFBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./blocks/pagination/pagination.js\n");

/***/ }),

/***/ "./blocks/range-slider/range-slider.js":
/*!*********************************************!*\
  !*** ./blocks/range-slider/range-slider.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function($) {$(function () {\n  // Initiate Slider\n  $('#slider-range').slider({\n    range: true,\n    min: 5000,\n    max: 10000,\n    step: 100,\n    values: [5000, 10000]\n  }); // Apply initial values to the range container\n\n  $('.range').html('<span class=\"range-value\">' + $('#slider-range').slider(\"values\", 0).toString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\") + '<sup>&#8381</sup></span> - <span class=\"range-value\">' + $(\"#slider-range\").slider(\"values\", 1).toString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\") + '<sup>&#8381</sup></span>');\n  $('#slider-range').slider({\n    slide: function slide(event, ui) {\n      // Update the range container values upon sliding\n      $('.range').html('<span class=\"range-value\">' + ui.values[0].toString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\") + '<sup>&#8381</sup></span> - <span class=\"range-value\">' + ui.values[1].toString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\") + '<sup>&#8381</sup></span>'); // Get old value\n\n      var previousVal = parseInt($(this).data('value')); // Save new value\n\n      $(this).data({\n        'value': parseInt(ui.value)\n      });\n    }\n  });\n});\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"../node_modules/jquery/dist/jquery.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ibG9ja3MvcmFuZ2Utc2xpZGVyL3JhbmdlLXNsaWRlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2Jsb2Nrcy9yYW5nZS1zbGlkZXIvcmFuZ2Utc2xpZGVyLmpzP2MyMDIiXSwic291cmNlc0NvbnRlbnQiOlsiJChmdW5jdGlvbigpIHtcclxuXHJcbiAgLy8gSW5pdGlhdGUgU2xpZGVyXHJcbiAgJCgnI3NsaWRlci1yYW5nZScpLnNsaWRlcih7XHJcbiAgICByYW5nZTogdHJ1ZSxcclxuICAgIG1pbjogNTAwMCxcclxuICAgIG1heDogMTAwMDAsXHJcbiAgICBzdGVwOiAxMDAsXHJcbiAgICB2YWx1ZXM6IFs1MDAwLCAxMDAwMF1cclxuICB9KTtcclxuXHJcbiAgLy8gQXBwbHkgaW5pdGlhbCB2YWx1ZXMgdG8gdGhlIHJhbmdlIGNvbnRhaW5lclxyXG4gICQoJy5yYW5nZScpLmh0bWwoJzxzcGFuIGNsYXNzPVwicmFuZ2UtdmFsdWVcIj4nICsgJCgnI3NsaWRlci1yYW5nZScpLnNsaWRlcihcInZhbHVlc1wiLCAwKS50b1N0cmluZygpLnJlcGxhY2UoLyhcXGQpKD89KFxcZFxcZFxcZCkrKD8hXFxkKSkvZywgXCIkMSxcIikgKyAnPHN1cD4mIzgzODE8L3N1cD48L3NwYW4+IC0gPHNwYW4gY2xhc3M9XCJyYW5nZS12YWx1ZVwiPicgKyAkKFwiI3NsaWRlci1yYW5nZVwiKS5zbGlkZXIoXCJ2YWx1ZXNcIiwgMSkudG9TdHJpbmcoKS5yZXBsYWNlKC8oXFxkKSg/PShcXGRcXGRcXGQpKyg/IVxcZCkpL2csIFwiJDEsXCIpICsgJzxzdXA+JiM4MzgxPC9zdXA+PC9zcGFuPicpO1xyXG5cclxuXHJcbiAgJCgnI3NsaWRlci1yYW5nZScpLnNsaWRlcih7XHJcbiAgICBzbGlkZTogZnVuY3Rpb24oZXZlbnQsIHVpKSB7XHJcblxyXG4gICAgICAvLyBVcGRhdGUgdGhlIHJhbmdlIGNvbnRhaW5lciB2YWx1ZXMgdXBvbiBzbGlkaW5nXHJcblxyXG4gICAgICAkKCcucmFuZ2UnKS5odG1sKCc8c3BhbiBjbGFzcz1cInJhbmdlLXZhbHVlXCI+JyArIHVpLnZhbHVlc1swXS50b1N0cmluZygpLnJlcGxhY2UoLyhcXGQpKD89KFxcZFxcZFxcZCkrKD8hXFxkKSkvZywgXCIkMSxcIikgKyAnPHN1cD4mIzgzODE8L3N1cD48L3NwYW4+IC0gPHNwYW4gY2xhc3M9XCJyYW5nZS12YWx1ZVwiPicgKyB1aS52YWx1ZXNbMV0udG9TdHJpbmcoKS5yZXBsYWNlKC8oXFxkKSg/PShcXGRcXGRcXGQpKyg/IVxcZCkpL2csIFwiJDEsXCIpICsgJzxzdXA+JiM4MzgxPC9zdXA+PC9zcGFuPicpO1xyXG5cclxuICAgICAgLy8gR2V0IG9sZCB2YWx1ZVxyXG4gICAgICB2YXIgcHJldmlvdXNWYWwgPSBwYXJzZUludCgkKHRoaXMpLmRhdGEoJ3ZhbHVlJykpO1xyXG5cclxuICAgICAgLy8gU2F2ZSBuZXcgdmFsdWVcclxuICAgICAgJCh0aGlzKS5kYXRhKHtcclxuICAgICAgICAndmFsdWUnOiBwYXJzZUludCh1aS52YWx1ZSlcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG59KTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQUNBO0FBUUE7QUFHQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFEQTtBQUdBO0FBZEE7QUFpQkE7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./blocks/range-slider/range-slider.js\n");

/***/ }),

/***/ "./index.js":
/*!******************!*\
  !*** ./index.js ***!
  \******************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _scss_main_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./scss/main.scss */ \"./scss/main.scss\");\n/* harmony import */ var _scss_main_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_scss_main_scss__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_jquery_ui_ui_widgets_slider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/jquery-ui/ui/widgets/slider */ \"../node_modules/jquery-ui/ui/widgets/slider.js\");\n/* harmony import */ var _node_modules_jquery_ui_ui_widgets_slider__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_jquery_ui_ui_widgets_slider__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _blocks_calendar_datepicker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ~blocks/calendar/datepicker */ \"./blocks/calendar/datepicker.js\");\n/* harmony import */ var _blocks_calendar_datepicker__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_blocks_calendar_datepicker__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _blocks_menu_menu__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ~blocks/menu/menu */ \"./blocks/menu/menu.js\");\n/* harmony import */ var _blocks_menu_menu__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_blocks_menu_menu__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _blocks_dropdown_dropdown__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ~blocks/dropdown/dropdown */ \"./blocks/dropdown/dropdown.js\");\n/* harmony import */ var _blocks_expandable_list_expandable_list__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ~blocks/expandable-list/expandable-list */ \"./blocks/expandable-list/expandable-list.js\");\n/* harmony import */ var _blocks_pagination_pagination__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ~blocks/pagination/pagination */ \"./blocks/pagination/pagination.js\");\n/* harmony import */ var _blocks_carousel_carousel__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ~blocks/carousel/carousel */ \"./blocks/carousel/carousel.js\");\n/* harmony import */ var _blocks_carousel_carousel__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_blocks_carousel_carousel__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _blocks_range_slider_range_slider__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ~blocks/range-slider/range-slider */ \"./blocks/range-slider/range-slider.js\");\n/* harmony import */ var _blocks_range_slider_range_slider__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_blocks_range_slider_range_slider__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _blocks_burger_burger__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ~blocks/burger/burger */ \"./blocks/burger/burger.js\");\n/* harmony import */ var _blocks_burger_burger__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_blocks_burger_burger__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _blocks_diagram_diagram__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ~blocks/diagram/diagram */ \"./blocks/diagram/diagram.js\");\n/* harmony import */ var _blocks_diagram_diagram__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_blocks_diagram_diagram__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _js_search_room__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./js/search-room */ \"./js/search-room.js\");\n/* harmony import */ var _js_search_room__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_js_search_room__WEBPACK_IMPORTED_MODULE_11__);\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction ibg() {\n  var ibg = document.querySelectorAll(\".ibg\");\n  ibg.forEach(function (elem) {\n    if (elem.querySelector('img')) {\n      var src = elem.querySelector('img').getAttribute('src').slice(2);\n      elem.style.backgroundImage = 'url(' + src + ')';\n    }\n  });\n}\n\nibg();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2luZGV4LmpzPzQxZjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuL3Njc3MvbWFpbi5zY3NzJ1xyXG5cclxuaW1wb3J0ICcuLi9ub2RlX21vZHVsZXMvanF1ZXJ5LXVpL3VpL3dpZGdldHMvc2xpZGVyJ1xyXG5cclxuaW1wb3J0ICd+YmxvY2tzL2NhbGVuZGFyL2RhdGVwaWNrZXInXHJcbmltcG9ydCAnfmJsb2Nrcy9tZW51L21lbnUnXHJcbmltcG9ydCAnfmJsb2Nrcy9kcm9wZG93bi9kcm9wZG93bidcclxuaW1wb3J0ICd+YmxvY2tzL2V4cGFuZGFibGUtbGlzdC9leHBhbmRhYmxlLWxpc3QnXHJcbmltcG9ydCAnfmJsb2Nrcy9wYWdpbmF0aW9uL3BhZ2luYXRpb24nXHJcbmltcG9ydCAnfmJsb2Nrcy9jYXJvdXNlbC9jYXJvdXNlbCdcclxuaW1wb3J0ICd+YmxvY2tzL3JhbmdlLXNsaWRlci9yYW5nZS1zbGlkZXInXHJcbmltcG9ydCAnfmJsb2Nrcy9idXJnZXIvYnVyZ2VyJ1xyXG5pbXBvcnQgJ35ibG9ja3MvZGlhZ3JhbS9kaWFncmFtJ1xyXG5pbXBvcnQgJy4vanMvc2VhcmNoLXJvb20nXHJcblxyXG5cclxuZnVuY3Rpb24gaWJnKCkge1xyXG4gIGxldCBpYmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmliZ1wiKTtcclxuICBpYmcuZm9yRWFjaChlbGVtID0+IHtcclxuICAgIGlmIChlbGVtLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpKSB7XHJcbiAgICAgIGxldCBzcmMgPSAoZWxlbS5xdWVyeVNlbGVjdG9yKCdpbWcnKS5nZXRBdHRyaWJ1dGUoJ3NyYycpKS5zbGljZSgyKTtcclxuICAgICAgZWxlbS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAndXJsKCcgKyBzcmMgKyAnKSc7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuaWJnKCk7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./index.js\n");

/***/ }),

/***/ "./js/search-room.js":
/*!***************************!*\
  !*** ./js/search-room.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var elem = document.querySelector(\".search__filters-button\");\n\nif (elem) {\n  elem.onclick = function () {\n    document.querySelector(\".search__filters\").classList.toggle('active');\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy9zZWFyY2gtcm9vbS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2pzL3NlYXJjaC1yb29tLmpzP2FkOWIiXSwic291cmNlc0NvbnRlbnQiOlsibGV0IGVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlYXJjaF9fZmlsdGVycy1idXR0b25cIik7XHJcbmlmKGVsZW0pe1xyXG4gIGVsZW0ub25jbGljayA9ICgpPT57XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlYXJjaF9fZmlsdGVyc1wiKS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcclxuICB9XHJcbn1cclxuXHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./js/search-room.js\n");

/***/ }),

/***/ "./scss/main.scss":
/*!************************!*\
  !*** ./scss/main.scss ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n    if(false) { var cssReload; }\n  //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zY3NzL21haW4uc2Nzcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3Njc3MvbWFpbi5zY3NzPzQ3NjEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG4gICAgaWYobW9kdWxlLmhvdCkge1xuICAgICAgLy8gMTYwMzI0MjEzODU4NlxuICAgICAgdmFyIGNzc1JlbG9hZCA9IHJlcXVpcmUoXCJEOi/QnNC+0Lkg0YXQu9Cw0Lwv0KPRh9C10LHQsC/QodCw0LnRgtGLL0ZTRF9TaXRlL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2htci9ob3RNb2R1bGVSZXBsYWNlbWVudC5qc1wiKShtb2R1bGUuaWQsIHtcImhtclwiOnRydWUsXCJsb2NhbHNcIjpmYWxzZX0pO1xuICAgICAgbW9kdWxlLmhvdC5kaXNwb3NlKGNzc1JlbG9hZCk7XG4gICAgICBtb2R1bGUuaG90LmFjY2VwdCh1bmRlZmluZWQsIGNzc1JlbG9hZCk7XG4gICAgfVxuICAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsZ0NBS0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scss/main.scss\n");

/***/ })

/******/ });
//# sourceMappingURL=index.js.map